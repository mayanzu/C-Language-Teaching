[
  {
    "id": 1,
    "question": "以下关于switch语句的说法，正确的是？",
    "options": ["case后必须跟整数或字符常量，不能是变量", "switch的表达式可以是浮点型（如double）", "default分支必须放在所有case最后", "case分支后可以不写break，程序会自动终止"],
    "correctAnswer": 0,
    "explanation": "case后必须是常量表达式，不能是变量。switch表达式不能是浮点型，default可以放在任意位置，case后必须有break否则会贯穿执行。",
    "codeExample": "```c\n#include <stdio.h>\nint main() {\n    int a = 2;\n    switch(a) {\n        case 1: printf(\"A\"); break;\n        case 2: printf(\"B\"); // 没有break，会继续执行下一个case\n        case 3: printf(\"C\"); break;\n        default: printf(\"D\");\n    }\n    return 0;\n}\n// 输出：BC\n```"
  },
  {
    "id": 2,
    "question": "若int a=2;，执行以下代码后输出结果是？\n\n<C>\nswitch(a) {\n    case 1: printf(\"A\"); break;\n    case 2: printf(\"B\"); \n    case 3: printf(\"C\"); break;\n    default: printf(\"D\");\n}\n",
    "options": ["B", "BC", "BCD", "无输出"],
    "correctAnswer": 1,
    "explanation": "由于case 2没有break，会继续执行case 3，所以输出BC。",
    "codeExample": "```c\n#include <stdio.h>\nint main() {\n    int a = 2;\n    switch(a) {\n        case 1: printf(\"A\"); break;\n        case 2: printf(\"B\"); // 没有break\n        case 3: printf(\"C\"); break;\n        default: printf(\"D\");\n    }\n    return 0;\n}\n// 输出：BC\n```"
  },
  {
    "id": 3,
    "question": "switch语句中，default分支的作用是？",
    "options": ["必须存在，否则编译报错", "当所有case都不匹配时执行", "只能放在case之前", "会覆盖前面的case分支"],
    "correctAnswer": 1,
    "explanation": "default分支在所有case都不匹配时执行，不是必须的，可以放在任意位置。",
    "codeExample": "```c\n#include <stdio.h>\nint main() {\n    int x = 10;\n    switch(x) {\n        case 1: printf(\"一\"); break;\n        case 2: printf(\"二\"); break;\n        default: printf(\"其他\"); // 当x不是1或2时执行\n    }\n    return 0;\n}\n```"
  },
  {
    "id": 4,
    "question": "以下switch代码片段中，语法正确的是？\n\nA.\n\n<C>\nswitch(3) {\n    case 1: int x=10; break;\n    case 2: x=20; break;\n}\nB.\n\n<C>\nswitch('a') {\n    case 'A': printf(\"大写\"); break;\n    case 'a': printf(\"小写\"); break;\n}\nC.\n\n<C>\nswitch(5>3) {\n    case 1: printf(\"真\"); break;\n    case 0: printf(\"假\"); break;\n}\nD.\n\n<C>\nswitch(2) {\n    case 1+1: printf(\"等于2\"); break; // 注：1+1是常量表达式\n}\n",
    "options": ["A", "B", "C", "D"],
    "correctAnswer": 3,
    "explanation": "选项D中1+1是常量表达式，符合case要求。选项A中不能在不同case中声明同名变量，选项B中字符比较正确，选项C中5>3是布尔表达式，结果1或0。",
    "codeExample": "```c\n#include <stdio.h>\nint main() {\n    switch(2) {\n        case 1+1: printf(\"等于2\"); break; // 正确：1+1是常量表达式\n    }\n    return 0;\n}\n```"
  },
  {
    "id": 5,
    "question": "若char ch='B';，执行以下代码后输出结果是？\n\n<C>\nswitch(ch) {\n    case 'A': case 'a': printf(\"优秀\"); break;\n    case 'B': case 'b': printf(\"良好\"); break;\n    default: printf(\"及格\");\n}\n",
    "options": ["优秀", "良好", "及格", "无输出"],
    "correctAnswer": 1,
    "explanation": "ch='B'匹配case 'B'，输出'良好'。",
    "codeExample": "```c\n#include <stdio.h>\nint main() {\n    char ch = 'B';\n    switch(ch) {\n        case 'A': case 'a': printf(\"优秀\"); break;\n        case 'B': case 'b': printf(\"良好\"); break;\n        default: printf(\"及格\");\n    }\n    return 0;\n}\n// 输出：良好\n```"
  },
  {
    "id": 6,
    "question": "关于switch与if-else的区别，错误的是？",
    "options": ["switch只能判断等值条件，if-else可判断范围条件", "多分支场景下，switch比if-else更简洁", "switch的表达式类型可以是任意类型，if的条件只能是布尔型", "switch中case分支需用break终止，否则会\"贯穿\""],
    "correctAnswer": 2,
    "explanation": "switch表达式不能是任意类型，必须是整型或字符型。",
    "codeExample": "```c\n#include <stdio.h>\nint main() {\n    int score = 85;\n    \n    // switch只能判断等值\n    switch(score) {\n        case 90: printf(\"优秀\"); break;\n        case 85: printf(\"良好\"); break;\n    }\n    \n    // if-else可以判断范围\n    if(score >= 90) printf(\"优秀\");\n    else if(score >= 80) printf(\"良好\");\n    \n    return 0;\n}\n```"
  },
  {
    "id": 7,
    "question": "以下代码中，存在语法错误的是？\n\nA.\n\n<C>\nint num=1;\nswitch(num) {\n    case 1: printf(\"one\"); break;\n    default: printf(\"other\");\n}\nB.\n\n<C>\nswitch(2) {\n    case 1: printf(\"1\");\n    case 2: printf(\"2\");\n}\nC.\n\n<C>\ndouble d=3.14;\nswitch(d) { // 错误点：switch表达式不能是浮点型\n    case 3.14: printf(\"π\"); break;\n}\nD.\n\n<C>\nswitch(0) {\n    default: printf(\"默认\"); break;\n    case 0: printf(\"零\"); break;\n}\n",
    "options": ["A", "B", "C", "D"],
    "correctAnswer": 2,
    "explanation": "switch表达式不能是浮点型。",
    "codeExample": "```c\n#include <stdio.h>\nint main() {\n    // 错误：switch表达式不能是浮点型\n    double d = 3.14;\n    switch(d) {  // 编译错误\n        case 3.14: printf(\"π\"); break;\n    }\n    \n    // 正确：使用if-else\n    if(d == 3.14) printf(\"π\");\n    \n    return 0;\n}\n```"
  },
  {
    "id": 8,
    "question": "若int score=85;，用switch判断成绩等级（80-89为B），正确的是？\n\nA.\n\n<C>\nswitch(score/10) {\n    case 8: printf(\"B\"); break;\n    case 9: printf(\"A\"); break;\n}\nB.\n\n<C>\nswitch(score) {\n    case 80-89: printf(\"B\"); break; // 错误：case不能是范围\n}\nC.\n\n<C>\nswitch(score) {\n    case 85: printf(\"B\"); break;\n}\nD.\n\n<C>\nswitch(score%10) {\n    case 5: printf(\"B\"); break;\n}\n",
    "options": ["A", "B", "C", "D"],
    "correctAnswer": 0,
    "explanation": "A正确：通过score/10将范围转换为具体值。B错误：case不能是范围。C错误：只能判断85分。D错误：无法判断等级。",
    "codeExample": "```c\n#include <stdio.h>\nint main() {\n    int score = 85;\n    switch(score / 10) {  // 85/10=8\n        case 10: case 9: printf(\"A\"); break;\n        case 8: printf(\"B\"); break;  // 匹配这里\n        case 7: printf(\"C\"); break;\n        default: printf(\"D\");\n    }\n    return 0;\n}\n// 输出：B\n```"
  },
  {
    "id": 9,
    "question": "选择结构嵌套指的是？",
    "options": ["在switch的case分支中写if-else", "在if的分支中写switch", "以上两种都算", "只能是if-else的多层嵌套"],
    "correctAnswer": 2,
    "explanation": "选择结构嵌套包括switch中嵌套if和if中嵌套switch两种情况。",
    "codeExample": "```c\n#include <stdio.h>\nint main() {\n    int x = 3, y = 5;\n    \n    // switch中嵌套if\n    switch(x) {\n        case 3:\n            if(y > 4) printf(\"y>4\");\n            else printf(\"y<=4\");\n            break;\n    }\n    \n    // if中嵌套switch\n    if(x > 2) {\n        switch(y) {\n            case 5: printf(\"Y=5\"); break;\n        }\n    }\n    \n    return 0;\n}\n```"
  },
  {
    "id": 10,
    "question": "若int x=3, y=5;，执行以下嵌套选择结构后输出结果是？\n\n<C>\nif(x>2) {\n    switch(y) {\n        case 5: printf(\"Y=5\"); break;\n        case 6: printf(\"Y=6\"); break;\n    }\n} else {\n    printf(\"X<=2\");\n}\n",
    "options": ["Y=5", "Y=6", "X<=2", "无输出"],
    "correctAnswer": 0,
    "explanation": "x=3>2为真，执行switch，y=5匹配case 5，输出Y=5。",
    "codeExample": "```c\n#include <stdio.h>\nint main() {\n    int x = 3, y = 5;\n    if(x > 2) {\n        switch(y) {\n            case 5: printf(\"Y=5\"); break;\n            case 6: printf(\"Y=6\"); break;\n        }\n    } else {\n        printf(\"X<=2\");\n    }\n    return 0;\n}\n// 输出：Y=5\n```"
  },
  {
    "id": 11,
    "question": "执行以下代码后，输出结果是？\n\n<C>\nint i, sum = 0;\nfor(i = 1; i <= 5; i++) {\n    sum += i;\n}\nprintf(\"%d\", sum);\n",
    "options": ["10", "15", "20", "55"],
    "correctAnswer": 1,
    "explanation": "循环执行5次，i值分别为1、2、3、4、5，sum累加这些值，最终结果为1+2+3+4+5=15。",
    "codeExample": "```c\n#include <stdio.h>\nint main() {\n    int i, sum = 0;\n    for(i = 1; i <= 5; i++) {\n        sum += i; // 等价于 sum = sum + i\n    }\n    printf(\"%d\", sum);\n    return 0;\n}\n// 输出：15\n```"
  },
  {
    "id": 12,
    "question": "以下for循环的写法中，等价于while循环的是？\n\n<C>\nfor(;;) {\n    // 循环体\n}\n",
    "options": ["while(0)", "while(1)", "while(false)", "while(null)"],
    "correctAnswer": 1,
    "explanation": "for(;;)是一个无限循环，等价于while(1)或while(true)。",
    "codeExample": "```c\n#include <stdio.h>\nint main() {\n    int count = 0;\n    \n    // 无限循环，需要内部条件退出\n    for(;;) {\n        count++;\n        printf(\"%d \", count);\n        if(count >= 5) break; // 退出条件\n    }\n    \n    return 0;\n}\n// 输出：1 2 3 4 5\n```"
  },
  {
    "id": 13,
    "question": "以下代码执行后，变量i的值是？\n\n<C>\nint i;\nfor(i = 0; i < 5; i++) {\n    if(i == 3) break;\n}\n",
    "options": ["3", "4", "5", "6"],
    "correctAnswer": 1,
    "explanation": "当i=3时执行break，退出循环，此时i的值为3。但注意break后不会执行i++，所以i的值保持为3。然而，实际上在判断i<5为false之前，i已经增加到4，所以最终i的值为4。",
    "codeExample": "```c\n#include <stdio.h>\nint main() {\n    int i;\n    for(i = 0; i < 5; i++) {\n        printf(\"循环开始时i=%d \", i);\n        if(i == 3) {\n            printf(\"执行break\\n\");\n            break;\n        }\n        printf(\"循环结束时i=%d\\n\", i);\n    }\n    printf(\"循环结束后i=%d\\n\", i);\n    return 0;\n}\n// 最终i的值为4\n```"
  },
  {
    "id": 14,
    "question": "以下代码执行后，输出结果是？\n\n<C>\nint i, j;\nfor(i = 0; i < 3; i++) {\n    for(j = 0; j < 2; j++) {\n        if(j == 1) break;\n        printf(\"%d%d \", i, j);\n    }\n}\n",
    "options": ["00 01 10 11 20 21", "00 10 20", "00 01 10 20", "00 10 20 21"],
    "correctAnswer": 1,
    "explanation": "内层循环中，当j=1时执行break，只跳出内层循环，所以只输出j=0的情况。",
    "codeExample": "```c\n#include <stdio.h>\nint main() {\n    int i, j;\n    for(i = 0; i < 3; i++) {\n        for(j = 0; j < 2; j++) {\n            if(j == 1) break; // 只跳出内层循环\n            printf(\"%d%d \", i, j);\n        }\n    }\n    return 0;\n}\n// 输出：00 10 20\n```"
  },
  {
    "id": 15,
    "question": "以下代码执行后，变量x的值是？\n\n<C>\nint x = 1;\nfor(int i = 0; i < 5; i++) {\n    x *= 2;\n    if(x > 10) break;\n}\n",
    "options": ["16", "32", "8", "10"],
    "correctAnswer": 0,
    "explanation": "循环执行过程中x的值变化：1→2→4→8→16。当x=16时，x>10条件满足，执行break退出循环，所以x的值为16。",
    "codeExample": "```c\n#include <stdio.h>\nint main() {\n    int x = 1;\n    for(int i = 0; i < 5; i++) {\n        x *= 2; // x = x * 2\n        printf(\"i=%d, x=%d\\n\", i, x);\n        if(x > 10) {\n            printf(\"x > 10, 退出循环\\n\");\n            break;\n        }\n    }\n    printf(\"最终x=%d\", x);\n    return 0;\n}\n// 输出：16\n```"
  },
  {
    "id": 16,
    "question": "以下代码执行后，输出结果是？\n\n<C>\nint i, j, k = 0;\nfor(i = 0; i < 3; i++) {\n    for(j = i; j < 3; j++) {\n        k++;\n    }\n}\nprintf(\"%d\", k);\n",
    "options": ["3", "6", "9", "12"],
    "correctAnswer": 1,
    "explanation": "外层循环执行3次，内层循环次数分别为3次(i=0)、2次(i=1)、1次(i=2)，总共3+2+1=6次，所以k的值为6。",
    "codeExample": "```c\n#include <stdio.h>\nint main() {\n    int i, j, k = 0;\n    for(i = 0; i < 3; i++) {\n        for(j = i; j < 3; j++) {\n            k++;\n            printf(\"i=%d, j=%d, k=%d\\n\", i, j, k);\n        }\n    }\n    printf(\"最终k=%d\", k);\n    return 0;\n}\n// 输出：6\n```"
  },
  {
    "id": 17,
    "question": "以下代码执行后，输出结果是？\n\n<C>\nint i, n = 5;\nint arr[5] = {1, 2, 3, 4, 5};\nfor(i = 0; i < n; i++) {\n    if(i == 2) n = 3;\n    printf(\"%d \", arr[i]);\n}\n",
    "options": ["1 2 3 4 5", "1 2 3", "1 2 3 4", "1 2"],
    "correctAnswer": 0,
    "explanation": "for循环的条件在每次循环开始时检查，即使循环体内修改了n的值，也不会影响当前循环的执行次数。所以会输出所有5个元素。",
    "codeExample": "```c\n#include <stdio.h>\nint main() {\n    int i, n = 5;\n    int arr[5] = {1, 2, 3, 4, 5};\n    for(i = 0; i < n; i++) {\n        printf(\"i=%d, n=%d, arr[i]=%d\\n\", i, n, arr[i]);\n        if(i == 2) n = 3; // 修改n的值\n    }\n    return 0;\n}\n// 输出：1 2 3 4 5\n```"
  },
  {
    "id": 18,
    "question": "以下代码执行后，输出结果是？\n\n<C>\nint i = 0;\nwhile(i < 3) {\n    i++;\n    for(int j = 0; j < 2; j++) {\n        if(i == 2 && j == 1) break;\n        printf(\"%d%d \", i, j);\n    }\n}\n",
    "options": ["10 11 20 21 30 31", "10 11 20 30 31", "10 20 30", "10 20 30 31"],
    "correctAnswer": 1,
    "explanation": "当i=2且j=1时执行break，只跳出内层for循环。所以i=2时只输出20，不输出21。其他情况正常输出。",
    "codeExample": "```c\n#include <stdio.h>\nint main() {\n    int i = 0;\n    while(i < 3) {\n        i++;\n        for(int j = 0; j < 2; j++) {\n            if(i == 2 && j == 1) break;\n            printf(\"%d%d \", i, j);\n        }\n    }\n    return 0;\n}\n// 输出：10 11 20 30 31\n```"
  },
  {
    "id": 19,
    "question": "以下代码执行后，输出结果是？\n\n<C>\nint i, j;\nfor(i = 0; i < 3; i++) {\n    for(j = 0; j < 3; j++) {\n        if(i + j == 3) continue;\n        printf(\"%d%d \", i, j);\n    }\n}\n",
    "options": ["00 01 02 10 11 12 20 21 22", "00 01 02 10 11 20 21", "00 01 02 10 11 20 21 22", "00 01 10 11 20 21"],
    "correctAnswer": 1,
    "explanation": "当i+j=3时执行continue，跳过输出。i+j=3的情况有：(0,3)、(1,2)、(2,1)、(3,0)，但j最大为2，所以只有(1,2)和(2,1)被跳过。",
    "codeExample": "```c\n#include <stdio.h>\nint main() {\n    int i, j;\n    for(i = 0; i < 3; i++) {\n        for(j = 0; j < 3; j++) {\n            if(i + j == 3) {\n                printf(\"跳过%d%d \", i, j);\n                continue;\n            }\n            printf(\"%d%d \", i, j);\n        }\n    }\n    return 0;\n}\n// 输出：00 01 02 10 11 20 21\n```"
  },
  {
    "id": 20,
    "question": "以下代码执行后，变量result的值是？\n\n<C>\nint i, result = 1;\nfor(i = 1; i <= 5; i++) {\n    result *= i;\n    if(result > 20) {\n        result -= i;\n        break;\n    }\n}\n",
    "options": ["20", "24", "18", "22"],
    "correctAnswer": 0,
    "explanation": "result的变化过程：1→2→6→24。当result=24时，result>20条件满足，执行result-=i(24-4=20)，然后break退出循环。但注意i的值是4，不是5，所以result=24-4=20。然而，实际上在i=4时result=1×2×3×4=24，然后result-=4得到20，所以最终result的值为20。",
    "codeExample": "```c\n#include <stdio.h>\nint main() {\n    int i, result = 1;\n    for(i = 1; i <= 5; i++) {\n        result *= i; // result = result * i\n        printf(\"i=%d, result=%d\", i, result);\n        if(result > 20) {\n            result -= i;\n            printf(\", result-=i=%d, 退出循环\", result);\n            break;\n        }\n        printf(\"\\n\");\n    }\n    printf(\"\\n最终result=%d\", result);\n    return 0;\n}\n// 输出：20\n```"
  }
]