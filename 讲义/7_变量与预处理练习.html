<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å˜é‡ä¸é¢„å¤„ç†ç»ƒä¹  - Cè¯­è¨€æ•™ç¨‹</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- ä¾§è¾¹å¯¼èˆªæ  -->
    <nav class="tutorial-nav">
        <ul>
            <li><a href="#intro" class="active">ç®€ä»‹</a></li>
            <li><a href="#variables">å˜é‡ä½œç”¨åŸŸ</a></li>
            <li><a href="#static">é™æ€å˜é‡</a></li>
            <li><a href="#macros">å®å®šä¹‰</a></li>
            <li><a href="#preprocessing">é¢„å¤„ç†æŒ‡ä»¤</a></li>
            
        </ul>
    </nav>

    <!-- ä¸»å†…å®¹åŒºåŸŸ -->
    <main class="tutorial-content">
        <!-- é¡µé¢æ ‡é¢˜ -->
        <header class="tutorial-header">
            <h1>å˜é‡ä¸é¢„å¤„ç†ç»ƒä¹ </h1>
            <p>æŒæ¡ C è¯­è¨€å˜é‡ä½œç”¨åŸŸå’Œé¢„å¤„ç†æŒ‡ä»¤</p>
        </header>
            <!-- ç®€ä»‹ -->
            <section id="intro" class="section">
                <h2 class="section-title">å˜é‡ä¸é¢„å¤„ç†åŸºç¡€</h2>
                <div class="subsection-content">
                    <p>å˜é‡æœ‰ä¸åŒçš„ä½œç”¨åŸŸå’Œç”Ÿå­˜æœŸï¼Œé¢„å¤„ç†æŒ‡ä»¤åœ¨ç¼–è¯‘å‰å¯¹æºä»£ç è¿›è¡Œå¤„ç†ã€‚ç†è§£è¿™äº›æ¦‚å¿µå¯¹äºç¼–å†™é«˜è´¨é‡çš„Cç¨‹åºè‡³å…³é‡è¦ã€‚</p>
                    
                    <div class="new-learner-tip">
                        <strong>æ–°æ‰‹æ³¨æ„ï¼š</strong>
                        <ul>
                            <li>å±€éƒ¨å˜é‡åªåœ¨å‡½æ•°å†…æœ‰æ•ˆ</li>
                            <li>å…¨å±€å˜é‡åœ¨æ•´ä¸ªç¨‹åºä¸­æœ‰æ•ˆ</li>
                            <li>é¢„å¤„ç†åœ¨ç¼–è¯‘å‰æ‰§è¡Œ</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- å˜é‡ä½œç”¨åŸŸ -->
            <section id="variables" class="section">
                <h2 class="section-title">å˜é‡ä½œç”¨åŸŸ</h2>
                
                <div class="subsection">
                    <h3 class="subsection-title">å±€éƒ¨å˜é‡ä¸å…¨å±€å˜é‡</h3>
                    <div class="code-block">
                    <div class="code-block-title">å˜é‡ä½œç”¨åŸŸç¤ºä¾‹</div>
                    <pre><code><span class="c-comment">// å±€éƒ¨å˜é‡ä¸å…¨å±€å˜é‡</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">int</span> global_var = <span class="c-number">100</span>;  <span class="c-comment">// å…¨å±€å˜é‡</span>

<span class="c-keyword">void</span> <span class="c-function">func1</span>() {
    <span class="c-keyword">int</span> local_var = <span class="c-number">200</span>;  <span class="c-comment">// å±€éƒ¨å˜é‡</span>
    <span class="c-function">printf</span>(<span class="c-string">"func1: global=%d, local=%d\n"</span>, global_var, local_var);
}

<span class="c-keyword">void</span> <span class="c-function">func2</span>() {
    <span class="c-keyword">int</span> global_var = <span class="c-number">300</span>;  <span class="c-comment">// å±€éƒ¨å˜é‡éšè—å…¨å±€å˜é‡</span>
    <span class="c-function">printf</span>(<span class="c-string">"func2: local global=%d\n"</span>, global_var);
}

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">int</span> local_var = <span class="c-number">400</span>;  <span class="c-comment">// mainçš„å±€éƒ¨å˜é‡</span>
    
    <span class="c-function">printf</span>(<span class="c-string">"main: global=%d, local=%d\n"</span>, global_var, local_var);
    
    <span class="c-function">func1</span>();
    <span class="c-function">func2</span>();
    
    <span class="c-function">printf</span>(<span class="c-string">"main: global=%d (unchanged)\n"</span>, global_var);
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                </div>
                </div>

                <div class="practice-questions">
                    <h3 class="subsection-title">å°±åœ°ç»ƒä¹ ï¼šå˜é‡ä½œç”¨åŸŸå¯¹æ¯”</h3>
                    <div class="question-item">
                        <p><strong>ç»ƒä¹ 1ï¼š</strong> å®šä¹‰ä¸€ä¸ªå…¨å±€è®¡æ•°å™¨å˜é‡ï¼Œåœ¨å‡½æ•°å†…å®šä¹‰åŒåçš„å±€éƒ¨å˜é‡ï¼Œè§‚å¯Ÿå˜é‡éšè—ç°è±¡å¹¶å­¦ä¼šå¦‚ä½•è®¿é—®è¢«éšè—çš„å…¨å±€å˜é‡ã€‚</p>
                        <details>
                            <summary>å‚è€ƒç­”æ¡ˆä¸ç¤ºä¾‹ä»£ç </summary>
                            <div class="code-block">
                                <div class="code-block-title">å˜é‡éšè—</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">int</span> count = <span class="c-number">100</span>;  <span class="c-comment">// å…¨å±€</span>

<span class="c-keyword">void</span> <span class="c-function">test</span>() {
    <span class="c-keyword">int</span> count = <span class="c-number">200</span>;  <span class="c-comment">// å±€éƒ¨ï¼Œéšè—å…¨å±€</span>
    <span class="c-function">printf</span>(<span class="c-string">"å±€éƒ¨count: %d\n"</span>, count);
    
    <span class="c-comment">// è®¿é—®å…¨å±€å˜é‡éœ€è¦åœ¨å‡½æ•°å¤–éƒ¨ï¼Œæˆ–ä½¿ç”¨externæŒ‡é’ˆ</span>
}

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-function">printf</span>(<span class="c-string">"å…¨å±€count: %d\n"</span>, count);
    test();
    <span class="c-function">printf</span>(<span class="c-string">"å…¨å±€countä»ä¸º: %d\n"</span>, count);

    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </details>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">å˜é‡ä½œç”¨åŸŸçš„è¯¦ç»†åˆ†ç±»</h3>
                    
                    <div class="scope-types">
                        <div class="scope-type">
                            <h4>1. å…¨å±€ä½œç”¨åŸŸ</h4>
                            <div class="code-block">
                                <div class="code-block-title">å…¨å±€å˜é‡ç¤ºä¾‹</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-comment">// å…¨å±€å˜é‡ï¼šç¨‹åºå¼€å§‹æ—¶åˆ†é…ï¼Œç»“æŸæ—¶é‡Šæ”¾</span>
<span class="c-keyword">int</span> global_counter = <span class="c-number">0</span>;
<span class="c-keyword">const</span> <span class="c-keyword">double</span> PI = <span class="c-number">3.14159</span>;  <span class="c-comment">// å…¨å±€å¸¸é‡</span>

<span class="c-keyword">void</span> <span class="c-function">increment_counter</span>() {
    global_counter++;  <span class="c-comment">// å¯ä»¥è®¿é—®å’Œä¿®æ”¹å…¨å±€å˜é‡</span>
}

<span class="c-keyword">double</span> <span class="c-function">calculate_circle_area</span>(<span class="c-keyword">double</span> radius) {
    <span class="c-keyword">return</span> PI * radius * radius;  <span class="c-comment">// ä½¿ç”¨å…¨å±€å¸¸é‡</span>
}

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-function">printf</span>(<span class="c-string">"åˆå§‹è®¡æ•°å™¨: %d\n"</span>, global_counter);
    
    <span class="c-function">increment_counter</span>();
    <span class="c-function">increment_counter</span>();
    
    <span class="c-function">printf</span>(<span class="c-string">"è°ƒç”¨ä¸¤æ¬¡å: %d\n"</span>, global_counter);
    
    <span class="c-keyword">double</span> area = <span class="c-function">calculate_circle_area</span>(<span class="c-number">5.0</span>);
    <span class="c-function">printf</span>(<span class="c-string">"åŠå¾„5çš„åœ†é¢ç§¯: %.2f\n"</span>, area);
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </div>

                        <div class="scope-type">
                            <h4>2. å‡½æ•°ä½œç”¨åŸŸ</h4>
                            <div class="code-block">
                                <div class="code-block-title">å‡½æ•°å±€éƒ¨å˜é‡</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">void</span> <span class="c-function">function_scope_demo</span>() {
    <span class="c-keyword">int</span> func_var = <span class="c-number">42</span>;  <span class="c-comment">// å‡½æ•°ä½œç”¨åŸŸå˜é‡</span>
    <span class="c-function">printf</span>(<span class="c-string">"å‡½æ•°å†…: func_var = %d\n"</span>, func_var);
    
    {  <span class="c-comment">// å—ä½œç”¨åŸŸå¼€å§‹</span>
        <span class="c-keyword">int</span> block_var = <span class="c-number">100</span>;  <span class="c-comment">// å—ä½œç”¨åŸŸå˜é‡</span>
        <span class="c-function">printf</span>(<span class="c-string">"å—å†…: func_var = %d, block_var = %d\n"</span>, func_var, block_var);
    }  <span class="c-comment">// å—ä½œç”¨åŸŸç»“æŸï¼Œblock_varè¢«é”€æ¯</span>
    
    <span class="c-comment">// printf("%d", block_var); // é”™è¯¯ï¼šblock_varä¸åœ¨ä½œç”¨åŸŸå†…</span>
}

<span class="c-keyword">void</span> <span class="c-function">another_function</span>() {
    <span class="c-comment">// printf("%d", func_var); // é”™è¯¯ï¼šfunc_varä¸åœ¨ä½œç”¨åŸŸå†…</span>
}

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-function">function_scope_demo</span>();
    <span class="c-function">another_function</span>();
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </div>

                        <div class="scope-type">
                            <h4>3. å—ä½œç”¨åŸŸ</h4>
                            <div class="code-block">
                                <div class="code-block-title">å—ä½œç”¨åŸŸå˜é‡</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">int</span> outer_var = <span class="c-number">10</span>;
    
    <span class="c-function">printf</span>(<span class="c-string">"å¤–å±‚: outer_var = %d\n"</span>, outer_var);
    
    {  <span class="c-comment">// ç¬¬ä¸€ä¸ªå—</span>
        <span class="c-keyword">int</span> inner_var = <span class="c-number">20</span>;
        <span class="c-function">printf</span>(<span class="c-string">"ç¬¬ä¸€å—: outer_var = %d, inner_var = %d\n"</span>, outer_var, inner_var);
        
        {  <span class="c-comment">// åµŒå¥—å—</span>
            <span class="c-keyword">int</span> inner_most = <span class="c-number">30</span>;
            <span class="c-function">printf</span>(<span class="c-string">"åµŒå¥—å—: outer_var = %d, inner_var = %d, inner_most = %d\n"</span>, 
                   outer_var, inner_var, inner_most);
        }  <span class="c-comment">// inner_most è¢«é”€æ¯</span>
        
        <span class="c-function">printf</span>(<span class="c-string">"å›åˆ°ç¬¬ä¸€å—: outer_var = %d, inner_var = %d\n"</span>, outer_var, inner_var);
    }  <span class="c-comment">// inner_var è¢«é”€æ¯</span>
    
    <span class="c-function">printf</span>(<span class="c-string">"å›åˆ°å¤–å±‚: outer_var = %d\n"</span>, outer_var);
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">å®é™…åº”ç”¨ï¼šå¤šæ¨¡å—ç¨‹åºè®¾è®¡</h3>
                    <div class="code-block">
                        <div class="code-block-title">å˜é‡ä½œç”¨åŸŸåœ¨å®é™…é¡¹ç›®ä¸­çš„åº”ç”¨</div>
                        <pre><code><span class="c-comment">// æ–‡ä»¶1: main.c</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-comment">// å…¨å±€å˜é‡å£°æ˜ï¼ˆåœ¨å…¶ä»–æ–‡ä»¶ä¸­å®šä¹‰ï¼‰</span>
<span class="c-keyword">extern</span> <span class="c-keyword">int</span> total_users;
<span class="c-keyword">extern</span> <span class="c-keyword">char</span> system_name[];

<span class="c-comment">// å‡½æ•°å£°æ˜</span>
<span class="c-keyword">void</span> <span class="c-function">user_management</span>();
<span class="c-keyword">void</span> <span class="c-function">data_processing</span>();

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-function">printf</span>(<span class="c-string">"=== %s ç³»ç»Ÿ ===\n"</span>, system_name);
    <span class="c-function">printf</span>(<span class="c-string">"å½“å‰ç”¨æˆ·æ•°: %d\n\n"</span>, total_users);
    
    <span class="c-keyword">int</span> choice;
    <span class="c-keyword">do</span> {
        <span class="c-function">printf</span>(<span class="c-string">"1. ç”¨æˆ·ç®¡ç†\n"</span>);
        <span class="c-function">printf</span>(<span class="c-string">"2. æ•°æ®å¤„ç†\n"</span>);
        <span class="c-function">printf</span>(<span class="c-string">"0. é€€å‡º\n"</span>);
        <span class="c-function">printf</span>(<span class="c-string">"è¯·é€‰æ‹©: "</span>);
        <span class="c-function">scanf</span>(<span class="c-string">"%d"</span>, &choice);
        
        <span class="c-keyword">switch</span>(choice) {
            <span class="c-keyword">case</span> <span class="c-number">1</span>:
                <span class="c-function">user_management</span>();
                <span class="c-keyword">break</span>;
            <span class="c-keyword">case</span> <span class="c-number">2</span>:
                <span class="c-function">data_processing</span>();
                <span class="c-keyword">break</span>;
            <span class="c-keyword">case</span> <span class="c-number">0</span>:
                <span class="c-function">printf</span>(<span class="c-string">"å†è§!\n"</span>);
                <span class="c-keyword">break</span>;
            <span class="c-keyword">default</span>:
                <span class="c-function">printf</span>(<span class="c-string">"æ— æ•ˆé€‰æ‹©!\n"</span>);
        }
        <span class="c-function">printf</span>(<span class="c-string">"\n"</span>);
    } <span class="c-keyword">while</span>(choice != <span class="c-number">0</span>);
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}

<span class="c-comment">// æ–‡ä»¶2: user.c</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-comment">// å…¨å±€å˜é‡å®šä¹‰</span>
<span class="c-keyword">int</span> total_users = <span class="c-number">0</span>;
<span class="c-keyword">char</span> system_name[] = <span class="c-string">"ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ"</span>;

<span class="c-keyword">void</span> <span class="c-function">user_management</span>() {
    <span class="c-keyword">static</span> <span class="c-keyword">int</span> operations_count = <span class="c-number">0</span>;  <span class="c-comment">// é™æ€å±€éƒ¨å˜é‡</span>
    operations_count++;
    
    <span class="c-function">printf</span>(<span class="c-string">"ç”¨æˆ·ç®¡ç†æ¨¡å— (ç¬¬%dæ¬¡æ“ä½œ)\n"</span>, operations_count);
    <span class="c-function">printf</span>(<span class="c-string">"å½“å‰ç”¨æˆ·æ•°: %d\n"</span>, total_users);
    
    <span class="c-keyword">int</span> new_users;
    <span class="c-function">printf</span>(<span class="c-string">"è¾“å…¥æ–°å¢ç”¨æˆ·æ•°: "</span>);
    <span class="c-function">scanf</span>(<span class="c-string">"%d"</span>, &new_users);
    
    total_users += new_users;  <span class="c-comment">// ä¿®æ”¹å…¨å±€å˜é‡</span>
    <span class="c-function">printf</span>(<span class="c-string">"æ›´æ–°åç”¨æˆ·æ•°: %d\n"</span>, total_users);
}

<span class="c-comment">// æ–‡ä»¶3: data.c</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">void</span> <span class="c-function">data_processing</span>() {
    <span class="c-keyword">int</span> local_data = <span class="c-number">100</span>;  <span class="c-comment">// å‡½æ•°å±€éƒ¨å˜é‡</span>
    
    <span class="c-function">printf</span>(<span class="c-string">"æ•°æ®å¤„ç†æ¨¡å—\n"</span>);
    <span class="c-function">printf</span>(<span class="c-string">"å±€éƒ¨æ•°æ®: %d\n"</span>, local_data);
    <span class="c-function">printf</span>(<span class="c-string">"å…¨å±€ç”¨æˆ·æ•°: %d\n"</span>, total_users);  <span class="c-comment">// è®¿é—®å…¨å±€å˜é‡</span>
    
    {  <span class="c-comment">// å—ä½œç”¨åŸŸ</span>
        <span class="c-keyword">int</span> temp_result = local_data * <span class="c-number">2</span>;
        <span class="c-function">printf</span>(<span class="c-string">"ä¸´æ—¶è®¡ç®—ç»“æœ: %d\n"</span>, temp_result);
    }  <span class="c-comment">// temp_result è¢«é”€æ¯</span>
}</code></pre>
                    </div>
                </div>

                <div class="practice-questions">
                    <h3 class="subsection-title">å°±åœ°ç»ƒä¹ ï¼šexternå¤šæ¨¡å—åä½œ</h3>
                    <div class="question-item">
                        <p><strong>ç»ƒä¹ 2ï¼š</strong> æ¨¡æ‹Ÿä¸¤ä¸ªæ–‡ä»¶ï¼šåœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­å®šä¹‰å…¨å±€å˜é‡å’Œå‡½æ•°ï¼Œåœ¨å¦ä¸€ä¸ªæ–‡ä»¶ä¸­ä½¿ç”¨ <code>extern</code> å£°æ˜å¹¶è®¿é—®è¯¥å˜é‡ã€‚ï¼ˆç®€å•æ¨¡æ‹Ÿï¼šå¯é€šè¿‡æ³¨é‡Šç†è§£å¤šæ–‡ä»¶é€»è¾‘ï¼‰</p>
                        <details>
                            <summary>å‚è€ƒç­”æ¡ˆä¸ç¤ºä¾‹ä»£ç </summary>
                            <div class="code-block">
                                <div class="code-block-title">externä½¿ç”¨ç¤ºä¾‹</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-comment">// æ¨¡æ‹Ÿ file1.c å®šä¹‰</span>
<span class="c-keyword">int</span> shared_data = <span class="c-number">500</span>;
<span class="c-keyword">void</span> <span class="c-function">update_data</span>(<span class="c-keyword">int</span> delta) {
    shared_data += delta;
}

<span class="c-comment">// æ¨¡æ‹Ÿ file2.c ä½¿ç”¨</span>
<span class="c-keyword">extern</span> <span class="c-keyword">int</span> shared_data;
<span class="c-keyword">extern</span> <span class="c-keyword">void</span> <span class="c-function">update_data</span>(<span class="c-keyword">int</span>);

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-function">printf</span>(<span class="c-string">"åˆå§‹å€¼: %d\n"</span>, shared_data);
    update_data(<span class="c-number">100</span>);
    <span class="c-function">printf</span>(<span class="c-string">"æ›´æ–°å: %d\n"</span>, shared_data);

    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </details>
                    </div>
                </div>
            </section>

            <!-- é™æ€å˜é‡ -->
            <section id="static" class="section">
                <h2 class="section-title">é™æ€å˜é‡</h2>
                
                <div class="subsection">
                    <h3 class="subsection-title">staticå…³é”®å­—çš„ä½¿ç”¨</h3>
                    <div class="subsection-content">
                        <h4>ä»€ä¹ˆæ˜¯staticå…³é”®å­—ï¼Ÿ</h4>
                        <p>staticï¼ˆé™æ€ï¼‰å…³é”®å­—åœ¨Cè¯­è¨€ä¸­æœ‰ä¸¤ä¸ªä¸»è¦ä½œç”¨ï¼š<strong>æ”¹å˜å˜é‡çš„ç”Ÿå­˜æœŸ</strong>å’Œ<strong>é™åˆ¶å˜é‡/å‡½æ•°çš„ä½œç”¨åŸŸ</strong>ã€‚ç†è§£staticæ˜¯æŒæ¡Cè¯­è¨€æ¨¡å—åŒ–ç¼–ç¨‹çš„å…³é”®ã€‚</p>
                        
                        <h4>staticçš„ä¸¤ç§ä¸»è¦ç”¨æ³•</h4>
                        <ul>
                            <li><strong>é™æ€å±€éƒ¨å˜é‡ï¼š</strong>åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨staticï¼Œå˜é‡ä¿æŒåœ¨å†…å­˜ä¸­ä¸è¢«é”€æ¯ï¼Œä½†ä½œç”¨åŸŸä»é™äºå‡½æ•°å†…</li>
                            <li><strong>é™æ€å…¨å±€å˜é‡/å‡½æ•°ï¼š</strong>åœ¨å‡½æ•°å¤–éƒ¨ä½¿ç”¨staticï¼Œé™åˆ¶å˜é‡/å‡½æ•°åªèƒ½åœ¨å½“å‰æ–‡ä»¶ä¸­è®¿é—®</li>
                        </ul>
                        
                        <h4>é™æ€å±€éƒ¨å˜é‡ vs æ™®é€šå±€éƒ¨å˜é‡</h4>
                        <div class="code-block">
                        <div class="code-block-title">å¯¹æ¯”ç¤ºä¾‹</div>
                        <pre><code><span class="c-comment">// é™æ€å±€éƒ¨å˜é‡ vs æ™®é€šå±€éƒ¨å˜é‡</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">void</span> <span class="c-function">counter</span>() {
    <span class="c-keyword">static</span> <span class="c-keyword">int</span> count = <span class="c-number">0</span>;  <span class="c-comment">// é™æ€å±€éƒ¨å˜é‡</span>
    <span class="c-comment">// ç‰¹ç‚¹1ï¼šåªåœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶åˆå§‹åŒ–</span>
    <span class="c-comment">// ç‰¹ç‚¹2ï¼šå‡½æ•°ç»“æŸåä¸é”€æ¯ï¼Œä¿ç•™å€¼</span>
    <span class="c-comment">// ç‰¹ç‚¹3ï¼šå­˜å‚¨åœ¨é™æ€å­˜å‚¨åŒºï¼Œä¸æ˜¯æ ˆä¸Š</span>
    count++;
    <span class="c-function">printf</span>(<span class="c-string">"é™æ€å˜é‡ count = %d\n"</span>, count);
}

<span class="c-keyword">void</span> <span class="c-function">regular_counter</span>() {
    <span class="c-keyword">int</span> count = <span class="c-number">0</span>;  <span class="c-comment">// æ™®é€šå±€éƒ¨å˜é‡</span>
    <span class="c-comment">// ç‰¹ç‚¹1ï¼šæ¯æ¬¡è°ƒç”¨éƒ½é‡æ–°åˆå§‹åŒ–ä¸º0</span>
    <span class="c-comment">// ç‰¹ç‚¹2ï¼šå‡½æ•°ç»“æŸåç«‹å³é”€æ¯</span>
    <span class="c-comment">// ç‰¹ç‚¹3ï¼šå­˜å‚¨åœ¨æ ˆä¸Š</span>
    count++;
    <span class="c-function">printf</span>(<span class="c-string">"æ™®é€šå˜é‡ count = %d\n"</span>, count);
}

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-function">printf</span>(<span class="c-string">"é™æ€å˜é‡æµ‹è¯•ï¼ˆå€¼ä¼šç´¯åŠ ï¼‰:\n"</span>);
    <span class="c-function">counter</span>();  <span class="c-comment">// è¾“å‡º: 1</span>
    <span class="c-function">counter</span>();  <span class="c-comment">// è¾“å‡º: 2</span>
    <span class="c-function">counter</span>();  <span class="c-comment">// è¾“å‡º: 3</span>
    
    <span class="c-function">printf</span>(<span class="c-string">"\næ™®é€šå˜é‡æµ‹è¯•ï¼ˆæ¯æ¬¡éƒ½æ˜¯1ï¼‰:\n"</span>);
    <span class="c-function">regular_counter</span>();  <span class="c-comment">// è¾“å‡º: 1</span>
    <span class="c-function">regular_counter</span>();  <span class="c-comment">// è¾“å‡º: 1</span>
    <span class="c-function">regular_counter</span>();  <span class="c-comment">// è¾“å‡º: 1</span>
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                    </div>
                    
                    <div class="tip-box">
                        <strong>ğŸ’¡ é™æ€å˜é‡çš„å…³é”®ç‰¹æ€§ï¼š</strong>
                        <ul>
                            <li><strong>åˆå§‹åŒ–æ—¶æœºï¼š</strong>åªåœ¨ç¨‹åºç¬¬ä¸€æ¬¡æ‰§è¡Œåˆ°å®šä¹‰å¤„æ—¶åˆå§‹åŒ–ä¸€æ¬¡</li>
                            <li><strong>ç”Ÿå­˜æœŸï¼š</strong>ä»ç¨‹åºå¼€å§‹åˆ°ç¨‹åºç»“æŸï¼Œä¸€ç›´å­˜åœ¨</li>
                            <li><strong>ä½œç”¨åŸŸï¼š</strong>ä»ç„¶åªèƒ½åœ¨å®šä¹‰å®ƒçš„å‡½æ•°å†…è®¿é—®</li>
                            <li><strong>é»˜è®¤å€¼ï¼š</strong>æœªæ˜¾å¼åˆå§‹åŒ–çš„é™æ€å˜é‡è‡ªåŠ¨åˆå§‹åŒ–ä¸º0</li>
                        </ul>
                    </div>
                    </div>
                </div>
                
                <div class="subsection">
                    <h3 class="subsection-title">staticå˜é‡ç»ƒä¹ </h3>
                    <div class="practice-questions">
                        <div class="question-item">
                            <p><strong>ç»ƒä¹ 1ï¼šå‡½æ•°è°ƒç”¨è®¡æ•°å™¨</strong></p>
                            <p>ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ¯æ¬¡è°ƒç”¨æ—¶è¾“å‡º"è¿™æ˜¯ç¬¬Xæ¬¡è°ƒç”¨"ï¼Œä½¿ç”¨é™æ€å˜é‡è®°å½•è°ƒç”¨æ¬¡æ•°ã€‚</p>
                            <details class="answer">
                                <summary>æŸ¥çœ‹å‚è€ƒç­”æ¡ˆ</summary>
                                <div class="code-block">
                                    <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">void</span> <span class="c-function">trackCalls</span>() {
    <span class="c-keyword">static</span> <span class="c-keyword">int</span> callCount = <span class="c-number">0</span>;
    callCount++;
    <span class="c-function">printf</span>(<span class="c-string">"è¿™æ˜¯ç¬¬%dæ¬¡è°ƒç”¨\n"</span>, callCount);
}

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">for</span> (<span class="c-keyword">int</span> i = <span class="c-number">0</span>; i < <span class="c-number">5</span>; i++) {
        <span class="c-function">trackCalls</span>();
    }
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}
<span class="c-comment">// è¾“å‡ºï¼š
// è¿™æ˜¯ç¬¬1æ¬¡è°ƒç”¨
// è¿™æ˜¯ç¬¬2æ¬¡è°ƒç”¨
// è¿™æ˜¯ç¬¬3æ¬¡è°ƒç”¨
// è¿™æ˜¯ç¬¬4æ¬¡è°ƒç”¨
// è¿™æ˜¯ç¬¬5æ¬¡è°ƒç”¨</span></code></pre>
                                </div>
                            </details>
                        </div>
                        
                        <div class="question-item">
                            <p><strong>ç»ƒä¹ 2ï¼šç´¯è®¡æ±‚å’Œå‡½æ•°</strong></p>
                            <p>ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ªæ•´æ•°å‚æ•°ï¼Œå°†æ‰€æœ‰ä¼ å…¥çš„æ•°ç´¯åŠ èµ·æ¥å¹¶è¿”å›ç´¯è®¡æ€»å’Œã€‚</p>
                            <details class="answer">
                                <summary>æŸ¥çœ‹å‚è€ƒç­”æ¡ˆ</summary>
                                <div class="code-block">
                                    <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">int</span> <span class="c-function">accumulateSum</span>(<span class="c-keyword">int</span> value) {
    <span class="c-keyword">static</span> <span class="c-keyword">int</span> total = <span class="c-number">0</span>;  <span class="c-comment">// é™æ€å˜é‡ä¿æŒç´¯è®¡å€¼</span>
    total += value;
    <span class="c-keyword">return</span> total;
}

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-function">printf</span>(<span class="c-string">"ç´¯è®¡å’Œ: %d\n"</span>, <span class="c-function">accumulateSum</span>(<span class="c-number">10</span>));  <span class="c-comment">// 10</span>
    <span class="c-function">printf</span>(<span class="c-string">"ç´¯è®¡å’Œ: %d\n"</span>, <span class="c-function">accumulateSum</span>(<span class="c-number">20</span>));  <span class="c-comment">// 30</span>
    <span class="c-function">printf</span>(<span class="c-string">"ç´¯è®¡å’Œ: %d\n"</span>, <span class="c-function">accumulateSum</span>(<span class="c-number">15</span>));  <span class="c-comment">// 45</span>
    <span class="c-function">printf</span>(<span class="c-string">"ç´¯è®¡å’Œ: %d\n"</span>, <span class="c-function">accumulateSum</span>(-<span class="c-number">5</span>));  <span class="c-comment">// 40</span>
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                                </div>
                            </details>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">é™æ€å˜é‡çš„è¯¦ç»†åº”ç”¨</h3>
                    
                    <div class="static-types">
                        <div class="static-type">
                            <h4>1. é™æ€å±€éƒ¨å˜é‡</h4>
                            <div class="code-block">
                                <div class="code-block-title">é™æ€å±€éƒ¨å˜é‡åº”ç”¨</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">int</span> <span class="c-function">generate_id</span>() {
    <span class="c-keyword">static</span> <span class="c-keyword">int</span> next_id = <span class="c-number">1000</span>;  <span class="c-comment">// é™æ€å±€éƒ¨å˜é‡ï¼Œä¿æŒçŠ¶æ€</span>
    <span class="c-keyword">return</span> next_id++;
}

<span class="c-keyword">void</span> <span class="c-function">log_message</span>(<span class="c-keyword">const</span> <span class="c-keyword">char</span> *message) {
    <span class="c-keyword">static</span> <span class="c-keyword">int</span> log_count = <span class="c-number">0</span>;  <span class="c-comment">// è®°å½•æ—¥å¿—æ¬¡æ•°</span>
    log_count++;
    <span class="c-function">printf</span>(<span class="c-string">"[%d] %s\n"</span>, log_count, message);
}

<span class="c-keyword">double</span> <span class="c-function">running_average</span>(<span class="c-keyword">double</span> new_value) {
    <span class="c-keyword">static</span> <span class="c-keyword">double</span> sum = <span class="c-number">0.0</span>;
    <span class="c-keyword">static</span> <span class="c-keyword">int</span> count = <span class="c-number">0</span>;
    
    sum += new_value;
    count++;
    
    <span class="c-keyword">return</span> sum / count;
}

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">int</span> i;
    <span class="c-function">printf</span>(<span class="c-string">"ç”ŸæˆID:\n"</span>);
    <span class="c-keyword">for</span> (<span class="c-keyword">int</span> i = <span class="c-number">0</span>; i < <span class="c-number">5</span>; i++) {
        <span class="c-function">printf</span>(<span class="c-string">"ID: %d\n"</span>, <span class="c-function">generate_id</span>());
    }
    
    <span class="c-function">printf</span>(<span class="c-string">"\næ—¥å¿—è®°å½•:\n"</span>);
    <span class="c-function">log_message</span>(<span class="c-string">"ç¨‹åºå¯åŠ¨"</span>);
    <span class="c-function">log_message</span>(<span class="c-string">"æ­£åœ¨åˆå§‹åŒ–"</span>);
    <span class="c-function">log_message</span>(<span class="c-string">"åˆå§‹åŒ–å®Œæˆ"</span>);
    
    <span class="c-function">printf</span>(<span class="c-string">"\nè¿è¡Œå¹³å‡å€¼:\n"</span>);
    <span class="c-keyword">double</span> values[] = {<span class="c-number">10.0</span>, <span class="c-number">15.0</span>, <span class="c-number">12.0</span>, <span class="c-number">18.0</span>, <span class="c-number">20.0</span>};
    <span class="c-keyword">for</span> (<span class="c-keyword">int</span> i = <span class="c-number">0</span>; i < <span class="c-number">5</span>; i++) {
        <span class="c-function">printf</span>(<span class="c-string">"æ·»åŠ  %.1fï¼Œå¹³å‡å€¼: %.2f\n"</span>, values[i], <span class="c-function">running_average</span>(values[i]));
    }
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </div>

                        <div class="static-type">
                            <h4>2. é™æ€å…¨å±€å˜é‡</h4>
                            <div class="code-block">
                                <div class="code-block-title">é™æ€å…¨å±€å˜é‡</div>
                                <pre><code><span class="c-comment">// æ–‡ä»¶1: static_global.c</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-comment">// æ™®é€šå…¨å±€å˜é‡ï¼šå¯ä»¥åœ¨å…¶ä»–æ–‡ä»¶ä¸­è®¿é—®</span>
<span class="c-keyword">int</span> global_counter = <span class="c-number">0</span>;

<span class="c-comment">// é™æ€å…¨å±€å˜é‡ï¼šåªèƒ½åœ¨æœ¬æ–‡ä»¶ä¸­è®¿é—®</span>
<span class="c-keyword">static</span> <span class="c-keyword">int</span> static_global_counter = <span class="c-number">0</span>;

<span class="c-keyword">void</span> <span class="c-function">increment_global</span>() {
    global_counter++;
}

<span class="c-keyword">void</span> <span class="c-function">increment_static_global</span>() {
    static_global_counter++;
}

<span class="c-keyword">void</span> <span class="c-function">print_counters</span>() {
    <span class="c-function">printf</span>(<span class="c-string">"æ™®é€šå…¨å±€å˜é‡: %d\n"</span>, global_counter);
    <span class="c-function">printf</span>(<span class="c-string">"é™æ€å…¨å±€å˜é‡: %d\n"</span>, static_global_counter);
}

<span class="c-comment">// æ–‡ä»¶2: main.c</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-comment">// å¯ä»¥è®¿é—®æ™®é€šå…¨å±€å˜é‡</span>
<span class="c-keyword">extern</span> <span class="c-keyword">int</span> global_counter;
<span class="c-keyword">extern</span> <span class="c-keyword">void</span> <span class="c-function">increment_global</span>();
<span class="c-keyword">extern</span> <span class="c-keyword">void</span> <span class="c-function">print_counters</span>();

<span class="c-comment">// æ— æ³•è®¿é—®é™æ€å…¨å±€å˜é‡ï¼ˆç¼–è¯‘é”™è¯¯ï¼‰</span>
<span class="c-comment">// extern int static_global_counter; // é”™è¯¯ï¼</span>
<span class="c-comment">// extern void increment_static_global(); // é”™è¯¯ï¼</span>

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-function">increment_global</span>();
    <span class="c-function">print_counters</span>();
    
    <span class="c-comment">// æ— æ³•è°ƒç”¨é™æ€å‡½æ•°</span>
    <span class="c-comment">// increment_static_global(); // é”™è¯¯ï¼</span>
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </div>

                        <div class="static-type">
                            <h4>3. é™æ€å‡½æ•°</h4>
                            <div class="code-block">
                                <div class="code-block-title">é™æ€å‡½æ•°</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-comment">// æ™®é€šå‡½æ•°ï¼šå¯ä»¥åœ¨å…¶ä»–æ–‡ä»¶ä¸­è°ƒç”¨</span>
<span class="c-keyword">void</span> <span class="c-function">public_function</span>() {
    <span class="c-function">printf</span>(<span class="c-string">"è¿™æ˜¯å…¬å…±å‡½æ•°\n"</span>);
}

<span class="c-comment">// é™æ€å‡½æ•°ï¼šåªèƒ½åœ¨æœ¬æ–‡ä»¶ä¸­è°ƒç”¨</span>
<span class="c-keyword">static</span> <span class="c-keyword">void</span> <span class="c-function">private_function</span>() {
    <span class="c-function">printf</span>(<span class="c-string">"è¿™æ˜¯ç§æœ‰å‡½æ•°\n"</span>);
}

<span class="c-keyword">static</span> <span class="c-keyword">int</span> <span class="c-function">helper_add</span>(<span class="c-keyword">int</span> a, <span class="c-keyword">int</span> b) {
    <span class="c-keyword">return</span> a + b;
}

<span class="c-keyword">void</span> <span class="c-function">use_helper</span>() {
    <span class="c-keyword">int</span> result = <span class="c-function">helper_add</span>(<span class="c-number">10</span>, <span class="c-number">20</span>);  <span class="c-comment">// å¯ä»¥åœ¨æœ¬æ–‡ä»¶ä¸­è°ƒç”¨é™æ€å‡½æ•°</span>
    <span class="c-function">printf</span>(<span class="c-string">"è®¡ç®—ç»“æœ: %d\n"</span>, result);
    <span class="c-function">private_function</span>();  <span class="c-comment">// å¯ä»¥åœ¨æœ¬æ–‡ä»¶ä¸­è°ƒç”¨é™æ€å‡½æ•°</span>
}

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-function">public_function</span>();   <span class="c-comment">// å¯ä»¥è°ƒç”¨</span>
    <span class="c-function">use_helper</span>();       <span class="c-comment">// å¯ä»¥è°ƒç”¨</span>
    
    <span class="c-comment">// private_function(); // é”™è¯¯ï¼šæ— æ³•åœ¨mainä¸­ç›´æ¥è°ƒç”¨é™æ€å‡½æ•°</span>
    <span class="c-comment">// helper_add(1, 2);   // é”™è¯¯ï¼šæ— æ³•åœ¨mainä¸­ç›´æ¥è°ƒç”¨é™æ€å‡½æ•°</span>
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">å®é™…åº”ç”¨ï¼šæ¨¡å—åŒ–ç¨‹åºè®¾è®¡</h3>
                    <div class="code-block">
                        <div class="code-block-title">é™æ€å˜é‡åœ¨æ¨¡å—åŒ–è®¾è®¡ä¸­çš„åº”ç”¨</div>
                        <pre><code><span class="c-comment">// æ–‡ä»¶: math_utils.c - æ•°å­¦å·¥å…·æ¨¡å—</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-comment">// å…¬å…±æ¥å£</span>
<span class="c-keyword">double</span> <span class="c-function">calculate_average</span>(<span class="c-keyword">double</span> value);
<span class="c-keyword">void</span> <span class="c-function">reset_calculator</span>();
<span class="c-keyword">void</span> <span class="c-function">print_statistics</span>();

<span class="c-comment">// ç§æœ‰æ•°æ®ï¼ˆé™æ€å…¨å±€å˜é‡ï¼‰</span>
<span class="c-keyword">static</span> <span class="c-keyword">double</span> sum = <span class="c-number">0.0</span>;
<span class="c-keyword">static</span> <span class="c-keyword">int</span> count = <span class="c-number">0</span>;
<span class="c-keyword">static</span> <span class="c-keyword">double</span> min_value = <span class="c-number">1e100</span>;
<span class="c-keyword">static</span> <span class="c-keyword">double</span> max_value = <span class="c-number">-1e100</span>;

<span class="c-comment">// ç§æœ‰è¾…åŠ©å‡½æ•°</span>
<span class="c-keyword">static</span> <span class="c-keyword">void</span> <span class="c-function">update_statistics</span>(<span class="c-keyword">double</span> value) {
    <span class="c-keyword">if</span>(value < min_value) min_value = value;
    <span class="c-keyword">if</span>(value > max_value) max_value = value;
}

<span class="c-keyword">double</span> <span class="c-function">calculate_average</span>(<span class="c-keyword">double</span> value) {
    sum += value;
    count++;
    <span class="c-function">update_statistics</span>(value);  <span class="c-comment">// è°ƒç”¨ç§æœ‰å‡½æ•°</span>
    <span class="c-keyword">return</span> sum / count;
}

<span class="c-keyword">void</span> <span class="c-function">reset_calculator</span>() {
    sum = <span class="c-number">0.0</span>;
    count = <span class="c-number">0</span>;
    min_value = <span class="c-number">1e100</span>;
    max_value = <span class="c-number">-1e100</span>;
}

<span class="c-keyword">void</span> <span class="c-function">print_statistics</span>() {
    <span class="c-function">printf</span>(<span class="c-string">"ç»Ÿè®¡ä¿¡æ¯:\n"</span>);
    <span class="c-function">printf</span>(<span class="c-string">"  æ ·æœ¬æ•°é‡: %d\n"</span>, count);
    <span class="c-function">printf</span>(<span class="c-string">"  æ€»å’Œ: %.2f\n"</span>, sum);
    <span class="c-function">printf</span>(<span class="c-string">"  å¹³å‡å€¼: %.2f\n"</span>, count > <span class="c-number">0</span> ? sum / count : <span class="c-number">0</span>);
    <span class="c-function">printf</span>(<span class="c-string">"  æœ€å°å€¼: %.2f\n"</span>, min_value);
    <span class="c-function">printf</span>(<span class="c-string">"  æœ€å¤§å€¼: %.2f\n"</span>, max_value);
}

<span class="c-comment">// æ–‡ä»¶: main.c - ä¸»ç¨‹åº</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-comment">// å£°æ˜å¤–éƒ¨å‡½æ•°</span>
<span class="c-keyword">extern</span> <span class="c-keyword">double</span> <span class="c-function">calculate_average</span>(<span class="c-keyword">double</span> value);
<span class="c-keyword">extern</span> <span class="c-keyword">void</span> <span class="c-function">reset_calculator</span>();
<span class="c-keyword">extern</span> <span class="c-keyword">void</span> <span class="c-function">print_statistics</span>();

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">int</span> i;
    <span class="c-keyword">double</span> values[] = {<span class="c-number">85.5</span>, <span class="c-number">92.0</span>, <span class="c-number">78.5</span>, <span class="c-number">96.5</span>, <span class="c-number">88.0</span>};
    
    <span class="c-function">printf</span>(<span class="c-string">"æ·»åŠ æˆç»©å¹¶è®¡ç®—å¹³å‡å€¼:\n"</span>);
    <span class="c-keyword">for</span> (<span class="c-keyword">int</span> i = <span class="c-number">0</span>; i < <span class="c-number">5</span>; i++) {
        <span class="c-keyword">double</span> avg = <span class="c-function">calculate_average</span>(values[i]);
        <span class="c-function">printf</span>(<span class="c-string">"æ·»åŠ  %.1fï¼Œå½“å‰å¹³å‡å€¼: %.2f\n"</span>, values[i], avg);
    }
    
    <span class="c-function">print_statistics</span>();
    
    <span class="c-function">printf</span>(<span class="c-string">"\né‡ç½®è®¡ç®—å™¨:\n"</span>);
    <span class="c-function">reset_calculator</span>();
    <span class="c-function">print_statistics</span>();
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                    </div>
                </div>

                <div class="practice-questions">
                    <h3 class="subsection-title">å°±åœ°ç»ƒä¹ ï¼šstaticéšè—ä¸å°è£…</h3>
                    <div class="question-item">
                        <p><strong>ç»ƒä¹ 3ï¼š</strong> ä½¿ç”¨staticå…¨å±€å˜é‡å®ç°ä¸€ä¸ªç®€å•çš„â€œè®¡æ•°å™¨æ¨¡å—â€ï¼Œæä¾›å¢ã€å‡å’ŒæŸ¥è¯¢æ¥å£ï¼Œç¦æ­¢å¤–éƒ¨ç›´æ¥è®¿é—®è®¡æ•°å™¨å†…éƒ¨å˜é‡ã€‚</p>
                        <details>
                            <summary>å‚è€ƒç­”æ¡ˆä¸ç¤ºä¾‹ä»£ç </summary>
                            <div class="code-block">
                                <div class="code-block-title">å°è£…è®¡æ•°å™¨</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">static</span> <span class="c-keyword">int</span> counter = <span class="c-number">0</span>;  <span class="c-comment">// éšè—ï¼Œå¤–éƒ¨ä¸å¯ç›´æ¥è®¿é—®</span>

<span class="c-keyword">void</span> <span class="c-function">increment</span>() { counter++; }
<span class="c-keyword">void</span> <span class="c-function">decrement</span>() { counter--; }
<span class="c-keyword">int</span> <span class="c-function">get_count</span>() { <span class="c-keyword">return</span> counter; }

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-function">printf</span>(<span class="c-string">"åˆå§‹: %d\n"</span>, get_count());
    increment();
    increment();
    <span class="c-function">printf</span>(<span class="c-string">"å¢åŠ 2æ¬¡: %d\n"</span>, get_count());
    decrement();
    <span class="c-function">printf</span>(<span class="c-string">"å‡1æ¬¡: %d\n"</span>, get_count());

    <span class="c-comment">// counter = 0; // é”™è¯¯ï¼å¤–éƒ¨æ— æ³•è®¿é—®</span>

    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </details>
                    </div>
                </div>
            </section>

            <!-- å®å®šä¹‰ -->
            <section id="macros" class="section">
                <h2 class="section-title">å®å®šä¹‰</h2>
                
                <div class="subsection">
                    <h3 class="subsection-title">#defineæŒ‡ä»¤è¯¦è§£</h3>
                    <div class="subsection-content">
                        <h4>ä»€ä¹ˆæ˜¯å®å®šä¹‰ï¼Ÿ</h4>
                        <p>å®å®šä¹‰ï¼ˆ#defineï¼‰æ˜¯Cè¯­è¨€<strong>é¢„å¤„ç†å™¨</strong>çš„åŠŸèƒ½ï¼Œåœ¨ç¼–è¯‘ä¹‹å‰è¿›è¡Œ<strong>æ–‡æœ¬æ›¿æ¢</strong>ã€‚å¯ä»¥ç†è§£ä¸º"æŸ¥æ‰¾å¹¶æ›¿æ¢"æ“ä½œï¼Œé¢„å¤„ç†å™¨ä¼šæŠŠä»£ç ä¸­æ‰€æœ‰çš„å®åæ›¿æ¢æˆå¯¹åº”çš„æ–‡æœ¬ã€‚</p>
                        
                        <h4>å®å®šä¹‰ vs å¸¸é‡/å‡½æ•°</h4>
                        <ul>
                            <li><strong>å¤„ç†æ—¶æœºï¼š</strong>å®åœ¨ç¼–è¯‘å‰ç”±é¢„å¤„ç†å™¨å¤„ç†ï¼Œä¸ç»è¿‡ç±»å‹æ£€æŸ¥</li>
                            <li><strong>æ›¿æ¢æ–¹å¼ï¼š</strong>ç®€å•çš„æ–‡æœ¬æ›¿æ¢ï¼Œä¸æ˜¯å˜é‡èµ‹å€¼æˆ–å‡½æ•°è°ƒç”¨</li>
                            <li><strong>æ•ˆç‡ä¼˜åŠ¿ï¼š</strong>æ²¡æœ‰å‡½æ•°è°ƒç”¨å¼€é”€ï¼Œä»£ç ç›´æ¥å±•å¼€</li>
                            <li><strong>æ½œåœ¨é£é™©ï¼š</strong>æ²¡æœ‰ç±»å‹æ£€æŸ¥ï¼Œå¯èƒ½äº§ç”Ÿæ„å¤–ç»“æœ</li>
                        </ul>
                        
                        <h4>å®å®šä¹‰çš„ä¸¤ç§ä¸»è¦å½¢å¼</h4>
                        <div class="code-block">
                        <div class="code-block-title">å®å®šä¹‰è¯¦è§£</div>
                        <pre><code><span class="c-comment">// å®å®šä¹‰çš„åŸºç¡€ä½¿ç”¨</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-comment">// å½¢å¼1ï¼šç®€å•å®å®šä¹‰ï¼ˆå¯¹è±¡å®ï¼‰ - å®šä¹‰å¸¸é‡</span>
<span class="c-keyword">#define</span> PI <span class="c-number">3.141592653589793</span>          <span class="c-comment">// æ•°å­¦å¸¸é‡</span>
<span class="c-keyword">#define</span> MAX_BUFFER_SIZE <span class="c-number">1024</span>        <span class="c-comment">// é…ç½®å‚æ•°</span>
<span class="c-keyword">#define</span> PROGRAM_NAME <span class="c-string">"Cè¯­è¨€å­¦ä¹ ç¨‹åº"</span>  <span class="c-comment">// å­—ç¬¦ä¸²å¸¸é‡</span>
<span class="c-keyword">#define</span> TRUE <span class="c-number">1</span>                       <span class="c-comment">// å¸ƒå°”å€¼</span>
<span class="c-keyword">#define</span> FALSE <span class="c-number">0</span>

<span class="c-comment">// å½¢å¼2ï¼šå‡½æ•°å®å®šä¹‰ï¼ˆå¸¦å‚æ•°çš„å®ï¼‰</span>
<span class="c-comment">// æ³¨æ„ï¼šå‚æ•°å‘¨å›´å¿…é¡»åŠ æ‹¬å·ï¼Œé¿å…è¿ç®—ä¼˜å…ˆçº§é—®é¢˜</span>
<span class="c-keyword">#define</span> SQUARE(x) ((x) * (x))              <span class="c-comment">// å¹³æ–¹</span>
<span class="c-keyword">#define</span> CUBE(x) ((x) * (x) * (x))          <span class="c-comment">// ç«‹æ–¹</span>
<span class="c-keyword">#define</span> MAX(a, b) ((a) > (b) ? (a) : (b))  <span class="c-comment">// å–æœ€å¤§å€¼</span>
<span class="c-keyword">#define</span> MIN(a, b) ((a) < (b) ? (a) : (b))  <span class="c-comment">// å–æœ€å°å€¼</span>
<span class="c-keyword">#define</span> ABS(x) ((x) >= <span class="c-number">0</span> ? (x) : -(x))     <span class="c-comment">// ç»å¯¹å€¼</span>
<span class="c-keyword">#define</span> IS_EVEN(x) ((x) % <span class="c-number">2</span> == <span class="c-number">0</span>)       <span class="c-comment">// åˆ¤æ–­å¶æ•°</span>

<span class="c-comment">// å¤šè¡Œå®å®šä¹‰ï¼ˆä½¿ç”¨åæ–œæ \è¿æ¥ï¼‰</span>
<span class="c-keyword">#define</span> SWAP(a, b) do { \
    <span class="c-keyword">int</span> temp = (a); \
    (a) = (b); \
    (b) = temp; \
} while(<span class="c-number">0</span>)

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-comment">// ä½¿ç”¨ç®€å•å®</span>
    <span class="c-function">printf</span>(<span class="c-string">"ç¨‹åºåç§°: %s\n"</span>, PROGRAM_NAME);
    <span class="c-function">printf</span>(<span class="c-string">"PI = %.10f\n"</span>, PI);
    <span class="c-function">printf</span>(<span class="c-string">"æœ€å¤§ç¼“å†²åŒºå¤§å°: %d\n"</span>, MAX_BUFFER_SIZE);
    
    <span class="c-keyword">int</span> x = <span class="c-number">5</span>, y = <span class="c-number">10</span>;
    <span class="c-function">printf</span>(<span class="c-string">"\næ•°å€¼è¿ç®—:\n"</span>);
    <span class="c-function">printf</span>(<span class="c-string">"SQUARE(%d) = %d\n"</span>, x, SQUARE(x));
    <span class="c-function">printf</span>(<span class="c-string">"CUBE(%d) = %d\n"</span>, x, CUBE(x));
    <span class="c-function">printf</span>(<span class="c-string">"MAX(%d, %d) = %d\n"</span>, x, y, MAX(x, y));
    <span class="c-function">printf</span>(<span class="c-string">"MIN(%d, %d) = %d\n"</span>, x, y, MIN(x, y));
    <span class="c-function">printf</span>(<span class="c-string">"ABS(%d) = %d\n"</span>, -x, ABS(-x));
    
    <span class="c-function">printf</span>(<span class="c-string">"\né€»è¾‘åˆ¤æ–­:\n"</span>);
    <span class="c-function">printf</span>(<span class="c-string">"%d æ˜¯å¶æ•°: %s\n"</span>, x, IS_EVEN(x) ? <span class="c-string">"æ˜¯"</span> : <span class="c-string">"å¦"</span>);
    <span class="c-function">printf</span>(<span class="c-string">"%d æ˜¯å¶æ•°: %s\n"</span>, y, IS_EVEN(y) ? <span class="c-string">"æ˜¯"</span> : <span class="c-string">"å¦"</span>);
    
    <span class="c-function">printf</span>(<span class="c-string">"\näº¤æ¢å‰: x = %d, y = %d\n"</span>, x, y);
    SWAP(x, y);
    <span class="c-function">printf</span>(<span class="c-string">"äº¤æ¢å: x = %d, y = %d\n"</span>, x, y);
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">å®å®šä¹‰çš„æ³¨æ„äº‹é¡¹</h3>
                    
                    <div class="macro-cautions">
                        <div class="caution-item">
                            <h4>1. æ‹¬å·çš„é‡è¦æ€§</h4>
                            <div class="code-block">
                                <div class="code-block-title">æ‹¬å·ä½¿ç”¨ç¤ºä¾‹</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-comment">// é”™è¯¯çš„å®å®šä¹‰ï¼ˆæ²¡æœ‰æ‹¬å·ï¼‰</span>
<span class="c-keyword">#define</span> BAD_SQUARE(x) x * x
<span class="c-keyword">#define</span> BAD_MAX(a, b) a &gt; b ? a : b

<span class="c-comment">// æ­£ç¡®çš„å®å®šä¹‰ï¼ˆæœ‰æ‹¬å·ï¼‰</span>
<span class="c-keyword">#define</span> GOOD_SQUARE(x) ((x) * (x))
<span class="c-keyword">#define</span> GOOD_MAX(a, b) ((a) &gt; (b) ? (a) : (b))

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">int</span> a = <span class="c-number">2</span>, b = <span class="c-number">3</span>;
    
    <span class="c-function">printf</span>(<span class="c-string">"é”™è¯¯çš„å®:\n"</span>);
    <span class="c-function">printf</span>(<span class="c-string">"BAD_SQUARE(a + b) = %d\n"</span>, BAD_SQUARE(a + b));  <span class="c-comment">// 2+3*2+3 = 11</span>
    <span class="c-function">printf</span>(<span class="c-string">"BAD_MAX(a, b) * 2 = %d\n"</span>, BAD_MAX(a, b) * <span class="c-number">2</span>);  <span class="c-comment">// a&gt;b?a:b*2 = 6</span>
    
    <span class="c-function">printf</span>(<span class="c-string">"\næ­£ç¡®çš„å®:\n"</span>);
    <span class="c-function">printf</span>(<span class="c-string">"GOOD_SQUARE(a + b) = %d\n"</span>, GOOD_SQUARE(a + b));  <span class="c-comment">// ((2+3)*(2+3)) = 25</span>
    <span class="c-function">printf</span>(<span class="c-string">"GOOD_MAX(a, b) * 2 = %d\n"</span>, GOOD_MAX(a, b) * <span class="c-number">2</span>);  <span class="c-comment">// ((2&gt;3?2:3))*2 = 6</span>
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </div>

                        <div class="caution-item">
                            <h4>2. å®å±•å¼€çš„å‰¯ä½œç”¨</h4>
                            <div class="code-block">
                                <div class="code-block-title">å®å±•å¼€å‰¯ä½œç”¨ç¤ºä¾‹</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">#define</span> SQUARE(x) ((x) * (x))
<span class="c-keyword">#define</span> INCREMENT(x) ((x)++)

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">int</span> x = <span class="c-number">5</span>;
    
    <span class="c-function">printf</span>(<span class="c-string">"x = %d\n"</span>, x);
    <span class="c-function">printf</span>(<span class="c-string">"SQUARE(x) = %d\n"</span>, SQUARE(x));  <span class="c-comment">// ((x)*(x)) = 25</span>
    <span class="c-function">printf</span>(<span class="c-string">"x ç°åœ¨æ˜¯: %d\n"</span>, x);  <span class="c-comment">// x ä»ç„¶æ˜¯ 5</span>
    
    x = <span class="c-number">5</span>;  <span class="c-comment">// é‡æ–°èµ‹å€¼</span>
    <span class="c-function">printf</span>(<span class="c-string">"\né‡æ–°èµ‹å€¼ x = %d\n"</span>, x);
    <span class="c-function">printf</span>(<span class="c-string">"SQUARE(INCREMENT(x)) = %d\n"</span>, SQUARE(INCREMENT(x)));  <span class="c-comment">// ((x++)*(x++))</span>
    <span class="c-function">printf</span>(<span class="c-string">"x ç°åœ¨æ˜¯: %d\n"</span>, x);  <span class="c-comment">// x å˜æˆäº† 7ï¼</span>
    
    <span class="c-comment">// æ­£ç¡®çš„åšæ³•ï¼šä½¿ç”¨å‡½æ•°è€Œä¸æ˜¯å®</span>
    x = <span class="c-number">5</span>;
    <span class="c-function">printf</span>(<span class="c-string">"\nä½¿ç”¨å‡½æ•°:\n"</span>);
    <span class="c-function">printf</span>(<span class="c-string">"square(x) = %d\n"</span>, square(x));  <span class="c-comment">// è°ƒç”¨å‡½æ•°</span>
    <span class="c-function">printf</span>(<span class="c-string">"x ä»ç„¶æ˜¯: %d\n"</span>, x);
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}

<span class="c-keyword">int</span> <span class="c-function">square</span>(<span class="c-keyword">int</span> x) {
    <span class="c-keyword">return</span> x * x;
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">å®å®šä¹‰çš„é«˜çº§åº”ç”¨</h3>
                    
                    <div class="macro-applications">
                        <div class="macro-app">
                            <h4>1. å¤šè¡Œå®å®šä¹‰</h4>
                            <div class="code-block">
                                <div class="code-block-title">å¤šè¡Œå®å®šä¹‰</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-comment">// å¤šè¡Œå®å®šä¹‰ï¼ˆä½¿ç”¨åæ–œæ ç»­è¡Œï¼‰</span>
<span class="c-keyword">#define</span> PRINT_ARRAY(arr, size) \
    <span class="c-keyword">do</span> { \
        <span class="c-function">printf</span>(<span class="c-string">"æ•°ç»„å†…å®¹: "</span>); \
        <span class="c-keyword">for</span> (i = <span class="c-number">0</span>; i &lt; (size); i++) { \
            <span class="c-function">printf</span>(<span class="c-string">"%d "</span>, (arr)[i]); \
        } \
        <span class="c-function">printf</span>(<span class="c-string">"\n"</span>); \
    } <span class="c-keyword">while</span>(<span class="c-number">0</span>)

<span class="c-keyword">#define</span> DEBUG_PRINT(format, ...) \
    <span class="c-function">printf</span>(<span class="c-string">"[DEBUG] %s:%d: "</span> format <span class="c-string">"\n"</span>, __FILE__, __LINE__, __VA_ARGS__)

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">int</span> numbers[] = {<span class="c-number">1</span>, <span class="c-number">2</span>, <span class="c-number">3</span>, <span class="c-number">4</span>, <span class="c-number">5</span>};
    
    PRINT_ARRAY(numbers, <span class="c-number">5</span>);
    
    <span class="c-keyword">int</span> x = <span class="c-number">10</span>, y = <span class="c-number">20</span>;
    DEBUG_PRINT(<span class="c-string">"x = %d, y = %d"</span>, x, y);
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </div>

                        <div class="macro-app">
                            <h4>2. æ¡ä»¶å®å®šä¹‰</h4>
                            <div class="code-block">
                                <div class="code-block-title">æ¡ä»¶å®å®šä¹‰</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-comment">// æ¡ä»¶å®å®šä¹‰</span>
<span class="c-keyword">#define</span> DEBUG_MODE <span class="c-number">1</span>  <span class="c-comment">// å¯ä»¥è®¾ç½®ä¸º 0 æ¥å…³é—­è°ƒè¯•</span>

<span class="c-keyword">#if</span> DEBUG_MODE
    <span class="c-keyword">#define</span> DEBUG_LOG(msg) <span class="c-function">printf</span>(<span class="c-string">"[DEBUG] %s\n"</span>, msg)
    <span class="c-keyword">#define</span> DEBUG_VALUE(var) <span class="c-function">printf</span>(<span class="c-string">"[DEBUG] %s = %d\n"</span>, #var, var)
<span class="c-keyword">#else</span>
    <span class="c-keyword">#define</span> DEBUG_LOG(msg)  <span class="c-comment">// ç©ºæ“ä½œ</span>
    <span class="c-keyword">#define</span> DEBUG_VALUE(var)  <span class="c-comment">// ç©ºæ“ä½œ</span>
<span class="c-keyword">#endif</span>

<span class="c-comment">// å¹³å°ç›¸å…³çš„å®å®šä¹‰</span>
<span class="c-keyword">#ifdef</span> _WIN32
    <span class="c-keyword">#define</span> PLATFORM <span class="c-string">"Windows"</span>
<span class="c-keyword">#elif</span> defined(__linux__)
    <span class="c-keyword">#define</span> PLATFORM <span class="c-string">"Linux"</span>
<span class="c-keyword">#elif</span> defined(__APPLE__)
    <span class="c-keyword">#define</span> PLATFORM <span class="c-string">"macOS"</span>
<span class="c-keyword">#else</span>
    <span class="c-keyword">#define</span> PLATFORM <span class="c-string">"Unknown"</span>
<span class="c-keyword">#endif</span>

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-function">printf</span>(<span class="c-string">"è¿è¡Œå¹³å°: %s\n"</span>, PLATFORM);
    
    <span class="c-keyword">int</span> x = <span class="c-number">42</span>;
    DEBUG_LOG(<span class="c-string">"ç¨‹åºå¼€å§‹æ‰§è¡Œ"</span>);
    DEBUG_VALUE(x);
    
    <span class="c-function">printf</span>(<span class="c-string">"æ­£å¸¸è¾“å‡º: x = %d\n"</span>, x);
    
    DEBUG_LOG(<span class="c-string">"ç¨‹åºæ‰§è¡Œå®Œæ¯•"</span>);
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </div>

                        <div class="macro-app">
                            <h4>3. å®ç”¨å®å®šä¹‰é›†åˆ</h4>
                            <div class="code-block">
                                <div class="code-block-title">å®ç”¨å®å®šä¹‰é›†åˆ</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdlib.h&gt;</span>

<span class="c-comment">// æ•°ç»„æ“ä½œå®</span>
<span class="c-keyword">#define</span> ARRAY_SIZE(arr) (sizeof(arr) / sizeof((arr)[0]))
<span class="c-keyword">#define</span> ARRAY_CLEAR(arr, size) memset((arr), 0, (size) * sizeof(*(arr)))

<span class="c-comment">// æ•°å­¦è®¡ç®—å®</span>
<span class="c-keyword">#define</span> DEG_TO_RAD(deg) ((deg) * 3.141592653589793 / 180.0)
<span class="c-keyword">#define</span> RAD_TO_DEG(rad) ((rad) * 180.0 / 3.141592653589793)

<span class="c-comment">// å­—ç¬¦ä¸²æ“ä½œå®</span>
<span class="c-keyword">#define</span> STR_EQUAL(s1, s2) (strcmp((s1), (s2)) == 0)
<span class="c-keyword">#define</span> STR_COPY(dest, src) strcpy((dest), (src))

<span class="c-comment">// å†…å­˜ç®¡ç†å®</span>
<span class="c-keyword">#define</span> SAFE_FREE(ptr) \
    <span class="c-keyword">do</span> { \
        <span class="c-keyword">if</span> ((ptr) != NULL) { \
            free(ptr); \
            (ptr) = NULL; \
        } \
    } <span class="c-keyword">while</span>(<span class="c-number">0</span>)

<span class="c-comment">// å¾ªç¯å®</span>
<span class="c-keyword">#define</span> FOR_EACH(type, item, array, size) \
    <span class="c-keyword">for</span>(type *item##_ptr = (array); item##_ptr &lt; (array) + (size); item##_ptr++)

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-comment">// æ•°ç»„æ“ä½œ</span>
    <span class="c-keyword">int</span> numbers[] = {<span class="c-number">1</span>, <span class="c-number">2</span>, <span class="c-number">3</span>, <span class="c-number">4</span>, <span class="c-number">5</span>};
    <span class="c-function">printf</span>(<span class="c-string">"æ•°ç»„å¤§å°: %u\n"</span>, ARRAY_SIZE(numbers));
    
    <span class="c-comment">// æ•°å­¦è®¡ç®—</span>
    <span class="c-keyword">double</span> angle_deg = <span class="c-number">90.0</span>;
    <span class="c-keyword">double</span> angle_rad = DEG_TO_RAD(angle_deg);
    <span class="c-function">printf</span>(<span class="c-string">"%.1f åº¦ = %.4f å¼§åº¦\n"</span>, angle_deg, angle_rad);
    
    <span class="c-comment">// å­—ç¬¦ä¸²æ“ä½œ</span>
    <span class="c-keyword">char</span> str1[] = <span class="c-string">"Hello"</span>;
    <span class="c-keyword">char</span> str2[] = <span class="c-string">"Hello"</span>;
    <span class="c-function">printf</span>(<span class="c-string">"å­—ç¬¦ä¸²ç›¸ç­‰: %s\n"</span>, STR_EQUAL(str1, str2) ? <span class="c-string">"æ˜¯"</span> : <span class="c-string">"å¦"</span>);
    
    <span class="c-comment">// å†…å­˜ç®¡ç†</span>
    <span class="c-keyword">int</span> *dynamic_array = (<span class="c-keyword">int</span>*)malloc(<span class="c-number">10</span> * <span class="c-keyword">sizeof</span>(<span class="c-keyword">int</span>));
    <span class="c-keyword">if</span> (dynamic_array) {
        <span class="c-function">printf</span>(<span class="c-string">"åŠ¨æ€å†…å­˜åˆ†é…æˆåŠŸ\n"</span>);
        SAFE_FREE(dynamic_array);
        <span class="c-function">printf</span>(<span class="c-string">"å†…å­˜å·²å®‰å…¨é‡Šæ”¾\n"</span>);
    }
    
    <span class="c-comment">// å¾ªç¯å®ä½¿ç”¨</span>
    <span class="c-function">printf</span>(<span class="c-string">"éå†æ•°ç»„: "</span>);
    FOR_EACH(<span class="c-keyword">int</span>, num, numbers, ARRAY_SIZE(numbers)) {
        <span class="c-function">printf</span>(<span class="c-string">"%d "</span>, *num);
    }
    <span class="c-function">printf</span>(<span class="c-string">"\n"</span>);
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="subsection">
                    <h3 class="subsection-title">å®å®šä¹‰ç»ƒä¹ </h3>
                    <div class="practice-questions">
                        <div class="question-item">
                            <p><strong>ç»ƒä¹ 1ï¼šå®šä¹‰è®¡ç®—åœ†é¢ç§¯å’Œå‘¨é•¿çš„å®</strong></p>
                            <p>å®šä¹‰å®CIRCLE_AREA(r)å’ŒCIRCLE_PERIMETER(r)ï¼Œåˆ†åˆ«ç”¨äºè®¡ç®—åœ†çš„é¢ç§¯å’Œå‘¨é•¿ã€‚</p>
                            <details class="answer">
                                <summary>æŸ¥çœ‹å‚è€ƒç­”æ¡ˆ</summary>
                                <div class="code-block">
                                    <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">#define</span> PI <span class="c-number">3.141592653589793</span>
<span class="c-keyword">#define</span> CIRCLE_AREA(r) (PI * (r) * (r))
<span class="c-keyword">#define</span> CIRCLE_PERIMETER(r) (<span class="c-number">2</span> * PI * (r))

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">double</span> radius;
    
    <span class="c-function">printf</span>(<span class="c-string">"è¯·è¾“å…¥åœ†çš„åŠå¾„: "</span>);
    <span class="c-function">scanf</span>(<span class="c-string">"%lf"</span>, &radius);
    
    <span class="c-function">printf</span>(<span class="c-string">"åœ†çš„é¢ç§¯: %.2f\n"</span>, CIRCLE_AREA(radius));
    <span class="c-function">printf</span>(<span class="c-string">"åœ†çš„å‘¨é•¿: %.2f\n"</span>, CIRCLE_PERIMETER(radius));
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                                </div>
                            </details>
                        </div>
                        
                        <div class="question-item">
                            <p><strong>ç»ƒä¹ 2ï¼šå®šä¹‰ä¸‰ä¸ªæ•°ä¸­å–æœ€å¤§å€¼çš„å®</strong></p>
                            <p>å®šä¹‰å®MAX3(a, b, c)ï¼Œè¿”å›ä¸‰ä¸ªæ•°ä¸­çš„æœ€å¤§å€¼ã€‚æç¤ºï¼šå¯ä»¥åµŒå¥—ä½¿ç”¨MAXå®ã€‚</p>
                            <details class="answer">
                                <summary>æŸ¥çœ‹å‚è€ƒç­”æ¡ˆ</summary>
                                <div class="code-block">
                                    <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">#define</span> MAX(a, b) ((a) > (b) ? (a) : (b))
<span class="c-keyword">#define</span> MAX3(a, b, c) MAX(MAX((a), (b)), (c))

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">int</span> x = <span class="c-number">10</span>, y = <span class="c-number">25</span>, z = <span class="c-number">15</span>;
    
    <span class="c-function">printf</span>(<span class="c-string">"ä¸‰ä¸ªæ•°: %d, %d, %d\n"</span>, x, y, z);
    <span class="c-function">printf</span>(<span class="c-string">"æœ€å¤§å€¼: %d\n"</span>, MAX3(x, y, z));
    
    <span class="c-comment">// æµ‹è¯•è¡¨è¾¾å¼ä½œä¸ºå‚æ•°</span>
    <span class="c-function">printf</span>(<span class="c-string">"MAX3(5+3, 12-2, 7*2) = %d\n"</span>, MAX3(<span class="c-number">5</span>+<span class="c-number">3</span>, <span class="c-number">12</span>-<span class="c-number">2</span>, <span class="c-number">7</span>*<span class="c-number">2</span>));
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                                </div>
                            </details>
                        </div>
                    </div>
                </div>
            </section>

            <!-- é¢„å¤„ç†æŒ‡ä»¤ -->
            <section id="preprocessing" class="section">
                <h2 class="section-title">é¢„å¤„ç†æŒ‡ä»¤</h2>
                
                <div class="subsection">
                    <h3 class="subsection-title">æ–‡ä»¶åŒ…å«æŒ‡ä»¤</h3>
                    <div class="code-block">
                        <div class="code-block-title">æ–‡ä»¶åŒ…å«æŒ‡ä»¤ç¤ºä¾‹</div>
                        <pre><code><span class="c-comment">// æ–‡ä»¶åŒ…å«æŒ‡ä»¤</span>

<span class="c-comment">// 1. ç³»ç»Ÿå¤´æ–‡ä»¶åŒ…å«ï¼ˆä½¿ç”¨å°–æ‹¬å·ï¼‰</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>      <span class="c-comment">// æ ‡å‡†è¾“å…¥è¾“å‡º</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdlib.h&gt;</span>     <span class="c-comment">// æ ‡å‡†åº“å‡½æ•°</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;string.h&gt;</span>     <span class="c-comment">// å­—ç¬¦ä¸²å¤„ç†</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;math.h&gt;</span>       <span class="c-comment">// æ•°å­¦å‡½æ•°</span>

<span class="c-comment">// 2. ç”¨æˆ·è‡ªå®šä¹‰å¤´æ–‡ä»¶åŒ…å«ï¼ˆä½¿ç”¨åŒå¼•å·ï¼‰</span>
<span class="c-keyword">#include</span> <span class="c-string">"myheader.h"</span>   <span class="c-comment">// å½“å‰ç›®å½•</span>
<span class="c-keyword">#include</span> <span class="c-string">"utils/math.h"</span> <span class="c-comment">// å­ç›®å½•</span>
<span class="c-keyword">#include</span> <span class="c-string">"../common.h"</span>  <span class="c-comment">// çˆ¶ç›®å½•</span>

<span class="c-comment">// 3. é˜²æ­¢é‡å¤åŒ…å«çš„å¤´æ–‡ä»¶</span>
<span class="c-comment">// myheader.h æ–‡ä»¶å†…å®¹ï¼š</span>
<span class="c-comment">// #ifndef MYHEADER_H</span>
<span class="c-comment">// #define MYHEADER_H</span>
<span class="c-comment">// // å¤´æ–‡ä»¶å†…å®¹</span>
<span class="c-comment">// #endif</span>

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-function">printf</span>(<span class="c-string">"Hello, World!\n"</span>);
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                    </div>
                </div>

                <div class="practice-questions">
                    <h3 class="subsection-title">å°±åœ°ç»ƒä¹ ï¼šé˜²æ­¢å¤´æ–‡ä»¶é‡å¤åŒ…å«</h3>
                    <div class="question-item">
                        <p><strong>ç»ƒä¹ 4ï¼š</strong> ç¼–å†™ä¸€ä¸ªå¤´æ–‡ä»¶ä½¿ç”¨ <code>#ifndef</code>, <code>#define</code>, <code>#endif</code> é˜²æ­¢é‡å¤åŒ…å«ï¼Œå¹¶åœ¨ä¸»ç¨‹åºä¸­å¤šæ¬¡åŒ…å«è¯¥å¤´æ–‡ä»¶éªŒè¯ã€‚</p>
                        <details>
                            <summary>å‚è€ƒç­”æ¡ˆä¸ç¤ºä¾‹ä»£ç </summary>
                            <div class="code-block">
                                <div class="code-block-title">å¤´æ–‡ä»¶ä¿æŠ¤</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-comment">// æ¨¡æ‹Ÿ mymath.h</span>
<span class="c-comment">// #ifndef MYMATH_H</span>
<span class="c-comment">// #define MYMATH_H</span>
<span class="c-comment">// #define PI 3.14159</span>
<span class="c-comment">// int square(int x) { return x*x; }</span>
<span class="c-comment">// #endif</span>

<span class="c-keyword">#ifndef</span> MYMATH_H
<span class="c-keyword">#define</span> MYMATH_H
<span class="c-keyword">#define</span> PI <span class="c-number">3.14159</span>
<span class="c-keyword">inline</span> <span class="c-keyword">int</span> <span class="c-function">square</span>(<span class="c-keyword">int</span> x) { <span class="c-keyword">return</span> x*x; }
<span class="c-keyword">#endif</span>

<span class="c-comment">// å¤šæ¬¡åŒ…å«ä¸ä¼šå†²çª</span>
<span class="c-keyword">#include</span> <span class="c-string">"mymath.h"</span>  <span class="c-comment">// ç¬¬ä¸€æ¬¡</span>
<span class="c-keyword">#include</span> <span class="c-string">"mymath.h"</span>  <span class="c-comment">// ç¬¬äºŒæ¬¡ï¼Œè¢«å¿½ç•¥</span>

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-function">printf</span>(<span class="c-string">"PI = %.5f\n"</span>, PI);
    <span class="c-function">printf</span>(<span class="c-string">"square(5) = %d\n"</span>, square(<span class="c-number">5</span>));

    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </details>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">æ¡ä»¶ç¼–è¯‘æŒ‡ä»¤</h3>
                    
                    <div class="preprocessing-types">
                        <div class="preprocessing-type">
                            <h4>1. #ifdef, #ifndef, #endif</h4>
                            <div class="code-block">
                                <div class="code-block-title">æ¡ä»¶ç¼–è¯‘åŸºç¡€</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-comment">// å®šä¹‰è°ƒè¯•æ¨¡å¼</span>
<span class="c-keyword">#define</span> DEBUG_MODE <span class="c-number">1</span>

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
<span class="c-keyword">#ifdef</span> DEBUG_MODE
    <span class="c-function">printf</span>(<span class="c-string">"è°ƒè¯•æ¨¡å¼å·²å¯ç”¨\n"</span>);
    <span class="c-keyword">int</span> debug_value = <span class="c-number">42</span>;
    <span class="c-function">printf</span>(<span class="c-string">"è°ƒè¯•å€¼: %d\n"</span>, debug_value);
<span class="c-keyword">#endif</span>

    <span class="c-function">printf</span>(<span class="c-string">"æ­£å¸¸æ‰§è¡Œä»£ç \n"</span>);

<span class="c-keyword">#ifndef</span> RELEASE_MODE
    <span class="c-function">printf</span>(<span class="c-string">"éå‘å¸ƒæ¨¡å¼ï¼Œæ˜¾ç¤ºé¢å¤–ä¿¡æ¯\n"</span>);
<span class="c-keyword">#endif</span>

    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </div>

                        <div class="preprocessing-type">
                            <h4>2. #if, #elif, #else</h4>
                            <div class="code-block">
                                <div class="code-block-title">å¤šæ¡ä»¶ç¼–è¯‘</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-comment">// å®šä¹‰ç‰ˆæœ¬å·</span>
<span class="c-keyword">#define</span> VERSION <span class="c-number">2</span>

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
<span class="c-keyword">#if</span> VERSION == <span class="c-number">1</span>
    <span class="c-function">printf</span>(<span class="c-string">"è¿™æ˜¯ç‰ˆæœ¬ 1.0\n"</span>);
    <span class="c-function">printf</span>(<span class="c-string">"åŠŸèƒ½: åŸºæœ¬è®¡ç®—\n"</span>);
<span class="c-keyword">#elif</span> VERSION == <span class="c-number">2</span>
    <span class="c-function">printf</span>(<span class="c-string">"è¿™æ˜¯ç‰ˆæœ¬ 2.0\n"</span>);
    <span class="c-function">printf</span>(<span class="c-string">"åŠŸèƒ½: åŸºæœ¬è®¡ç®— + é«˜çº§æ•°å­¦\n"</span>);
<span class="c-keyword">#elif</span> VERSION == <span class="c-number">3</span>
    <span class="c-function">printf</span>(<span class="c-string">"è¿™æ˜¯ç‰ˆæœ¬ 3.0\n"</span>);
    <span class="c-function">printf</span>(<span class="c-string">"åŠŸèƒ½: å®Œæ•´åŠŸèƒ½é›†\n"</span>);
<span class="c-keyword">#else</span>
    <span class="c-function">printf</span>(<span class="c-string">"æœªçŸ¥ç‰ˆæœ¬\n"</span>);
<span class="c-keyword">#endif</span>

    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </div>

                        <div class="preprocessing-type">
                            <h4>3. #defined è¿ç®—ç¬¦</h4>
                            <div class="code-block">
                                <div class="code-block-title">defined è¿ç®—ç¬¦</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-comment">// æ¡ä»¶ç¼–è¯‘å®</span>
<span class="c-keyword">#define</span> FEATURE_A
<span class="c-keyword">#define</span> FEATURE_B
<span class="c-comment">// #define FEATURE_C  // æ³¨é‡Šæ‰è¿™ä¸ªå®šä¹‰</span>

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
<span class="c-keyword">#if</span> defined(FEATURE_A) && defined(FEATURE_B)
    <span class="c-function">printf</span>(<span class="c-string">"åŠŸèƒ½ A å’Œ B éƒ½å·²å¯ç”¨\n"</span>);
<span class="c-keyword">#endif</span>

<span class="c-keyword">#if</span> defined(FEATURE_C) || defined(FEATURE_A)
    <span class="c-function">printf</span>(<span class="c-string">"åŠŸèƒ½ C æˆ– A å·²å¯ç”¨\n"</span>);
<span class="c-keyword">#endif</span>

<span class="c-keyword">#if</span> !defined(FEATURE_C)
    <span class="c-function">printf</span>(<span class="c-string">"åŠŸèƒ½ C æœªå¯ç”¨\n"</span>);
<span class="c-keyword">#endif</span>

    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">å…¶ä»–é¢„å¤„ç†æŒ‡ä»¤</h3>
                    
                    <div class="other-preprocessing">
                        <div class="preprocessing-item">
                            <h4>1. #undef æŒ‡ä»¤</h4>
                            <div class="code-block">
                                <div class="code-block-title">#undef æŒ‡ä»¤</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">#define</span> MAX_SIZE <span class="c-number">100</span>
<span class="c-keyword">#define</span> DEBUG

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-function">printf</span>(<span class="c-string">"MAX_SIZE = %d\n"</span>, MAX_SIZE);

<span class="c-keyword">#ifdef</span> DEBUG
    <span class="c-function">printf</span>(<span class="c-string">"è°ƒè¯•æ¨¡å¼å·²å¯ç”¨\n"</span>);
<span class="c-keyword">#endif</span>

    <span class="c-comment">// å–æ¶ˆå®å®šä¹‰</span>
    <span class="c-keyword">#undef</span> MAX_SIZE
    <span class="c-keyword">#undef</span> DEBUG

    <span class="c-comment">// ç°åœ¨è¿™äº›å®ä¸å†å­˜åœ¨</span>
    <span class="c-comment">// printf("MAX_SIZE = %d\n", MAX_SIZE);  // é”™è¯¯ï¼šMAX_SIZE æœªå®šä¹‰</span>

<span class="c-keyword">#ifdef</span> DEBUG
    <span class="c-function">printf</span>(<span class="c-string">"è¿™è¡Œä¸ä¼šè¢«æ‰§è¡Œ\n"</span>);
<span class="c-keyword">#else</span>
    <span class="c-function">printf</span>(<span class="c-string">"è°ƒè¯•æ¨¡å¼å·²è¢«å–æ¶ˆ\n"</span>);
<span class="c-keyword">#endif</span>

    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </div>

                        <div class="preprocessing-item">
                            <h4>2. #pragma æŒ‡ä»¤</h4>
                            <div class="code-block">
                                <div class="code-block-title">#pragma æŒ‡ä»¤</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-comment">// å¸¸è§çš„ #pragma æŒ‡ä»¤</span>
<span class="c-keyword">#pragma</span> warning(disable: 4996)  <span class="c-comment">// ç¦ç”¨ç‰¹å®šè­¦å‘Šï¼ˆMSVCï¼‰</span>
<span class="c-keyword">#pragma</span> GCC diagnostic ignored <span class="c-string">"-Wdeprecated-declarations"</span>  <span class="c-comment">// GCC å¿½ç•¥è­¦å‘Š</span>
<span class="c-keyword">#pragma</span> pack(1)  <span class="c-comment">// è®¾ç½®ç»“æ„ä½“å¯¹é½ä¸º 1 å­—èŠ‚</span>

<span class="c-keyword">struct</span> PackedStruct {
    <span class="c-keyword">char</span> a;
    <span class="c-keyword">int</span> b;
    <span class="c-keyword">char</span> c;
};

<span class="c-keyword">#pragma</span> pack()  <span class="c-comment">// æ¢å¤é»˜è®¤å¯¹é½</span>

<span class="c-keyword">struct</span> NormalStruct {
    <span class="c-keyword">char</span> a;
    <span class="c-keyword">int</span> b;
    <span class="c-keyword">char</span> c;
};

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-function">printf</span>(<span class="c-string">"PackedStruct å¤§å°: %u å­—èŠ‚\n"</span>, (<span class="c-keyword">unsigned int</span>)<span class="c-keyword">sizeof</span>(<span class="c-keyword">struct</span> PackedStruct));
    <span class="c-function">printf</span>(<span class="c-string">"NormalStruct å¤§å°: %u å­—èŠ‚\n"</span>, (<span class="c-keyword">unsigned int</span>)<span class="c-keyword">sizeof</span>(<span class="c-keyword">struct</span> NormalStruct));
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </div>

                        <div class="preprocessing-item">
                            <h4>3. #error å’Œ #warning</h4>
                            <div class="code-block">
                                <div class="code-block-title">ç¼–è¯‘æ—¶æ¶ˆæ¯</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">#define</span> MIN_VERSION <span class="c-number">2</span>
<span class="c-keyword">#define</span> CURRENT_VERSION <span class="c-number">1</span>

<span class="c-comment">// ç‰ˆæœ¬æ£€æŸ¥</span>
<span class="c-keyword">#if</span> CURRENT_VERSION &lt; MIN_VERSION
    <span class="c-keyword">#error</span> <span class="c-string">"ç‰ˆæœ¬å¤ªä½ï¼Œè¯·å‡çº§åˆ°ç‰ˆæœ¬ 2.0 æˆ–æ›´é«˜"</span>
<span class="c-keyword">#endif</span>

<span class="c-comment">// å¹³å°æ£€æŸ¥</span>
<span class="c-keyword">#ifndef</span> __STDC__
    <span class="c-keyword">#warning</span> <span class="c-string">"å»ºè®®ä½¿ç”¨æ ‡å‡† C ç¼–è¯‘å™¨"</span>
<span class="c-keyword">#endif</span>

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-function">printf</span>(<span class="c-string">"ç¨‹åºæ­£å¸¸è¿è¡Œ\n"</span>);
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="practice-questions">
                    <h3 class="subsection-title">å°±åœ°ç»ƒä¹ ï¼šæ¡ä»¶ç¼–è¯‘åº”ç”¨</h3>
                    <div class="question-item">
                        <p><strong>ç»ƒä¹ 5ï¼š</strong> ä½¿ç”¨ <code>#ifdef DEBUG</code> å®ç°è°ƒè¯•ä¿¡æ¯è¾“å‡ºï¼Œå½“å®šä¹‰ <code>DEBUG</code> å®æ—¶æ‰“å°è¯¦ç»†æ—¥å¿—ï¼Œå¦åˆ™é™é»˜è¿è¡Œã€‚</p>
                        <details>
                            <summary>å‚è€ƒç­”æ¡ˆä¸ç¤ºä¾‹ä»£ç </summary>
                            <div class="code-block">
                                <div class="code-block-title">è°ƒè¯•å¼€å…³</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">#define</span> DEBUG  <span class="c-comment">// æ³¨é‡Šæ­¤è¡Œå¯ç¦ç”¨è°ƒè¯•</span>

<span class="c-keyword">int</span> <span class="c-function">calculate</span>(<span class="c-keyword">int</span> a, <span class="c-keyword">int</span> b) {
<span class="c-keyword">#ifdef</span> DEBUG
    <span class="c-function">printf</span>(<span class="c-string">"[DEBUG] calculate(%d, %d) called\n"</span>, a, b);
<span class="c-keyword">#endif</span>
    <span class="c-keyword">int</span> result = a + b;
<span class="c-keyword">#ifdef</span> DEBUG
    <span class="c-function">printf</span>(<span class="c-string">"[DEBUG] result = %d\n"</span>, result);
<span class="c-keyword">#endif</span>
    <span class="c-keyword">return</span> result;
}

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">int</span> sum = calculate(<span class="c-number">10</span>, <span class="c-number">20</span>);
    <span class="c-function">printf</span>(<span class="c-string">"ç»“æœ: %d\n"</span>, sum);

    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </details>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">å®é™…åº”ç”¨ï¼šè·¨å¹³å°å¼€å‘</h3>
                    <div class="code-block">
                        <div class="code-block-title">è·¨å¹³å°ä»£ç ç¤ºä¾‹</div>
                        <pre><code><span class="c-comment">// è·¨å¹³å°å¤´æ–‡ä»¶åŒ…å«</span>
<span class="c-keyword">#ifdef</span> _WIN32
    <span class="c-keyword">#include</span> <span class="c-string">&lt;windows.h&gt;</span>
    <span class="c-keyword">#define</span> SLEEP_MS(ms) Sleep(ms)
    <span class="c-keyword">#define</span> CLEAR_SCREEN system(<span class="c-string">"cls"</span>)
<span class="c-keyword">#elif</span> defined(__linux__) || defined(__APPLE__)
    <span class="c-keyword">#include</span> <span class="c-string">&lt;unistd.h&gt;</span>
    <span class="c-keyword">#define</span> SLEEP_MS(ms) usleep((ms) * 1000)
    <span class="c-keyword">#define</span> CLEAR_SCREEN system(<span class="c-string">"clear"</span>)
<span class="c-keyword">#else</span>
    <span class="c-keyword">#error</span> <span class="c-string">"ä¸æ”¯æŒçš„å¹³å°"</span>
<span class="c-keyword">#endif</span>

<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdlib.h&gt;</span>

<span class="c-comment">// æ¡ä»¶ç¼–è¯‘çš„æ•°æ®ç±»å‹</span>
<span class="c-keyword">#ifdef</span> _WIN32
    <span class="c-keyword">typedef</span> <span class="c-keyword">long</span> <span class="c-keyword">long</span> ssize_t;  <span class="c-comment">// Windows å¯èƒ½æ²¡æœ‰ ssize_t</span>
<span class="c-keyword">#endif</span>

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-function">printf</span>(<span class="c-string">"è·¨å¹³å°ç¨‹åºè¿è¡Œä¸­...\n"</span>);
    
    <span class="c-comment">// è·¨å¹³å°å»¶æ—¶</span>
    <span class="c-function">printf</span>(<span class="c-string">"ç­‰å¾… 1 ç§’...\n"</span>);
    SLEEP_MS(<span class="c-number">1000</span>);
    
    <span class="c-comment">// è·¨å¹³å°æ¸…å±</span>
    CLEAR_SCREEN;
    
    <span class="c-function">printf</span>(<span class="c-string">"å±å¹•å·²æ¸…ç©ºï¼\n"</span>);
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                    </div>
                </div>
            </section>

            <!-- ç»ƒä¹ é¢˜ -->

        </div>
    </div>

    <script>
        // ä¸ºæ‰€æœ‰ä»£ç å—æ·»åŠ å¤åˆ¶æŒ‰é’®
        document.addEventListener('DOMContentLoaded', function() {
            const codeBlocks = document.querySelectorAll('.code-block');
            
            codeBlocks.forEach(function(block) {
                const title = block.querySelector('.code-block-title');
                if (title) {
                    // åˆ›å»ºå¤åˆ¶æŒ‰é’®
                    const copyButton = document.createElement('button');
                    copyButton.className = 'copy-button';
                    copyButton.textContent = 'å¤åˆ¶';
                    
                    // æ·»åŠ ç‚¹å‡»äº‹ä»¶
                    copyButton.addEventListener('click', function() {
                        const code = block.querySelector('code');
                        if (code) {
                            // è·å–ä»£ç å†…å®¹
                            const textToCopy = code.textContent;
                            
                            // åˆ›å»ºä¸´æ—¶æ–‡æœ¬åŒºåŸŸ
                            const textArea = document.createElement('textarea');
                            textArea.value = textToCopy;
                            document.body.appendChild(textArea);
                            textArea.select();
                            
                            try {
                                // æ‰§è¡Œå¤åˆ¶å‘½ä»¤
                                const successful = document.execCommand('copy');
                                if (successful) {
                                    // æ˜¾ç¤ºå¤åˆ¶æˆåŠŸçŠ¶æ€
                                    copyButton.textContent = 'å·²å¤åˆ¶';
                                    copyButton.classList.add('copied');
                                    
                                    // 2ç§’åæ¢å¤æŒ‰é’®çŠ¶æ€
                                    setTimeout(function() {
                                        copyButton.textContent = 'å¤åˆ¶';
                                        copyButton.classList.remove('copied');
                                    }, 2000);
                                }
                            } catch (err) {
                                console.error('å¤åˆ¶å¤±è´¥:', err);
                            }
                            
                            // ç§»é™¤ä¸´æ—¶æ–‡æœ¬åŒºåŸŸ
                            document.body.removeChild(textArea);
                        }
                    });
                    
                    // å°†æŒ‰é’®æ·»åŠ åˆ°æ ‡é¢˜æ 
                    title.appendChild(copyButton);
                }
            });
        });

        // å¯¼èˆªæ é«˜äº®æ•ˆæœ
        document.addEventListener('DOMContentLoaded', function() {
            const navLinks = document.querySelectorAll('.tutorial-nav a');
            const sections = document.querySelectorAll('.section');
            
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    navLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                });
            });
            
            const observerOptions = {
                root: null,
                rootMargin: '-20% 0px -70% 0px',
                threshold: 0
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.getAttribute('id');
                        navLinks.forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href') === `#${id}`) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }, observerOptions);
            
            sections.forEach(section => observer.observe(section));
        });
    </script>
</body>
</html>