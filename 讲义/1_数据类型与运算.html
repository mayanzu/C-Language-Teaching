<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>表达式与运算符 - C语言教程</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- 侧边导航栏 -->
    <nav class="tutorial-nav">
        <ul>
            <li><a href="#intro" class="active">简介</a></li>
            <li><a href="#arithmetic">算术运算符</a></li>
            <li><a href="#relational">关系与逻辑运算符</a></li>
            <li><a href="#assignment">赋值运算符</a></li>
            <li><a href="#increment">自增自减</a></li>
            <li><a href="#ternary">三元运算符</a></li>
            <li><a href="#bitwise">位运算符</a></li>
            <li><a href="#priority">运算符优先级</a></li>
            <li><a href="#conversion">类型转换</a></li>
            <li><a href="#short-circuit">短路求值</a></li>
            <li><a href="#undefined">未定义行为</a></li>
        </ul>
    </nav>

    <!-- 主内容区域 -->
    <main class="tutorial-content">
        <!-- 页面标题 -->
        <header class="tutorial-header">
            <h1>表达式与运算符</h1>
            <p>从零开始学习C语言表达式与运算符的基本用法</p>
        </header>
        <!-- 简介 -->
        <section id="intro" class="section">
            <h2 class="section-title">表达式基础</h2>
            
            <p>C语言表达式是由运算符、操作数和函数调用等组成的序列，用于计算值。理解表达式的运算规则是掌握C语言的关键。</p>
            
            <div class="callout info">
                <strong>新手注意</strong>
                <ul>
                    <li>表达式就像数学公式，由数字和运算符组成</li>
                    <li>每个表达式都会产生一个明确的结果</li>
                    <li>运算符优先级决定计算顺序</li>
                </ul>
            </div>
            
            <div class="callout tip">
                <strong>重要提示</strong>
                <p>表达式求值涉及多个重要概念：运算符优先级、结合性、类型转换、短路求值等。</p>
            </div>

            <h3 class="subsection-title">表达式的基本组成</h3>
            
            <div class="code-block">
                <div class="code-block-title">基本表达式示例</div>
                <pre><code><span class="c-comment">// C语言基本表达式示例</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-comment">// 简单表达式</span>
    <span class="c-keyword">int</span> a = <span class="c-number">5</span>;
    <span class="c-keyword">int</span> b = <span class="c-number">3</span>;
    <span class="c-keyword">int</span> result;
    
    <span class="c-comment">// 复杂表达式</span>
    result = (a + b) * <span class="c-number">2</span> - a / b + a % b;
    
    <span class="c-function">printf</span>(<span class="c-string">"结果: %d\n"</span>, result);
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">零基础学习目标与节奏</h3>
                    <div class="subsection-content">
                        <p>如果你刚刚接触C语言，可以按照下面的节奏来拆分难题，确保每一步都“听得懂、看得见、写得出”：</p>
                        <ol>
                            <li><strong>第1步：认得符号</strong> —— 先弄清每个运算符的读法和含义，可把它当成“数学符号升级版”。</li>
                            <li><strong>第2步：会读表达式</strong> —— 像读中文一样，从左到右读出含义，并在草稿上写出计算顺序。</li>
                            <li><strong>第3步：亲手敲代码</strong> —— 复制示例后，再尝试改动数字或运算符，观察结果的变化。</li>
                            <li><strong>第4步：解释给别人听</strong> —— 能把表达式的执行过程讲出来，就说明你真的懂了。</li>
                        </ol>
                        <p>任何一个环节不明白都不要紧，回到上一步重复练习，保持“慢慢来、反复看、动手做”的节奏即可。</p>
                    </div>
                </div>

                <div class="example-grid">
                    <div class="example-item">
                        <strong>生活类比</strong>
                        <ul>
                            <li>把表达式想成做蛋糕的配方：材料（变量）+ 操作（运算符）。</li>
                            <li>先准备好材料，再按步骤混合，否则味道就会怪怪的。</li>
                        </ul>
                    </div>
                    <div class="example-item">
                        <strong>检查清单</strong>
                        <ul>
                            <li>每个变量是否有初始值？</li>
                            <li>是否记得加括号确保顺序？</li>
                            <li>是否考虑到了整数/浮点数的差别？</li>
                        </ul>
                    </div>
                    <div class="example-item">
                        <strong>坚持练习</strong>
                        <ul>
                            <li>每天随手写3个表达式并预测结果。</li>
                            <li>用printf打印预测值与真实值对比。</li>
                            <li>把看不懂的地方记在“疑问本”里。</li>
                        </ul>
                    </div>
                </div>

                <div class="practice-section">
                    <h3>5分钟自检</h3>
                    <p>尝试在纸上回答下面的问题，确认是否已经掌握基础：</p>
                    <ul>
                        <li>写出一个同时包含加法、乘法、取模的表达式，并说明执行顺序。</li>
                        <li>解释整数除法和浮点除法的差异，并举一个生活例子帮助记忆。</li>
                        <li>说出什么是“短路求值”，它能帮你避免什么类型的错误？</li>
                    </ul>
                </div>
            </section>

            <!-- 算术运算符 -->
            <section id="arithmetic" class="section">
                <h2 class="section-title">算术运算符</h2>
                
                <div class="subsection">
                    <h3 class="subsection-title">基本算术运算符</h3>
                    <div class="operator-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>运算符</th>
                                    <th>说明</th>
                                    <th>示例</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><span class="c-operator">+</span></td>
                                    <td>加法</td>
                                    <td><span class="c-variable">a</span> <span class="c-operator">+</span> <span class="c-variable">b</span></td>
                                </tr>
                                <tr>
                                    <td><span class="c-operator">-</span></td>
                                    <td>减法</td>
                                    <td><span class="c-variable">a</span> <span class="c-operator">-</span> <span class="c-variable">b</span></td>
                                </tr>
                                <tr>
                                    <td><span class="c-operator">*</span></td>
                                    <td>乘法</td>
                                    <td><span class="c-variable">a</span> <span class="c-operator">*</span> <span class="c-variable">b</span></td>
                                </tr>
                                <tr>
                                    <td><span class="c-operator">/</span></td>
                                    <td>除法</td>
                                    <td><span class="c-variable">a</span> <span class="c-operator">/</span> <span class="c-variable">b</span></td>
                                </tr>
                                <tr>
                                    <td><span class="c-operator">%</span></td>
                                    <td>取模（余数）</td>
                                    <td><span class="c-variable">a</span> <span class="c-operator">%</span> <span class="c-variable">b</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">算术运算符示例与结果</h3>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>运算符</th>
                                    <th>说明</th>
                                    <th>示例代码</th>
                                    <th>输出结果</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>+</td>
                                    <td>加法运算符</td>
                                    <td><code>printf("%d", 5 + 3);</code></td>
                                    <td>8</td>
                                </tr>
                                <tr>
                                    <td>-</td>
                                    <td>减法运算符</td>
                                    <td><code>printf("%d", 10 - 4);</code></td>
                                    <td>6</td>
                                </tr>
                                <tr>
                                    <td>*</td>
                                    <td>乘法运算符</td>
                                    <td><code>printf("%d", 7 * 6);</code></td>
                                    <td>42</td>
                                </tr>
                                <tr>
                                    <td>/</td>
                                    <td>除法运算符</td>
                                    <td><code>printf("%d", 15 / 3);</code></td>
                                    <td>5</td>
                                </tr>
                                <tr>
                                    <td>%</td>
                                    <td>取模运算符（求余数）</td>
                                    <td><code>printf("%d", 17 % 5);</code></td>
                                    <td>2</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">整数除法的特点</h3>
                    <div class="subsection-content">
                        <p>在C语言中，两个整数相除会进行整数除法，结果会向下取整。</p>
                        
                        <div class="new-learner-tip">
                            <strong>重要提示：</strong>
                            <p>整数除法就像分糖果给小朋友：</p>
                            <ul>
                                <li>10块糖分给3个小朋友 → 每人3块（余1块）</li>
                                <li>7块糖分给2个小朋友 → 每人3块（余1块）</li>
                                <li>结果总是整数，小数部分会被丢弃</li>
                            </ul>
                        </div>
                        
                        <div class="code-block">
                            <div class="code-block-title">整数除法示例</div>
                            <pre><code><span class="c-comment">// 整数除法与浮点数除法的对比</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">int</span> a = <span class="c-number">10</span>, b = <span class="c-number">3</span>;
    <span class="c-keyword">float</span> c = <span class="c-number">10.0</span>, d = <span class="c-number">3.0</span>;
    
    <span class="c-comment">// 整数除法：结果向下取整</span>
    <span class="c-function">printf</span>(<span class="c-string">"整数除法: %d / %d = %d\n"</span>, a, b, a / b);  <span class="c-comment">// 输出: 整数除法: 10 / 3 = 3</span>
    
    <span class="c-comment">// 浮点数除法：保留小数部分</span>
    <span class="c-function">printf</span>(<span class="c-string">"浮点除法: %.1f / %.1f = %.1f\n"</span>, c, d, c / d);  <span class="c-comment">// 输出: 浮点除法: 10.0 / 3.0 = 3.3</span>
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                        </div>
                    </div>
                </div>

            </section>

            <!-- 关系与逻辑运算符 -->
            <section id="relational" class="section">
                <h2 class="section-title">关系与逻辑运算符</h2>
                
                <div class="subsection">
                    <h3 class="subsection-title">关系运算符</h3>
                    <div class="operator-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>运算符</th>
                                    <th>说明</th>
                                    <th>示例</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><span class="c-operator">&gt;</span></td>
                                    <td>大于</td>
                                    <td><span class="c-variable">a</span> <span class="c-operator">&gt;</span> <span class="c-variable">b</span></td>
                                </tr>
                                <tr>
                                    <td><span class="c-operator">&lt;</span></td>
                                    <td>小于</td>
                                    <td><span class="c-variable">a</span> <span class="c-operator">&lt;</span> <span class="c-variable">b</span></td>
                                </tr>
                                <tr>
                                    <td><span class="c-operator">&gt;=</span></td>
                                    <td>大于等于</td>
                                    <td><span class="c-variable">a</span> <span class="c-operator">&gt;=</span> <span class="c-variable">b</span></td>
                                </tr>
                                <tr>
                                    <td><span class="c-operator">&lt;=</span></td>
                                    <td>小于等于</td>
                                    <td><span class="c-variable">a</span> <span class="c-operator">&lt;=</span> <span class="c-variable">b</span></td>
                                </tr>
                                <tr>
                                    <td><span class="c-operator">==</span></td>
                                    <td>等于</td>
                                    <td><span class="c-variable">a</span> <span class="c-operator">==</span> <span class="c-variable">b</span></td>
                                </tr>
                                <tr>
                                    <td><span class="c-operator">!=</span></td>
                                    <td>不等于</td>
                                    <td><span class="c-variable">a</span> <span class="c-operator">!=</span> <span class="c-variable">b</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">逻辑运算符</h3>
                    <div class="operator-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>运算符</th>
                                    <th>说明</th>
                                    <th>示例</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><span class="c-operator">&amp;&amp;</span></td>
                                    <td>逻辑与（AND）</td>
                                    <td><span class="c-variable">a</span> <span class="c-operator">&amp;&amp;</span> <span class="c-variable">b</span></td>
                                </tr>
                                <tr>
                                    <td><span class="c-operator">||</span></td>
                                    <td>逻辑或（OR）</td>
                                    <td><span class="c-variable">a</span> <span class="c-operator">||</span> <span class="c-variable">b</span></td>
                                </tr>
                                <tr>
                                    <td><span class="c-operator">!</span></td>
                                    <td>逻辑非（NOT）</td>
                                    <td><span class="c-operator">!</span><span class="c-variable">a</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">逻辑运算符优先级</h3>
                    <div class="code-block">
                        <div class="code-block-title">优先级示例</div>
                        <pre><code><span class="c-comment">// 逻辑运算符优先级详解</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">int</span> a = <span class="c-number">1</span>, b = <span class="c-number">2</span>, c = <span class="c-number">3</span>;
    
    <span class="c-comment">// !的优先级最高，然后是&&，最后是||</span>
    <span class="c-comment">// !a || b && !c 等价于 (!a) || (b && (!c))</span>
    <span class="c-keyword">int</span> result = !a || b && !c;
    
    <span class="c-function">printf</span>(<span class="c-string">"result = %d\n"</span>, result);  <span class="c-comment">// 输出: result = 0</span>
    
    <span class="c-comment">// 详细分析:</span>
    <span class="c-comment">// !a = !1 = 0</span>
    <span class="c-comment">// !c = !3 = 0</span>
    <span class="c-comment">// b && !c = 2 && 0 = 0</span>
    <span class="c-comment">// 0 || 0 = 0</span>
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                    </div>
                </div>

            </section>

            <!-- 赋值运算符 -->
            <section id="assignment" class="section">
                <h2 class="section-title">赋值运算符</h2>
                
                <div class="subsection">
                    <h3 class="subsection-title">基本赋值运算符</h3>
                    <div class="operator-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>运算符</th>
                                    <th>说明</th>
                                    <th>示例</th>
                                    <th>等价形式</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><span class="c-operator">=</span></td>
                                    <td>赋值</td>
                                    <td><span class="c-variable">a</span> <span class="c-operator">=</span> <span class="c-variable">b</span></td>
                                    <td>-</td>
                                </tr>
                                <tr>
                                    <td><span class="c-operator">+=</span></td>
                                    <td>加法赋值</td>
                                    <td><span class="c-variable">a</span> <span class="c-operator">+=</span> <span class="c-variable">b</span></td>
                                <td><span class="c-variable">a</span> <span class="c-operator">=</span> <span class="c-variable">a</span> <span class="c-operator">+</span> <span class="c-variable">b</span></td>
                                </tr>
                                <tr>
                                    <td><span class="c-operator">-=</span></td>
                                    <td>减法赋值</td>
                                    <td><span class="c-variable">a</span> <span class="c-operator">-=</span> <span class="c-variable">b</span></td>
                                <td><span class="c-variable">a</span> <span class="c-operator">=</span> <span class="c-variable">a</span> <span class="c-operator">-</span> <span class="c-variable">b</span></td>
                                </tr>
                                <tr>
                                    <td><span class="c-operator">*=</span></td>
                                    <td>乘法赋值</td>
                                    <td><span class="c-variable">a</span> <span class="c-operator">*=</span> <span class="c-variable">b</span></td>
                                <td><span class="c-variable">a</span> <span class="c-operator">=</span> <span class="c-variable">a</span> <span class="c-operator">*</span> <span class="c-variable">b</span></td>
                                </tr>
                                <tr>
                                    <td><span class="c-operator">/=</span></td>
                                    <td>除法赋值</td>
                                    <td><span class="c-variable">a</span> <span class="c-operator">/=</span> <span class="c-variable">b</span></td>
                                <td><span class="c-variable">a</span> <span class="c-operator">=</span> <span class="c-variable">a</span> <span class="c-operator">/</span> <span class="c-variable">b</span></td>
                                </tr>
                                <tr>
                                    <td><span class="c-operator">%=</span></td>
                                    <td>取模赋值</td>
                                    <td><span class="c-variable">a</span> <span class="c-operator">%=</span> <span class="c-variable">b</span></td>
                                <td><span class="c-variable">a</span> <span class="c-operator">=</span> <span class="c-variable">a</span> <span class="c-operator">%</span> <span class="c-variable">b</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">复合赋值运算符的优先级</h3>
                    <div class="warning-box">
                        <strong>重要提醒：</strong>复合赋值运算符的右边表达式会被当作一个整体来计算。
                    </div>
                    
                    <div class="code-block">
                        <div class="code-block-title">复合赋值示例</div>
                        <pre><code><span class="c-comment">// 复合赋值运算符的优先级</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">int</span> x = <span class="c-number">2</span>, y = <span class="c-number">3</span>;
    
    <span class="c-comment">// x *= y + 5 等价于 x = x * (y + 5)，而不是 (x * y) + 5</span>
    x *= y + <span class="c-number">5</span>;
    <span class="c-function">printf</span>(<span class="c-string">"x = %d\n"</span>, x);  <span class="c-comment">// 输出: x = 16</span>
    
    <span class="c-comment">// 分析:</span>
    <span class="c-comment">// y + 5 = 3 + 5 = 8</span>
    <span class="c-comment">// x * 8 = 2 * 8 = 16</span>
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">连续赋值</h3>
                    <div class="code-block">
                        <div class="code-block-title">连续赋值示例</div>
                        <pre><code><span class="c-comment">// 连续赋值的结合性</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">int</span> a, b, c;
    
    <span class="c-comment">// 连续赋值从右到左执行</span>
    a = b = c = <span class="c-number">5</span>;
    
    <span class="c-function">printf</span>(<span class="c-string">"a=%d, b=%d, c=%d\n"</span>, a, b, c);  <span class="c-comment">// 输出: a=5, b=5, c=5</span>
    
    <span class="c-comment">// 分析过程:</span>
    <span class="c-comment">// c = 5       // c = 5, 返回值 5</span>
    <span class="c-comment">// b = 5       // b = 5, 返回值 5</span>
    <span class="c-comment">// a = 5       // a = 5, 返回值 5</span>
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                    </div>
                </div>

            </section>

            <!-- 自增自减 -->
            <section id="increment" class="section">
                <h2 class="section-title">自增自减运算符</h2>
                
                <div class="subsection">
                    <h3 class="subsection-title">前缀与后缀的区别</h3>
                    <div class="operator-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>运算符</th>
                                    <th>说明</th>
                                    <th>示例</th>
                                    <th>区别</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><span class="c-operator">++</span><span class="c-variable">a</span></td>
                                    <td>前缀自增</td>
                                    <td><span class="c-operator">++</span><span class="c-variable">a</span></td>
                                    <td>先增加后使用值</td>
                                </tr>
                                <tr>
                                    <td><span class="c-variable">a</span><span class="c-operator">++</span></td>
                                    <td>后缀自增</td>
                                    <td><span class="c-variable">a</span><span class="c-operator">++</span></td>
                                    <td>先使用值后增加</td>
                                </tr>
                                <tr>
                                    <td><span class="c-operator">--</span><span class="c-variable">a</span></td>
                                    <td>前缀自减</td>
                                    <td><span class="c-operator">--</span><span class="c-variable">a</span></td>
                                    <td>先减少后使用值</td>
                                </tr>
                                <tr>
                                    <td><span class="c-variable">a</span><span class="c-operator">--</span></td>
                                    <td>后缀自减</td>
                                    <td><span class="c-variable">a</span><span class="c-operator">--</span></td>
                                    <td>先使用值后减少</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">自增自减示例</h3>
                    <div class="subsection-content">
                        <div class="new-learner-tip">
                            <strong>生活类比：</strong>
                            <p>前缀自增就像先吃饭再付钱，后缀自增就像先付钱再吃饭：</p>
                            <ul>
                                <li>++i：先增加i的值，再使用i</li>
                                <li>i++：先使用i的值，再增加i</li>
                            </ul>
                        </div>
                    </div>
                    <div class="code-block">
                        <div class="code-block-title">前缀后缀对比</div>
                        <pre><code><span class="c-comment">// 前缀与后缀自增的区别</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">int</span> x = <span class="c-number">5</span>, y, z;
    
    <span class="c-comment">// 前缀自增</span>
    y = ++x;  <span class="c-comment">// 先增加x为6，然后赋值给y</span>
    <span class="c-function">printf</span>(<span class="c-string">"y = %d, x = %d\n"</span>, y, x);  <span class="c-comment">// 输出: y = 6, x = 6</span>
    
    <span class="c-comment">// 重置x</span>
    x = <span class="c-number">5</span>;
    
    <span class="c-comment">// 后缀自增</span>
    z = x++;  <span class="c-comment">// 先将x的值5赋值给z，然后增加x为6</span>
    <span class="c-function">printf</span>(<span class="c-string">"z = %d, x = %d\n"</span>, z, x);  <span class="c-comment">// 输出: z = 5, x = 6</span>
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">自增自减在表达式中的使用</h3>
                    <div class="code-block">
                        <div class="code-block-title">表达式中的自增</div>
                        <pre><code><span class="c-comment">// 逻辑与运算中自增的使用</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">int</span> p = <span class="c-number">5</span>;
    <span class="c-keyword">int</span> result;
    
    <span class="c-comment">// 逻辑与运算中自增的使用</span>
    result = p &gt; <span class="c-number">0</span> && p++ &gt; <span class="c-number">5</span>;
    
    <span class="c-function">printf</span>(<span class="c-string">"p=%d, result=%d\n"</span>, p, result);  <span class="c-comment">// 输出: p=6, result=0</span>
    
    <span class="c-comment">// 分析:</span>
    <span class="c-comment">// p &gt; 0 为真 (5 &gt; 0)</span>
    <span class="c-comment">// p++ &gt; 5: 先比较 5 &gt; 5 为假，然后p变为6</span>
    <span class="c-comment">// 1 && 0 = 0</span>
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                    </div>
                </div>
            </section>

            <!-- 三元运算符 -->
            <section id="ternary" class="section">
                <h2 class="section-title">三元运算符</h2>
                
                <div class="subsection">
                    <h3 class="subsection-title">三元运算符语法</h3>
                    <div class="subsection-content">
                        <p>三元运算符 <span class="c-variable">条件表达式</span> <span class="c-operator">?</span> <span class="c-variable">表达式1</span> <span class="c-operator">:</span> <span class="c-variable">表达式2</span> 是C语言中唯一的三目运算符。</p>
                        
                        <div class="code-block">
                            <div class="code-block-title">基本语法</div>
                            <code><span class="c-variable"></span>条件表达式</span> <span class="c-operator">?</span> <span class="c-variable">表达式1</span> <span class="c-operator">:</span> <span class="c-variable">表达式2</span>

<span class="c-comment">// 如果条件表达式为真，返回表达式1的值</span>
<span class="c-comment">// 如果条件表达式为假，返回表达式2的值</span></code>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">三元运算符示例</h3>
                    <div class="code-block">
                        <div class="code-block-title">三元运算符使用示例</div>
                        <pre><code><span class="c-comment">// 三元运算符的基本用法</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">int</span> a = <span class="c-number">1</span>, b = <span class="c-number">0</span>;
    <span class="c-keyword">int</span> result;
    
    <span class="c-comment">// 基本用法</span>
    result = (a &gt; b) ? a + <span class="c-number">1</span> : b - <span class="c-number">1</span>;
    <span class="c-function">printf</span>(<span class="c-string">"result = %d\n"</span>, result);  <span class="c-comment">// 输出: result = 2</span>
    
    <span class="c-comment">// 在赋值中的应用</span>
    <span class="c-keyword">int</span> x = <span class="c-number">5</span>;
    x = (x &gt; <span class="c-number">3</span>) ? <span class="c-number">10</span> : <span class="c-number">20</span>;
    <span class="c-function">printf</span>(<span class="c-string">"x = %d\n"</span>, x);  <span class="c-comment">// 输出: x = 10</span>
    
    <span class="c-comment">// 嵌套使用</span>
    <span class="c-keyword">int</span> y = <span class="c-number">15</span>;
    y = (y &lt; <span class="c-number">1</span>) ? <span class="c-number">1</span> : (y &gt; <span class="c-number">10</span>) ? <span class="c-number">10</span> : y;
    <span class="c-function">printf</span>(<span class="c-string">"y = %d\n"</span>, y);  <span class="c-comment">// 输出: y = 10</span>
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                    </div>
                </div>
            </section>

            <!-- 位运算符 -->
            <section id="bitwise" class="section">
                <h2 class="section-title">位运算符</h2>
                
                <div class="subsection">
                    <h3 class="subsection-title">基本位运算符</h3>
                    <div class="operator-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>运算符</th>
                                    <th>说明</th>
                                    <th>示例</th>
                                    <th>用途</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><span class="c-operator">&amp;</span></td>
                                    <td>按位与</td>
                                    <td><span class="c-variable">a</span> <span class="c-operator">&</span> <span class="c-variable">b</span></td>
                                    <td>位掩码、清除特定位</td>
                                </tr>
                                <tr>
                                    <td><span class="c-operator">|</span></td>
                                    <td>按位或</td>
                                    <td><span class="c-variable">a</span> <span class="c-operator">|</span> <span class="c-variable">b</span></td>
                                    <td>设置特定位</td>
                                </tr>
                                <tr>
                                    <td><span class="c-operator">^</span></td>
                                    <td>按位异或</td>
                                    <td><span class="c-variable">a</span> <span class="c-operator">^</span> <span class="c-variable">b</span></td>
                                    <td>切换特定位</td>
                                </tr>
                                <tr>
                                    <td><span class="c-operator">~</span></td>
                                    <td>按位取反</td>
                                    <td><span class="c-operator">~</span><span class="c-variable">a</span></td>
                                    <td>位反转</td>
                                </tr>
                                <tr>
                                    <td><span class="c-operator"><<</span></td>
                                    <td>左移</td>
                                    <td><span class="c-variable">a</span> <span class="c-operator"><<</span> <span class="c-variable">n</span></td>
                                    <td>快速乘以2的n次方</td>
                                </tr>
                                <tr>
                                    <td><span class="c-operator">>></span></td>
                                    <td>右移</td>
                                    <td><span class="c-variable">a</span> <span class="c-operator">>></span> <span class="c-variable">n</span></td>
                                    <td>快速除以2的n次方</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">位运算符应用示例</h3>
                    <div class="code-block">
                        <div class="code-block-title">位运算符实用技巧</div>
                        <pre><code><span class="c-comment">// 位运算符的各种应用</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">unsigned</span> <span class="c-keyword">int</span> n = <span class="c-number">0xAA</span>;  <span class="c-comment">// 十六进制: 0xAA = 10101010 (二进制)</span>
    <span class="c-keyword">unsigned</span> <span class="c-keyword">int</span> data = <span class="c-number">5</span>;   <span class="c-comment">// 二进制: 101</span>
    
    <span class="c-comment">// 左移运算</span>
    <span class="c-function">printf</span>(<span class="c-string">"n &lt;&lt; 4 = 0x%X\n"</span>, n &lt;&lt; <span class="c-number">4</span>);  <span class="c-comment">// 输出: n &lt;&lt; 4 = 0xAA0</span>
    <span class="c-comment">// 分析: 10101010 &lt;&lt; 4 = 101010100000 = 0xAA0</span>
    
    <span class="c-comment">// 右移运算</span>
    <span class="c-keyword">int</span> num = <span class="c-number">0x8A</span>;  <span class="c-comment">// 十六进制: 0x8A = 10001010 (二进制) = 138 (十进制)</span>
    <span class="c-function">printf</span>(<span class="c-string">"num &gt;&gt; 3 = %d\n"</span>, num &gt;&gt; <span class="c-number">3</span>);  <span class="c-comment">// 输出: num &gt;&gt; 3 = 17</span>
    <span class="c-comment">// 分析: 138 &gt;&gt; 3 = 17</span>
    
    <span class="c-comment">// 按位与：检查最低位</span>
    <span class="c-keyword">if</span> (data & <span class="c-number">1</span>) {
        <span class="c-function">printf</span>(<span class="c-string">"data的最低位是1\n"</span>);  <span class="c-comment">// 输出: data的最低位是1</span>
    } <span class="c-keyword">else</span> {
        <span class="c-function">printf</span>(<span class="c-string">"data的最低位是0\n"</span>);
    }
    
    <span class="c-comment">// 复杂位运算</span>
    <span class="c-keyword">int</span> result = <span class="c-number">1</span> & <span class="c-number">2</span> | <span class="c-number">4</span>;
    <span class="c-function">printf</span>(<span class="c-string">"1 &amp; 2 | 4 = %d\n"</span>, result);  <span class="c-comment">// 输出: 1 &amp; 2 | 4 = 4</span>
    <span class="c-comment">// 分析: (1 &amp; 2) | 4 = 0 | 4 = 4</span>
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                    </div>
                </div>
            </section>

            <!-- 运算符优先级 -->
            <section id="priority" class="section">
                <h2 class="section-title">运算符优先级与结合性</h2>
                
                <div class="subsection">
                    <h3 class="subsection-title">运算符优先级表（从高到低）</h3>
                    <div class="operator-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>优先级</th>
                                    <th>运算符</th>
                                    <th>结合性</th>
                                    <th>说明</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td><span class="c-operator">()</span> <span class="c-operator">[]</span> <span class="c-operator">-&gt;</span> <span class="c-operator">.</span></td>
                                    <td>左到右</td>
                                    <td>函数调用、数组、结构体成员访问</td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td><span class="c-operator">!</span> <span class="c-operator">++</span> <span class="c-operator">--</span> <span class="c-operator">-</span> <span class="c-operator">(类型)</span> <span class="c-operator">*</span> <span class="c-operator">&amp;</span> <span class="c-keyword">sizeof</span></td>
                                    <td>右到左</td>
                                    <td>逻辑非、自增自减、负号、类型转换等</td>
                                </tr>
                                <tr>
                                    <td>3</td>
                                    <td><span class="c-operator">*</span> <span class="c-operator">/</span> <span class="c-operator">%</span></td>
                                    <td>左到右</td>
                                    <td>乘法、除法、取模</td>
                                </tr>
                                <tr>
                                    <td>4</td>
                                    <td><span class="c-operator">+</span> <span class="c-operator">-</span></td>
                                    <td>左到右</td>
                                    <td>加法、减法</td>
                                </tr>
                                <tr>
                                    <td>5</td>
                                    <td><span class="c-operator">&lt;&lt;</span> <span class="c-operator">&gt;&gt;</span></td>
                                    <td>左到右</td>
                                    <td>左移、右移</td>
                                </tr>
                                <tr>
                                    <td>6</td>
                                    <td><span class="c-operator">&lt;</span> <span class="c-operator">&lt;=</span> <span class="c-operator">&gt;</span> <span class="c-operator">&gt;=</span></td>
                                    <td>左到右</td>
                                    <td>关系运算符</td>
                                </tr>
                                <tr>
                                    <td>7</td>
                                    <td><span class="c-operator">==</span> <span class="c-operator">!=</span></td>
                                    <td>左到右</td>
                                    <td>相等性运算符</td>
                                </tr>
                                <tr>
                                    <td>8</td>
                                    <td><span class="c-operator">&</span></td>
                                    <td>左到右</td>
                                    <td>按位与</td>
                                </tr>
                                <tr>
                                    <td>9</td>
                                    <td><span class="c-operator">^</span></td>
                                    <td>左到右</td>
                                    <td>按位异或</td>
                                </tr>
                                <tr>
                                    <td>10</td>
                                    <td><span class="c-operator">|</span></td>
                                    <td>左到右</td>
                                    <td>按位或</td>
                                </tr>
                                <tr>
                                    <td>11</td>
                                    <td><span class="c-operator">&amp;&amp;</span></td>
                                    <td>左到右</td>
                                    <td>逻辑与</td>
                                </tr>
                                <tr>
                                    <td>12</td>
                                    <td><span class="c-operator">||</span></td>
                                    <td>左到右</td>
                                    <td>逻辑或</td>
                                </tr>
                                <tr>
                                    <td>13</td>
                                    <td><span class="c-operator">?:</span></td>
                                    <td>右到左</td>
                                    <td>三元运算符</td>
                                </tr>
                                <tr>
                                    <td>14</td>
                                    <td><span class="c-operator">=</span> <span class="c-operator">+=</span> <span class="c-operator">-=</span> <span class="c-operator">*=</span> <span class="c-operator">/=</span> <span class="c-operator">%=</span> <span class="c-operator">&amp;=</span> <span class="c-operator">^=</span> <span class="c-operator">|=</span> <span class="c-operator">&lt;&lt;=</span> <span class="c-operator">&gt;&gt;=</span></td>
                                    <td>右到左</td>
                                    <td>赋值运算符</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">优先级实例分析</h3>
                    <div class="code-block">
                        <div class="code-block-title">复杂表达式求值</div>
                        <pre><code><span class="c-comment">// 运算符优先级与结合性示例</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">int</span> a = <span class="c-number">1</span>, b = <span class="c-number">2</span>, c = <span class="c-number">3</span>;
    
    <span class="c-comment">// 复杂表达式的优先级分析</span>
    <span class="c-keyword">int</span> result1 = a + b * (a - b);
    <span class="c-function">printf</span>(<span class="c-string">"a + b * (a - b) = %d\n"</span>, result1);  <span class="c-comment">// 输出: a + b * (a - b) = -1</span>
    
    <span class="c-comment">// 运算符优先级：* &gt; +，先算 b * (a-b)</span>
    <span class="c-comment">// a - b = 1 - 2 = -1</span>
    <span class="c-comment">// b * (-1) = 2 * (-1) = -2</span>
    <span class="c-comment">// a + (-2) = 1 + (-2) = -1</span>
    
    <span class="c-keyword">int</span> result2 = a % b * <span class="c-number">2</span> + <span class="c-number">1</span>;
    <span class="c-function">printf</span>(<span class="c-string">"a %% b * 2 + 1 = %d\n"</span>, result2);  <span class="c-comment">// 输出: a % b * 2 + 1 = 1</span>
    
    <span class="c-comment">// 运算符优先级：* % &gt; +，从左到右结合</span>
    <span class="c-comment">// a % b = 6 % 2 = 0</span>
    <span class="c-comment">// 0 * 2 = 0</span>
    <span class="c-comment">// 0 + 1 = 1</span>
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                    </div>
                </div>
            </section>

            <!-- 类型转换 -->
            <section id="conversion" class="section">
                <h2 class="section-title">类型转换</h2>
                
                <div class="subsection">
                    <h3 class="subsection-title">隐式类型转换</h3>
                    <div class="subsection-content">
                        <p>C语言在表达式求值时会自动进行类型转换，以使操作数兼容。</p>
                        
                        <div class="code-block">
                            <div class="code-block-title">隐式类型转换示例</div>
                            <pre><code><span class="c-comment">// 隐式类型转换演示</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">int</span> i = <span class="c-number">5</span>;
    <span class="c-keyword">double</span> result;
    
    <span class="c-comment">// 整数提升：int提升为double</span>
    result = (<span class="c-keyword">double</span>)i / <span class="c-number">2</span>;
    <span class="c-function">printf</span>(<span class="c-string">"(double)i / 2 = %.1f\n"</span>, result);  <span class="c-comment">// 输出: (double)i / 2 = 2.5</span>
    
    <span class="c-comment">// 混合类型运算：自动提升</span>
    result = <span class="c-number">5</span> / <span class="c-number">2.0</span>;
    <span class="c-function">printf</span>(<span class="c-string">"5 / 2.0 = %.1f\n"</span>, result);  <span class="c-comment">// 输出: 5 / 2.0 = 2.5</span>
    
    <span class="c-comment">// 强制转换与自动转换</span>
    result = (<span class="c-keyword">int</span>)<span class="c-number">3.14</span> + <span class="c-number">1.8</span>;
    <span class="c-function">printf</span>(<span class="c-string">"(int)3.14 + 1.8 = %.1f\n"</span>, result);  <span class="c-comment">// 输出: (int)3.14 + 1.8 = 4.8</span>
    
    <span class="c-comment">// 分析: (int)3.14 = 3，然后 3 + 1.8 提升为 double = 4.8</span>
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">sizeof运算符</h3>
                    <div class="code-block">
                        <div class="code-block-title">sizeof使用示例</div>
                        <pre><code><span class="c-comment">// sizeof运算符的使用</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-function">printf</span>(<span class="c-string">"sizeof(5 / 2) = %zu\n"</span>, <span class="c-function">sizeof</span>(<span class="c-number">5</span> / <span class="c-number">2</span>));  <span class="c-comment">// 输出: sizeof(5 / 2) = 4</span>
    <span class="c-function">printf</span>(<span class="c-string">"sizeof(5.0 / 2) = %zu\n"</span>, <span class="c-function">sizeof</span>(<span class="c-number">5.0</span> / <span class="c-number">2</span>));  <span class="c-comment">// 输出: sizeof(5.0 / 2) = 8</span>
    
    <span class="c-comment">// 分析:</span>
    <span class="c-comment">// 5 / 2 是整数除法，结果为int类型，sizeof(int) = 4</span>
    <span class="c-comment">// 5.0 / 2 中5.0是double，结果为double类型，sizeof(double) = 8</span>
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                    </div>
                </div>
            </section>

            <!-- 短路求值 -->
            <section id="short-circuit" class="section">
                <h2 class="section-title">短路求值</h2>
                
                <div class="subsection">
                    <h3 class="subsection-title">逻辑运算符的短路特性</h3>
                    <div class="subsection-content">
                        <p>在C语言中，逻辑运算符 <code>&amp;&amp;</code> 和 <code>||</code> 采用短路求值策略：</p>
                        <ul>
                            <li><strong>&amp;&amp; 运算符：</strong>如果第一个操作数为假，则不再计算第二个操作数</li>
                            <li><strong>|| 运算符：</strong>如果第一个操作数为真，则不再计算第二个操作数</li>
                        </ul>
                        
                        <div class="warning-box">
                            <strong>重要：</strong>短路求值可以避免不必要的计算，有时还能避免错误（如除零错误）。
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">短路求值示例</h3>
                    <div class="code-block">
                        <div class="code-block-title">短路求值实例</div>
                        <pre><code><span class="c-comment">// 短路求值的应用</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">int</span> x = <span class="c-number">0</span>;
    
    <span class="c-comment">// 逻辑或的短路求值</span>
    <span class="c-keyword">int</span> result1 = (<span class="c-number">1</span> &gt; <span class="c-number">0</span>) || (<span class="c-number">0</span> / x);
    <span class="c-function">printf</span>(<span class="c-string">"(1 &gt; 0) || (0 / x) = %d\n"</span>, result1);  <span class="c-comment">// 输出: (1 &gt; 0) || (0 / x) = 1</span>
    
    <span class="c-comment">// 分析: 第一个条件为真，不再计算第二个条件，避免除零错误</span>
    
    <span class="c-keyword">int</span> i = <span class="c-number">8</span>;
    <span class="c-keyword">int</span> result2 = i &gt; <span class="c-number">10</span> || ++i;
    <span class="c-function">printf</span>(<span class="c-string">"i &gt; 10 || ++i: i=%d, result=%d\n"</span>, i, result2);  <span class="c-comment">// 输出: i &gt; 10 || ++i: i=9, result=1</span>
    
    <span class="c-comment">// 分析: i &gt; 10 为假，继续计算 ++i，i 变为 9</span>
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                    </div>
                </div>
            </section>

            <!-- 未定义行为 -->
            <section id="undefined" class="section">
                <h2 class="section-title">未定义行为</h2>
                
                <div class="subsection">
                    <h3 class="subsection-title">什么是未定义行为</h3>
                    <div class="subsection-content">
                        <p>未定义行为（Undefined Behavior）是指C语言标准没有定义的行为，不同编译器可能有不同的处理方式。</p>
                        
                        <div class="warning-box">
                            <strong>警告：</strong>未定义行为可能导致程序崩溃、数据错误或不可预测的结果。应该避免编写包含未定义行为的代码。
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">常见的未定义行为</h3>
                    <div class="code-block">
                        <div class="code-block-title">未定义行为示例</div>
                        <pre><code><span class="c-comment">// 避免未定义行为</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">int</span> i = <span class="c-number">5</span>;
    
    <span class="c-comment">// 错误：对同一变量多次修改没有序列点</span>
    <span class="c-comment">// int j = i++ + ++i;  // 这条语句是未定义行为！</span>
    
    <span class="c-comment">// 正确做法：分开操作</span>
    <span class="c-keyword">int</span> j1 = i++;
    i++;
    <span class="c-keyword">int</span> j2 = j1 + i;
    <span class="c-function">printf</span>(<span class="c-string">"正确做法: i=%d, j=%d\n"</span>, i, j2);
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                    </div>
                </div>
            </section>

            <!-- 总结 -->
            <section id="summary" class="section">
                <h2 class="section-title">总结</h2>
                <div class="subsection-content">
                    <p>通过本教程，我们学习了C语言表达式的各个方面：</p>
                    
                    <div class="practice-section">
                        <h3>练习环节</h3>
                        <p>尝试完成以下练习巩固所学知识：</p>
                        <ol>
                            <li>计算 (5 + 3 * 2) / 4 的结果</li>
                            <li>编写程序验证自增运算符前后缀的区别</li>
                            <li>使用三元运算符实现求两个数中较大值的功能</li>
                        </ol>
                    </div>
                    
                    <div class="example-grid">
                        <div class="example-item">
                            <strong>算术运算符</strong>
                            <ul>
                                <li>整数除法向下取整</li>
                                <li>取模运算符的应用</li>
                            </ul>
                        </div>
                        
                        <div class="example-item">
                            <strong>逻辑与关系运算符</strong>
                            <ul>
                                <li>运算符优先级很重要</li>
                                <li>逻辑运算符的短路特性</li>
                            </ul>
                        </div>
                        
                        <div class="example-item">
                            <strong>赋值运算符</strong>
                            <ul>
                                <li>复合赋值的优先级</li>
                                <li>连续赋值的结合性</li>
                            </ul>
                        </div>
                        
                        <div class="example-item">
                            <strong>自增自减</strong>
                            <ul>
                                <li>前缀与后缀的区别</li>
                                <li>在表达式中的行为</li>
                            </ul>
                        </div>
                        
                        <div class="example-item">
                            <strong>位运算符</strong>
                            <ul>
                                <li>位操作的实际应用</li>
                                <li>移位运算的特点</li>
                            </ul>
                        </div>
                        
                        <div class="example-item">
                            <strong>特殊运算符</strong>
                            <ul>
                                <li>三元运算符的使用</li>
                                <li>sizeof运算符的意义</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="tip-box">
                        <strong>学习建议：</strong>
                        <ul>
                            <li>熟记运算符优先级表</li>
                            <li>理解类型转换规则</li>
                            <li>注意短路求值特性</li>
                            <li>避免编写未定义行为的代码</li>
                            <li>多写代码练习加深理解</li>
                        </ul>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <script>
        // 为所有代码块添加复制按钮
        document.addEventListener('DOMContentLoaded', function() {
            const codeBlocks = document.querySelectorAll('.code-block');
            
            codeBlocks.forEach(function(block) {
                const title = block.querySelector('.code-block-title');
                if (title) {
                    // 创建复制按钮
                    const copyButton = document.createElement('button');
                    copyButton.className = 'copy-button';
                    copyButton.textContent = '复制';
                    
                    // 添加点击事件
                    copyButton.addEventListener('click', function() {
                        const code = block.querySelector('code');
                        if (code) {
                            // 获取代码内容
                            const textToCopy = code.textContent;
                            
                            // 创建临时文本区域
                            const textArea = document.createElement('textarea');
                            textArea.value = textToCopy;
                            document.body.appendChild(textArea);
                            textArea.select();
                            
                            try {
                                // 执行复制命令
                                const successful = document.execCommand('copy');
                                if (successful) {
                                    // 显示复制成功状态
                                    copyButton.textContent = '已复制';
                                    copyButton.classList.add('copied');
                                    
                                    // 2秒后恢复按钮状态
                                    setTimeout(function() {
                                        copyButton.textContent = '复制';
                                        copyButton.classList.remove('copied');
                                    }, 2000);
                                }
                            } catch (err) {
                                console.error('复制失败:', err);
                            }
                            
                            // 移除临时文本区域
                            document.body.removeChild(textArea);
                        }
                    });
                    
                    // 将按钮添加到标题栏
                    title.appendChild(copyButton);
                }
            });
        });

        // 导航栏高亮效果
        document.addEventListener('DOMContentLoaded', function() {
            const navLinks = document.querySelectorAll('.tutorial-nav a');
            const sections = document.querySelectorAll('.section');
            
            // 点击导航链接时更新高亮
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    navLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                });
            });
            
            // 滚动时自动高亮对应章节
            const observerOptions = {
                root: null,
                rootMargin: '-20% 0px -70% 0px',
                threshold: 0
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.getAttribute('id');
                        navLinks.forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href') === `#${id}`) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }, observerOptions);
            
            sections.forEach(section => observer.observe(section));
        });
    </script>
</body>
</html>