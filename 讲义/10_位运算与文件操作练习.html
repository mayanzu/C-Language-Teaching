<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä½è¿ç®—ä¸æ–‡ä»¶æ“ä½œç»ƒä¹  - Cè¯­è¨€æ•™ç¨‹</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- ä¾§è¾¹å¯¼èˆªæ  -->
    <nav class="tutorial-nav">
        <ul>
            <li><a href="#intro" class="active">ç®€ä»‹</a></li>
            <li><a href="#bitwise">ä½è¿ç®—</a></li>
            <li><a href="#shift">ç§»ä½è¿ç®—</a></li>
            <li><a href="#bit-manipulation">ä½æ“ä½œæŠ€å·§</a></li>
            <li><a href="#file-basic">æ–‡ä»¶æ“ä½œåŸºç¡€</a></li>
            <li><a href="#file-io">æ–‡ä»¶è¯»å†™</a></li>
            
        </ul>
    </nav>

    <!-- ä¸»å†…å®¹åŒºåŸŸ -->
    <main class="tutorial-content">
        <!-- é¡µé¢æ ‡é¢˜ -->
        <header class="tutorial-header">
            <h1>ä½è¿ç®—ä¸æ–‡ä»¶æ“ä½œç»ƒä¹ </h1>
            <p>æŒæ¡ C è¯­è¨€ä½è¿ç®—å’Œæ–‡ä»¶æ“ä½œçš„åŸºæœ¬æ–¹æ³•</p>
        </header>
            <!-- ç®€ä»‹ -->
            <section id="intro" class="section">
                <h2 class="section-title">ä½è¿ç®—ä¸æ–‡ä»¶æ“ä½œ</h2>
                <div class="subsection-content">
                    <h3>ä¸ºä»€ä¹ˆè¦å­¦ä¹ ä½è¿ç®—å’Œæ–‡ä»¶æ“ä½œï¼Ÿ</h3>
                    <p>ä½è¿ç®—å’Œæ–‡ä»¶æ“ä½œæ˜¯Cè¯­è¨€ä¸­ä¸¤ä¸ªéå¸¸é‡è¦çš„ä¸»é¢˜ï¼Œå®ƒä»¬åœ¨å®é™…ç¼–ç¨‹ä¸­æœ‰ç€å¹¿æ³›çš„åº”ç”¨ã€‚</p>
                    
                    <h4>ä½è¿ç®—çš„ä»·å€¼</h4>
                    <ul>
                        <li><strong>é«˜æ•ˆæ€§</strong>ï¼šä½è¿ç®—ç›´æ¥æ“ä½œäºŒè¿›åˆ¶ä½ï¼Œæ˜¯è®¡ç®—æœºæœ€åº•å±‚çš„è¿ç®—ï¼Œæ‰§è¡Œé€Ÿåº¦æå¿«</li>
                        <li><strong>èŠ‚çœç©ºé—´</strong>ï¼šå¯ä»¥åœ¨ä¸€ä¸ªå­—èŠ‚ä¸­å­˜å‚¨å¤šä¸ªå¸ƒå°”å€¼ï¼Œå¤§å¹…èŠ‚çœå†…å­˜</li>
                        <li><strong>åº•å±‚ç¼–ç¨‹</strong>ï¼šç¡¬ä»¶æ§åˆ¶ã€é©±åŠ¨å¼€å‘ã€åµŒå…¥å¼ç³»ç»Ÿå¿…å¤‡æŠ€èƒ½</li>
                        <li><strong>ç®—æ³•ä¼˜åŒ–</strong>ï¼šè®¸å¤šé«˜æ•ˆç®—æ³•éƒ½ä¾èµ–ä½è¿ç®—æŠ€å·§</li>
                        <li><strong>æ•°æ®å¤„ç†</strong>ï¼šæƒé™ç®¡ç†ã€æ ‡å¿—ä½æ§åˆ¶ã€æ•°æ®å‹ç¼©ç­‰åœºæ™¯</li>
                    </ul>

                    <h4>æ–‡ä»¶æ“ä½œçš„é‡è¦æ€§</h4>
                    <ul>
                        <li><strong>æ•°æ®æŒä¹…åŒ–</strong>ï¼šå°†æ•°æ®æ°¸ä¹…ä¿å­˜ï¼Œç¨‹åºå…³é—­åæ•°æ®ä¸ä¸¢å¤±</li>
                        <li><strong>æ•°æ®äº¤æ¢</strong>ï¼šç¨‹åºä¹‹é—´é€šè¿‡æ–‡ä»¶å…±äº«æ•°æ®</li>
                        <li><strong>é…ç½®ç®¡ç†</strong>ï¼šè¯»å–é…ç½®æ–‡ä»¶ï¼Œçµæ´»æ§åˆ¶ç¨‹åºè¡Œä¸º</li>
                        <li><strong>æ—¥å¿—è®°å½•</strong>ï¼šè®°å½•ç¨‹åºè¿è¡ŒçŠ¶æ€ï¼Œä¾¿äºè°ƒè¯•å’Œåˆ†æ</li>
                        <li><strong>å®é™…åº”ç”¨</strong>ï¼šå‡ ä¹æ‰€æœ‰å®ç”¨ç¨‹åºéƒ½éœ€è¦æ–‡ä»¶æ“ä½œèƒ½åŠ›</li>
                    </ul>

                    <h4>æœ¬ç« å­¦ä¹ ç›®æ ‡</h4>
                    <div class="tip-box">
                        <p><strong>ä½è¿ç®—éƒ¨åˆ†</strong></p>
                        <ul>
                            <li>âœ… æŒæ¡6ç§ä½è¿ç®—ç¬¦ï¼ˆ&, |, ^, ~, <<, >>ï¼‰çš„åŸç†å’Œç”¨æ³•</li>
                            <li>âœ… ç†è§£äºŒè¿›åˆ¶è¿ç®—çš„æœ¬è´¨ï¼Œèƒ½å¤Ÿæ‰‹ç®—äºŒè¿›åˆ¶è¿ç®—ç»“æœ</li>
                            <li>âœ… å­¦ä¹ ä½è¿ç®—åœ¨æƒé™æ§åˆ¶ã€æ•°æ®å‹ç¼©ç­‰åœºæ™¯çš„åº”ç”¨</li>
                            <li>âœ… æŒæ¡å¸¸ç”¨çš„ä½æ“ä½œæŠ€å·§ï¼ˆè®¾ç½®ä½ã€æ¸…é™¤ä½ã€æ£€æŸ¥ä½ç­‰ï¼‰</li>
                        </ul>
                        
                        <p><strong>æ–‡ä»¶æ“ä½œéƒ¨åˆ†</strong></p>
                        <ul>
                            <li>âœ… ç†è§£æ–‡ä»¶ã€æ–‡ä»¶æµã€æ–‡ä»¶æŒ‡é’ˆç­‰åŸºæœ¬æ¦‚å¿µ</li>
                            <li>âœ… æŒæ¡æ–‡ä»¶çš„æ‰“å¼€ã€è¯»å†™ã€å…³é—­æ“ä½œ</li>
                            <li>âœ… ç†Ÿæ‚‰å„ç§æ–‡ä»¶æ‰“å¼€æ¨¡å¼ï¼ˆr, w, a, r+, w+, a+ç­‰ï¼‰</li>
                            <li>âœ… å­¦ä¹ æ–‡æœ¬æ–‡ä»¶å’ŒäºŒè¿›åˆ¶æ–‡ä»¶çš„åŒºåˆ«å’Œåº”ç”¨</li>
                            <li>âœ… æŒæ¡æ–‡ä»¶é”™è¯¯å¤„ç†å’Œæ–‡ä»¶æŒ‡é’ˆå®šä½</li>
                        </ul>
                    </div>
                    
                    <div class="new-learner-tip">
                        <strong>æ–°æ‰‹æ³¨æ„ï¼š</strong>
                        <ul>
                            <li>ä½è¿ç®—æ“ä½œçš„æ˜¯äºŒè¿›åˆ¶ä½ï¼Œéœ€è¦ç†è§£äºŒè¿›åˆ¶æ•°çš„è¡¨ç¤ºæ–¹æ³•</li>
                            <li>ç§»ä½è¿ç®—å¯ä»¥å¿«é€Ÿå®ç°ä¹˜é™¤2çš„å¹‚æ¬¡ï¼Œä½†è¦æ³¨æ„ç¬¦å·ä½</li>
                            <li>æ–‡ä»¶æ“ä½œå‰å¿…é¡»æ£€æŸ¥æ–‡ä»¶æ˜¯å¦æˆåŠŸæ‰“å¼€ï¼ˆfp != NULLï¼‰</li>
                            <li>ä½¿ç”¨å®Œæ–‡ä»¶åå¿…é¡»è°ƒç”¨fclose()å…³é—­ï¼Œå¦åˆ™å¯èƒ½ä¸¢å¤±æ•°æ®</li>
                            <li>æ–‡æœ¬æ–‡ä»¶å’ŒäºŒè¿›åˆ¶æ–‡ä»¶çš„æ‰“å¼€æ¨¡å¼ä¸åŒï¼ˆrb, wbç­‰ï¼‰</li>
                        </ul>
                    </div>

                    <div class="warning-box">
                        <strong>âš ï¸ å¸¸è§é”™è¯¯æç¤ºï¼š</strong>
                        <ul>
                            <li>ä½è¿ç®—çš„ä¼˜å…ˆçº§è¾ƒä½ï¼Œä½¿ç”¨æ—¶è¦åŠ æ‹¬å·ï¼š<code>if ((x & mask) != 0)</code></li>
                            <li>ä¸è¦æ··æ·†ä½è¿ç®—ç¬¦ï¼ˆ&, |ï¼‰å’Œé€»è¾‘è¿ç®—ç¬¦ï¼ˆ&&, ||ï¼‰</li>
                            <li>å³ç§»è´Ÿæ•°æ—¶ï¼Œç»“æœå–å†³äºç¼–è¯‘å™¨å®ç°ï¼ˆç®—æœ¯å³ç§»æˆ–é€»è¾‘å³ç§»ï¼‰</li>
                            <li>æ–‡ä»¶æ“ä½œå¤±è´¥åç»§ç»­æ“ä½œä¼šå¯¼è‡´ç¨‹åºå´©æºƒ</li>
                            <li>å¿˜è®°å…³é—­æ–‡ä»¶ä¼šé€ æˆèµ„æºæ³„æ¼</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- ä½è¿ç®— -->
            <section id="bitwise" class="section">
                <h2 class="section-title">ä½è¿ç®—</h2>
                
                <div class="subsection-content">
                    <h3>ä½è¿ç®—åŸºæœ¬æ¦‚å¿µ</h3>
                    <p>ä½è¿ç®—æ˜¯ç›´æ¥å¯¹æ•´æ•°åœ¨å†…å­˜ä¸­çš„äºŒè¿›åˆ¶ä½è¿›è¡Œæ“ä½œã€‚ç†è§£ä½è¿ç®—éœ€è¦é¦–å…ˆæŒæ¡äºŒè¿›åˆ¶æ•°çš„è¡¨ç¤ºæ–¹æ³•ã€‚</p>
                    
                    <div class="tip-box">
                        <p><strong>äºŒè¿›åˆ¶åŸºç¡€å›é¡¾</strong></p>
                        <p>æ•´æ•°åœ¨è®¡ç®—æœºä¸­ä»¥äºŒè¿›åˆ¶å½¢å¼å­˜å‚¨ï¼š</p>
                        <ul>
                            <li>åè¿›åˆ¶ 5 = äºŒè¿›åˆ¶ 0101ï¼ˆä»å³å¾€å·¦ï¼š1Ã—2â° + 0Ã—2Â¹ + 1Ã—2Â² + 0Ã—2Â³ï¼‰</li>
                            <li>åè¿›åˆ¶ 3 = äºŒè¿›åˆ¶ 0011ï¼ˆä»å³å¾€å·¦ï¼š1Ã—2â° + 1Ã—2Â¹ + 0Ã—2Â² + 0Ã—2Â³ï¼‰</li>
                            <li>åè¿›åˆ¶ 7 = äºŒè¿›åˆ¶ 0111</li>
                            <li>åè¿›åˆ¶ -1 = äºŒè¿›åˆ¶ 1111...1111ï¼ˆè¡¥ç è¡¨ç¤ºï¼Œæ‰€æœ‰ä½éƒ½æ˜¯1ï¼‰</li>
                        </ul>
                    </div>
                </div>
                
                <div class="subsection">
                    <h3 class="subsection-title">1. æŒ‰ä½ä¸è¿ç®—ç¬¦ï¼ˆ&ï¼‰</h3>
                    <div class="subsection-content">
                        <p><strong>è¿ç®—è§„åˆ™ï¼š</strong>å¯¹åº”ä½éƒ½æ˜¯1æ—¶ç»“æœä¸º1ï¼Œå¦åˆ™ä¸º0</p>
                        <p><strong>åº”ç”¨åœºæ™¯ï¼š</strong>æå–ç‰¹å®šä½ã€æ£€æŸ¥æ ‡å¿—ä½ã€æ¸…é›¶æŸäº›ä½</p>
                        
                        <div class="tip-box">
                            <p><strong>çœŸå€¼è¡¨ï¼š</strong></p>
                            <p>0 & 0 = 0<br>0 & 1 = 0<br>1 & 0 = 0<br>1 & 1 = 1</p>
                            <p><strong>ç¤ºä¾‹ï¼š</strong>5 & 3 çš„è®¡ç®—è¿‡ç¨‹</p>
                            <pre>  0101  (5)
& 0011  (3)
--------
  0001  (1)</pre>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">2. æŒ‰ä½æˆ–è¿ç®—ç¬¦ï¼ˆ|ï¼‰</h3>
                    <div class="subsection-content">
                        <p><strong>è¿ç®—è§„åˆ™ï¼š</strong>å¯¹åº”ä½æœ‰ä¸€ä¸ªæ˜¯1æ—¶ç»“æœä¸º1ï¼Œå¦åˆ™ä¸º0</p>
                        <p><strong>åº”ç”¨åœºæ™¯ï¼š</strong>è®¾ç½®ç‰¹å®šä½ã€åˆå¹¶æ ‡å¿—ä½</p>
                        
                        <div class="tip-box">
                            <p><strong>çœŸå€¼è¡¨ï¼š</strong></p>
                            <p>0 | 0 = 0<br>0 | 1 = 1<br>1 | 0 = 1<br>1 | 1 = 1</p>
                            <p><strong>ç¤ºä¾‹ï¼š</strong>5 | 3 çš„è®¡ç®—è¿‡ç¨‹</p>
                            <pre>  0101  (5)
| 0011  (3)
--------
  0111  (7)</pre>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">3. æŒ‰ä½å¼‚æˆ–è¿ç®—ç¬¦ï¼ˆ^ï¼‰</h3>
                    <div class="subsection-content">
                        <p><strong>è¿ç®—è§„åˆ™ï¼š</strong>å¯¹åº”ä½ä¸åŒæ—¶ç»“æœä¸º1ï¼Œç›¸åŒæ—¶ä¸º0</p>
                        <p><strong>åº”ç”¨åœºæ™¯ï¼š</strong>ç¿»è½¬ç‰¹å®šä½ã€ç®€å•åŠ å¯†ã€æ•°æ®äº¤æ¢</p>
                        
                        <div class="tip-box">
                            <p><strong>çœŸå€¼è¡¨ï¼š</strong></p>
                            <p>0 ^ 0 = 0<br>0 ^ 1 = 1<br>1 ^ 0 = 1<br>1 ^ 1 = 0</p>
                            <p><strong>ç¤ºä¾‹ï¼š</strong>5 ^ 3 çš„è®¡ç®—è¿‡ç¨‹</p>
                            <pre>  0101  (5)
^ 0011  (3)
--------
  0110  (6)</pre>
                            <p><strong>å¼‚æˆ–çš„é‡è¦æ€§è´¨ï¼š</strong></p>
                            <ul>
                                <li>x ^ 0 = xï¼ˆä»»ä½•æ•°ä¸0å¼‚æˆ–ç­‰äºè‡ªèº«ï¼‰</li>
                                <li>x ^ x = 0ï¼ˆä»»ä½•æ•°ä¸è‡ªèº«å¼‚æˆ–ç­‰äº0ï¼‰</li>
                                <li>x ^ y ^ y = xï¼ˆè¿ç»­å¼‚æˆ–ä¸¤æ¬¡ç›¸åŒçš„æ•°ï¼Œç»“æœä¸å˜ï¼‰</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">4. æŒ‰ä½å–åè¿ç®—ç¬¦ï¼ˆ~ï¼‰</h3>
                    <div class="subsection-content">
                        <p><strong>è¿ç®—è§„åˆ™ï¼š</strong>å°†æ‰€æœ‰ä½å–åï¼ˆ0å˜1ï¼Œ1å˜0ï¼‰</p>
                        <p><strong>åº”ç”¨åœºæ™¯ï¼š</strong>è·å–åç ã€æ„é€ æ©ç </p>
                        
                        <div class="tip-box">
                            <p><strong>ç¤ºä¾‹ï¼š</strong>~5 çš„è®¡ç®—è¿‡ç¨‹ï¼ˆå‡è®¾8ä½ï¼‰</p>
                            <pre>  00000101  (5)
~
  11111010  (-6ï¼Œè¡¥ç è¡¨ç¤º)</pre>
                            <p><strong>æ³¨æ„ï¼š</strong>å¯¹äºæœ‰ç¬¦å·æ•´æ•°ï¼Œ~x çš„ç»“æœæ˜¯ -(x+1)</p>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">å®Œæ•´ç¤ºä¾‹ç¨‹åº</h3>
                    <div class="code-block">
                    <div class="code-block-title">ä½è¿ç®—åŸºç¡€æ¼”ç¤º</div>
                    <pre><code><span class="c-comment">// ä½è¿ç®—åŸºç¡€æ¼”ç¤º</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-comment">// æ‰“å°æ•´æ•°çš„äºŒè¿›åˆ¶è¡¨ç¤º</span>
<span class="c-keyword">void</span> <span class="c-function">print_binary</span>(<span class="c-keyword">unsigned int</span> n, <span class="c-keyword">int</span> bits) {
    <span class="c-keyword">int</span> i;
    <span class="c-keyword">for</span> (i = bits - <span class="c-number">1</span>; i &gt;= <span class="c-number">0</span>; i--) {
        <span class="c-function">printf</span>(<span class="c-string">"%d"</span>, (n &gt;&gt; i) &amp; <span class="c-number">1</span>);  <span class="c-comment">// ä»é«˜ä½åˆ°ä½ä½æ‰“å°</span>
        <span class="c-keyword">if</span> (i % <span class="c-number">4</span> == <span class="c-number">0</span> &amp;&amp; i != <span class="c-number">0</span>) <span class="c-function">printf</span>(<span class="c-string">" "</span>);  <span class="c-comment">// æ¯4ä½åŠ ç©ºæ ¼ï¼Œä¾¿äºé˜…è¯»</span>
    }
}

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">int</span> a = <span class="c-number">5</span>;   <span class="c-comment">// äºŒè¿›åˆ¶: 0101</span>
    <span class="c-keyword">int</span> b = <span class="c-number">3</span>;   <span class="c-comment">// äºŒè¿›åˆ¶: 0011</span>
    
    <span class="c-function">printf</span>(<span class="c-string">"=== ä½è¿ç®—åŸºç¡€æ¼”ç¤º ===\n\n"</span>);
    
    <span class="c-comment">// æ˜¾ç¤ºåŸå§‹æ•°æ®</span>
    <span class="c-function">printf</span>(<span class="c-string">"a = %d, äºŒè¿›åˆ¶: "</span>, a);
    print_binary(a, <span class="c-number">8</span>);
    <span class="c-function">printf</span>(<span class="c-string">"\n"</span>);
    
    <span class="c-function">printf</span>(<span class="c-string">"b = %d, äºŒè¿›åˆ¶: "</span>, b);
    print_binary(b, <span class="c-number">8</span>);
    <span class="c-function">printf</span>(<span class="c-string">"\n\n"</span>);
    
    <span class="c-comment">// æŒ‰ä½ä¸ï¼šå¯¹åº”ä½éƒ½æ˜¯1æ—¶ç»“æœä¸º1</span>
    <span class="c-keyword">int</span> and_result = a &amp; b;
    <span class="c-function">printf</span>(<span class="c-string">"a & b = %d, äºŒè¿›åˆ¶: "</span>, and_result);
    print_binary(and_result, <span class="c-number">8</span>);
    <span class="c-function">printf</span>(<span class="c-string">"  (æŒ‰ä½ä¸ï¼šéƒ½ä¸º1åˆ™ä¸º1)\n"</span>);
    
    <span class="c-comment">// æŒ‰ä½æˆ–ï¼šå¯¹åº”ä½æœ‰ä¸€ä¸ªæ˜¯1æ—¶ç»“æœä¸º1</span>
    <span class="c-keyword">int</span> or_result = a | b;
    <span class="c-function">printf</span>(<span class="c-string">"a | b = %d, äºŒè¿›åˆ¶: "</span>, or_result);
    print_binary(or_result, <span class="c-number">8</span>);
    <span class="c-function">printf</span>(<span class="c-string">"  (æŒ‰ä½æˆ–ï¼šæœ‰1åˆ™ä¸º1)\n"</span>);
    
    <span class="c-comment">// æŒ‰ä½å¼‚æˆ–ï¼šå¯¹åº”ä½ä¸åŒæ—¶ç»“æœä¸º1</span>
    <span class="c-keyword">int</span> xor_result = a ^ b;
    <span class="c-function">printf</span>(<span class="c-string">"a ^ b = %d, äºŒè¿›åˆ¶: "</span>, xor_result);
    print_binary(xor_result, <span class="c-number">8</span>);
    <span class="c-function">printf</span>(<span class="c-string">"  (æŒ‰ä½å¼‚æˆ–ï¼šä¸åŒä¸º1)\n"</span>);
    
    <span class="c-comment">// æŒ‰ä½å–åï¼šæ‰€æœ‰ä½å–å</span>
    <span class="c-keyword">int</span> not_result = ~a;
    <span class="c-function">printf</span>(<span class="c-string">"~a   = %d, äºŒè¿›åˆ¶: "</span>, not_result);
    print_binary((<span class="c-keyword">unsigned int</span>)not_result, <span class="c-number">8</span>);
    <span class="c-function">printf</span>(<span class="c-string">"  (æŒ‰ä½å–åï¼š0å˜1ï¼Œ1å˜0)\n"</span>);
    
    <span class="c-function">printf</span>(<span class="c-string">"\n=== ä½è¿ç®—çš„å®ç”¨åº”ç”¨ ===\n\n"</span>);
    
    <span class="c-comment">// åº”ç”¨1ï¼šåˆ¤æ–­å¥‡å¶æ€§</span>
    <span class="c-keyword">int</span> num = <span class="c-number">17</span>;
    <span class="c-keyword">if</span> (num &amp; <span class="c-number">1</span>) {  <span class="c-comment">// æ£€æŸ¥æœ€ä½ä½æ˜¯å¦ä¸º1</span>
        <span class="c-function">printf</span>(<span class="c-string">"%d æ˜¯å¥‡æ•°ï¼ˆæœ€ä½ä½ä¸º1ï¼‰\n"</span>, num);
    } <span class="c-keyword">else</span> {
        <span class="c-function">printf</span>(<span class="c-string">"%d æ˜¯å¶æ•°ï¼ˆæœ€ä½ä½ä¸º0ï¼‰\n"</span>, num);
    }
    
    <span class="c-comment">// åº”ç”¨2ï¼šä¸ä½¿ç”¨ä¸´æ—¶å˜é‡äº¤æ¢ä¸¤ä¸ªæ•°</span>
    <span class="c-keyword">int</span> x = <span class="c-number">10</span>, y = <span class="c-number">20</span>;
    <span class="c-function">printf</span>(<span class="c-string">"\näº¤æ¢å‰: x=%d, y=%d\n"</span>, x, y);
    x ^= y;  <span class="c-comment">// x = x ^ y</span>
    y ^= x;  <span class="c-comment">// y = y ^ (x^y) = x</span>
    x ^= y;  <span class="c-comment">// x = (x^y) ^ x = y</span>
    <span class="c-function">printf</span>(<span class="c-string">"äº¤æ¢å: x=%d, y=%dï¼ˆä½¿ç”¨å¼‚æˆ–äº¤æ¢ï¼‰\n"</span>, x, y);
    
    <span class="c-comment">// åº”ç”¨3ï¼šè·å–ç»å¯¹å€¼ï¼ˆå¯¹äºè´Ÿæ•°ï¼‰</span>
    <span class="c-keyword">int</span> n = -<span class="c-number">5</span>;
    <span class="c-keyword">int</span> mask = n &gt;&gt; <span class="c-number">31</span>;  <span class="c-comment">// è´Ÿæ•°å³ç§»31ä½åä¸º-1(å…¨1)ï¼Œæ­£æ•°ä¸º0</span>
    <span class="c-keyword">int</span> abs_n = (n ^ mask) - mask;  <span class="c-comment">// åˆ©ç”¨å¼‚æˆ–å’Œå‡æ³•è·å–ç»å¯¹å€¼</span>
    <span class="c-function">printf</span>(<span class="c-string">"\n%d çš„ç»å¯¹å€¼æ˜¯ %dï¼ˆä½è¿ç®—å®ç°ï¼‰\n"</span>, n, abs_n);
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                </div>
                </div>

                <div class="practice-questions">
                    <h3 class="subsection-title">å°±åœ°ç»ƒä¹ ï¼šä½è¿ç®—åŸºæœ¬æ“ä½œ</h3>
                    <div class="question-item">
                        <p><strong>ç»ƒä¹ 1ï¼š</strong> ä½¿ç”¨æŒ‰ä½å¼‚æˆ–å®ç°ä¸¤ä¸ªæ•´æ•°çš„äº¤æ¢ï¼ˆä¸ä½¿ç”¨ä¸´æ—¶å˜é‡ï¼‰ï¼Œè¾“å‡ºäº¤æ¢å‰åçš„å€¼ï¼Œå¹¶è§£é‡Šä¸ºä»€ä¹ˆè¿™ç§æ–¹æ³•æœ‰æ•ˆã€‚</p>
                        <details>
                            <summary>å‚è€ƒç­”æ¡ˆä¸ç¤ºä¾‹ä»£ç </summary>
                            <div class="code-block">
                                <div class="code-block-title">å¼‚æˆ–äº¤æ¢å˜é‡</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">int</span> a = <span class="c-number">5</span>, b = <span class="c-number">9</span>;
    <span class="c-function">printf</span>(<span class="c-string">"äº¤æ¢å‰: a=%d, b=%d\n"</span>, a, b);

    <span class="c-comment">// å¼‚æˆ–äº¤æ¢åŸç†ï¼š</span>
    <span class="c-comment">// ç¬¬1æ­¥ï¼ša = a ^ b   (aä¿å­˜äº†aå’Œbçš„"å·®å¼‚")</span>
    <span class="c-comment">// ç¬¬2æ­¥ï¼šb = b ^ a = b ^ (a^b) = a  (åˆ©ç”¨x^x=0çš„æ€§è´¨)</span>
    <span class="c-comment">// ç¬¬3æ­¥ï¼ša = a ^ b = (a^b) ^ a = b  (åˆ©ç”¨ç»“åˆå¾‹å’Œäº¤æ¢å¾‹)</span>
    a ^= b;  <span class="c-comment">// aç°åœ¨æ˜¯ a^b</span>
    b ^= a;  <span class="c-comment">// bç°åœ¨æ˜¯ b^(a^b) = a</span>
    a ^= b;  <span class="c-comment">// aç°åœ¨æ˜¯ (a^b)^a = b</span>

    <span class="c-function">printf</span>(<span class="c-string">"äº¤æ¢å: a=%d, b=%d\n"</span>, a, b);
    <span class="c-function">printf</span>(<span class="c-string">"\nåŸç†ï¼šåˆ©ç”¨å¼‚æˆ–çš„æ€§è´¨ x^x=0 å’Œ x^0=x\n"</span>);

    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </details>
                    </div>

                    <div class="question-item">
                        <p><strong>ç»ƒä¹ 2ï¼š</strong> ç¼–å†™ç¨‹åºï¼Œè¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼Œåˆ¤æ–­å®ƒçš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­æœ‰å¤šå°‘ä¸ª1ï¼ˆæ±‰æ˜æƒé‡ï¼‰ã€‚æç¤ºï¼šå¯ä»¥ä½¿ç”¨ n & (n-1) æŠ€å·§ã€‚</p>
                        <details>
                            <summary>å‚è€ƒç­”æ¡ˆä¸ç¤ºä¾‹ä»£ç </summary>
                            <div class="tip-box">
                                <strong>ğŸ” n & (n-1) ä½è¿ç®—æŠ€å·§åŸç†ï¼š</strong>
                                <p><strong>è¿™æ˜¯ä¸€ä¸ªç»å…¸çš„ä½è¿ç®—ä¼˜åŒ–æŠ€å·§ï¼Œç”¨äºæ¸…é™¤äºŒè¿›åˆ¶æ•°ä¸­æœ€å³è¾¹çš„1ã€‚</strong></p>
                                <ul>
                                    <li><strong>n-1 çš„äºŒè¿›åˆ¶æ¨¡å¼ï¼š</strong>
                                        <ul>
                                            <li>å½“å¯¹ä¸€ä¸ªæ•°å‡1æ—¶ï¼Œä¼šä»æœ€ä½ä½å¼€å§‹å€Ÿä½</li>
                                            <li>æœ€å³è¾¹çš„1ä¼šå˜æˆ0</li>
                                            <li>è¿™ä¸ª1å³è¾¹çš„æ‰€æœ‰0éƒ½ä¼šå˜æˆ1</li>
                                            <li>è¿™ä¸ª1å·¦è¾¹çš„æ‰€æœ‰ä½ä¿æŒä¸å˜</li>
                                        </ul>
                                    </li>
                                    <li><strong>ç¤ºä¾‹æ¨å¯¼ï¼š</strong>
                                        <pre>n = 12:     0000 1100  (äºŒè¿›åˆ¶ä¸­æœ€å³è¾¹çš„1åœ¨ç¬¬2ä½)
n-1 = 11:   0000 1011  (æœ€å³è¾¹çš„1å˜æˆ0ï¼Œå…¶å³è¾¹çš„0å˜æˆ1)
n & (n-1):  0000 1000  (ä¸è¿ç®—åï¼Œæ¸…é™¤äº†æœ€å³è¾¹çš„1)</pre>
                                        <pre>n = 8:      0000 1000  (äºŒè¿›åˆ¶ä¸­æœ€å³è¾¹çš„1åœ¨ç¬¬3ä½)
n-1 = 7:    0000 0111  (æœ€å³è¾¹çš„1å˜æˆ0ï¼Œå…¶å³è¾¹çš„0å˜æˆ1)
n & (n-1):  0000 0000  (ä¸è¿ç®—åï¼Œæ¸…é™¤äº†æœ€å³è¾¹çš„1)</pre>
                                    </li>
                                    <li><strong>ä¸ºä»€ä¹ˆ n & (n-1) èƒ½æ¸…é™¤æœ€å³è¾¹çš„1ï¼š</strong>
                                        <ul>
                                            <li>n-1 çš„æœ€å³è¾¹çš„1å˜æˆäº†0ï¼Œè€Œè¿™ä¸ªä½ç½®åœ¨nä¸­æ˜¯1</li>
                                            <li>ä¸è¿ç®—æ—¶ï¼Œ1 & 0 = 0ï¼Œæ‰€ä»¥è¿™ä½è¢«æ¸…é™¤</li>
                                            <li>n-1 åœ¨è¿™ä¸ª1å³è¾¹çš„ä½éƒ½æ˜¯1ï¼Œè€Œnä¸­æ˜¯0</li>
                                            <li>ä¸è¿ç®—æ—¶ï¼Œ0 & 1 = 0ï¼Œè¿™äº›ä½ä¿æŒä¸º0</li>
                                            <li>è¿™ä¸ª1å·¦è¾¹çš„ä½åœ¨nå’Œn-1ä¸­ç›¸åŒ</li>
                                            <li>ä¸è¿ç®—æ—¶ï¼Œç›¸åŒä½ä¿æŒä¸å˜</li>
                                        </ul>
                                    </li>
                                    <li><strong>åº”ç”¨åœºæ™¯ï¼š</strong>
                                        <ul>
                                            <li><strong>è®¡ç®—1çš„ä¸ªæ•°ï¼ˆæ±‰æ˜æƒé‡ï¼‰ï¼š</strong>å¾ªç¯æ‰§è¡Œ n &= n-1ï¼Œç›´åˆ° n=0ï¼Œå¾ªç¯æ¬¡æ•°å³ä¸º1çš„ä¸ªæ•°</li>
                                            <li><strong>åˆ¤æ–­æ˜¯å¦ä¸º2çš„å¹‚ï¼š</strong>2çš„å¹‚çš„äºŒè¿›åˆ¶ä¸­åªæœ‰ä¸€ä¸ª1ï¼Œæ‰€ä»¥ n & (n-1) == 0</li>
                                            <li><strong>æ¸…é™¤æœ€ä½ä½çš„1ï¼š</strong>ç”¨äºä½å›¾æ“ä½œã€çŠ¶æ€æ ‡å¿—å¤„ç†ç­‰</li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                            <div class="code-block">
                                <div class="code-block-title">è®¡ç®—äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-comment">// æ–¹æ³•1ï¼šé€ä½æ£€æŸ¥</span>
<span class="c-keyword">int</span> <span class="c-function">count_ones_v1</span>(<span class="c-keyword">unsigned int</span> n) {
    <span class="c-keyword">int</span> count = <span class="c-number">0</span>;
    <span class="c-keyword">while</span> (n) {
        count += n &amp; <span class="c-number">1</span>;  <span class="c-comment">// æ£€æŸ¥æœ€ä½ä½</span>
        n &gt;&gt;= <span class="c-number">1</span>;      <span class="c-comment">// å³ç§»ä¸€ä½</span>
    }
    <span class="c-keyword">return</span> count;
}

<span class="c-comment">// æ–¹æ³•2ï¼šn & (n-1) æŠ€å·§ï¼ˆæ›´é«˜æ•ˆï¼‰</span>
<span class="c-keyword">int</span> <span class="c-function">count_ones_v2</span>(<span class="c-keyword">unsigned int</span> n) {
    <span class="c-keyword">int</span> count = <span class="c-number">0</span>;
    <span class="c-comment">// n & (n-1) ä¼šæ¸…é™¤æœ€ä½ä½çš„1</span>
    <span class="c-comment">// ä¾‹å¦‚ï¼šn=12(1100), n-1=11(1011), n&(n-1)=8(1000)</span>
    <span class="c-keyword">while</span> (n) {
        n &amp;= n - <span class="c-number">1</span>;  <span class="c-comment">// æ¸…é™¤æœ€ä½ä½çš„1</span>
        count++;     <span class="c-comment">// è®¡æ•°å™¨åŠ 1</span>
    }
    <span class="c-keyword">return</span> count;
}

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">unsigned int</span> num = <span class="c-number">29</span>;  <span class="c-comment">// äºŒè¿›åˆ¶: 11101</span>

    <span class="c-function">printf</span>(<span class="c-string">"æ•°å­— %u çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­æœ‰ %d ä¸ª1ï¼ˆæ–¹æ³•1ï¼‰\n"</span>, 
           num, count_ones_v1(num));
    <span class="c-function">printf</span>(<span class="c-string">"æ•°å­— %u çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­æœ‰ %d ä¸ª1ï¼ˆæ–¹æ³•2ï¼‰\n"</span>, 
           num, count_ones_v2(num));

    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </details>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">ä½è¿ç®—çš„å®é™…åº”ç”¨</h3>
                    
                    <div class="bitwise-applications">
                        <div class="application">
                            <h4>1. æƒé™æ§åˆ¶ç³»ç»Ÿ</h4>
                            <div class="code-block">
                                <div class="code-block-title">ä½¿ç”¨ä½è¿ç®—å®ç°æƒé™æ§åˆ¶</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-comment">// å®šä¹‰æƒé™å¸¸é‡</span>
<span class="c-keyword">const</span> <span class="c-keyword">int</span> READ_PERMISSION = <span class="c-number">1</span> &lt;&lt; <span class="c-number">0</span>;    <span class="c-comment">// 0001 - è¯»å–æƒé™</span>
<span class="c-keyword">const</span> <span class="c-keyword">int</span> WRITE_PERMISSION = <span class="c-number">1</span> &lt;&lt; <span class="c-number">1</span>;   <span class="c-comment">// 0010 - å†™å…¥æƒé™</span>
<span class="c-keyword">const</span> <span class="c-keyword">int</span> EXECUTE_PERMISSION = <span class="c-number">1</span> &lt;&lt; <span class="c-number">2</span>; <span class="c-comment">// 0100 - æ‰§è¡Œæƒé™</span>
<span class="c-keyword">const</span> <span class="c-keyword">int</span> DELETE_PERMISSION = <span class="c-number">1</span> &lt;&lt; <span class="c-number">3</span>;  <span class="c-comment">// 1000 - åˆ é™¤æƒé™</span>

<span class="c-comment">// æ£€æŸ¥æƒé™</span>
<span class="c-keyword">int</span> <span class="c-function">has_permission</span>(<span class="c-keyword">int</span> user_permissions, <span class="c-keyword">int</span> required_permission) {
    <span class="c-keyword">return</span> (user_permissions &amp; required_permission) != <span class="c-number">0</span>;
}

<span class="c-comment">// æ·»åŠ æƒé™</span>
<span class="c-keyword">int</span> <span class="c-function">add_permission</span>(<span class="c-keyword">int</span> user_permissions, <span class="c-keyword">int</span> permission) {
    <span class="c-keyword">return</span> user_permissions | permission;
}

<span class="c-comment">// ç§»é™¤æƒé™</span>
<span class="c-keyword">int</span> <span class="c-function">remove_permission</span>(<span class="c-keyword">int</span> user_permissions, <span class="c-keyword">int</span> permission) {
    <span class="c-keyword">return</span> user_permissions &amp; ~permission;
}

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">int</span> i;
    <span class="c-keyword">int</span> admin_permissions = <span class="c-number">0</span>;  <span class="c-comment">// åˆå§‹æ— æƒé™</span>
    
    <span class="c-comment">// ç»™ç®¡ç†å‘˜æ·»åŠ æ‰€æœ‰æƒé™</span>
    admin_permissions = add_permission(admin_permissions, READ_PERMISSION);
    admin_permissions = add_permission(admin_permissions, WRITE_PERMISSION);
    admin_permissions = add_permission(admin_permissions, EXECUTE_PERMISSION);
    admin_permissions = add_permission(admin_permissions, DELETE_PERMISSION);
    
    <span class="c-comment">// æ˜¾ç¤ºæƒé™çš„äºŒè¿›åˆ¶è¡¨ç¤º</span>
    <span class="c-function">printf</span>(<span class="c-string">"ç®¡ç†å‘˜æƒé™: "</span>);
    <span class="c-keyword">for</span> (i = <span class="c-number">3</span>; i &gt;= <span class="c-number">0</span>; i--) {
        <span class="c-function">printf</span>(<span class="c-string">"%d"</span>, (admin_permissions &gt;&gt; i) &amp; <span class="c-number">1</span>);
    }
    <span class="c-function">printf</span>(<span class="c-string">" (äºŒè¿›åˆ¶)\n"</span>);
    
    <span class="c-comment">// æ£€æŸ¥æƒé™</span>
    <span class="c-function">printf</span>(<span class="c-string">"æœ‰è¯»å–æƒé™: %s\n"</span>, has_permission(admin_permissions, READ_PERMISSION) ? <span class="c-string">"æ˜¯"</span> : <span class="c-string">"å¦"</span>);
    <span class="c-function">printf</span>(<span class="c-string">"æœ‰å†™å…¥æƒé™: %s\n"</span>, has_permission(admin_permissions, WRITE_PERMISSION) ? <span class="c-string">"æ˜¯"</span> : <span class="c-string">"å¦"</span>);
    
    <span class="c-comment">// ç§»é™¤å†™å…¥æƒé™</span>
    admin_permissions = remove_permission(admin_permissions, WRITE_PERMISSION);
    <span class="c-function">printf</span>(<span class="c-string">"\nç§»é™¤å†™å…¥æƒé™å:\n"</span>);
    <span class="c-function">printf</span>(<span class="c-string">"æœ‰å†™å…¥æƒé™: %s\n"</span>, has_permission(admin_permissions, WRITE_PERMISSION) ? <span class="c-string">"æ˜¯"</span> : <span class="c-string">"å¦"</span>);
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </div>

                        <div class="application">
                            <h4>2. æ•°æ®å‹ç¼©ä¸è§£å‹</h4>
                            <div class="code-block">
                                <div class="code-block-title">ä½¿ç”¨ä½è¿ç®—è¿›è¡Œæ•°æ®å‹ç¼©</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-comment">// å°†4ä¸ªå¸ƒå°”å€¼å‹ç¼©åˆ°ä¸€ä¸ªå­—èŠ‚ä¸­</span>
<span class="c-keyword">unsigned</span> <span class="c-keyword">char</span> <span class="c-function">compress_bools</span>(<span class="c-keyword">int</span> b1, <span class="c-keyword">int</span> b2, <span class="c-keyword">int</span> b3, <span class="c-keyword">int</span> b4) {
    <span class="c-keyword">unsigned</span> <span class="c-keyword">char</span> result = <span class="c-number">0</span>;
    result |= (b1 &amp; <span class="c-number">1</span>) &lt;&lt; <span class="c-number">0</span>;  <span class="c-comment">// ç¬¬0ä½</span>
    result |= (b2 &amp; <span class="c-number">1</span>) &lt;&lt; <span class="c-number">1</span>;  <span class="c-comment">// ç¬¬1ä½</span>
    result |= (b3 &amp; <span class="c-number">1</span>) &lt;&lt; <span class="c-number">2</span>;  <span class="c-comment">// ç¬¬2ä½</span>
    result |= (b4 &amp; <span class="c-number">1</span>) &lt;&lt; <span class="c-number">3</span>;  <span class="c-comment">// ç¬¬3ä½</span>
    <span class="c-keyword">return</span> result;
}

<span class="c-comment">// ä»å‹ç¼©å­—èŠ‚ä¸­æå–å¸ƒå°”å€¼</span>
<span class="c-keyword">void</span> <span class="c-function">extract_bools</span>(<span class="c-keyword">unsigned</span> <span class="c-keyword">char</span> compressed, <span class="c-keyword">int</span>* b1, <span class="c-keyword">int</span>* b2, <span class="c-keyword">int</span>* b3, <span class="c-keyword">int</span>* b4) {
    *b1 = (compressed &gt;&gt; <span class="c-number">0</span>) &amp; <span class="c-number">1</span>;
    *b2 = (compressed &gt;&gt; <span class="c-number">1</span>) &amp; <span class="c-number">1</span>;
    *b3 = (compressed &gt;&gt; <span class="c-number">2</span>) &amp; <span class="c-number">1</span>;
    *b4 = (compressed &gt;&gt; <span class="c-number">3</span>) &amp; <span class="c-number">1</span>;
}

<span class="c-comment">// RGBé¢œè‰²å‹ç¼©ï¼ˆæ¯ä¸ªåˆ†é‡5ä½ï¼‰</span>
<span class="c-keyword">unsigned</span> <span class="c-keyword">short</span> <span class="c-function">compress_color</span>(<span class="c-keyword">int</span> r, <span class="c-keyword">int</span> g, <span class="c-keyword">int</span> b) {
    <span class="c-comment">// å°†8ä½é¢œè‰²å‹ç¼©ä¸º5ä½ (0-31èŒƒå›´)</span>
    r = (r * <span class="c-number">31</span>) / <span class="c-number">255</span>;
    g = (g * <span class="c-number">31</span>) / <span class="c-number">255</span>;
    b = (b * <span class="c-number">31</span>) / <span class="c-number">255</span>;
    
    <span class="c-comment">// æ‰“åŒ…åˆ°16ä½: RRRRRGGGGGGBBBBB</span>
    <span class="c-keyword">return</span> (r &lt;&lt; <span class="c-number">11</span>) | (g &lt;&lt; <span class="c-number">6</span>) | (b &lt;&lt; <span class="c-number">1</span>);
}

<span class="c-keyword">void</span> <span class="c-function">extract_color</span>(<span class="c-keyword">unsigned</span> <span class="c-keyword">short</span> compressed, <span class="c-keyword">int</span>* r, <span class="c-keyword">int</span>* g, <span class="c-keyword">int</span>* b) {
    *r = ((compressed &gt;&gt; <span class="c-number">11</span>) &amp; <span class="c-number">0x1F</span>) * <span class="c-number">255</span> / <span class="c-number">31</span>;
    *g = ((compressed &gt;&gt; <span class="c-number">6</span>) &amp; <span class="c-number">0x1F</span>) * <span class="c-number">255</span> / <span class="c-number">31</span>;
    *b = ((compressed &gt;&gt; <span class="c-number">1</span>) &amp; <span class="c-number">0x1F</span>) * <span class="c-number">255</span> / <span class="c-number">31</span>;
}

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">int</span> i;
    <span class="c-comment">// å¸ƒå°”å€¼å‹ç¼©ç¤ºä¾‹</span>
    <span class="c-keyword">unsigned</span> <span class="c-keyword">char</span> compressed = compress_bools(<span class="c-number">1</span>, <span class="c-number">0</span>, <span class="c-number">1</span>, <span class="c-number">1</span>);
    <span class="c-function">printf</span>(<span class="c-string">"å‹ç¼©åçš„å­—èŠ‚(äºŒè¿›åˆ¶): "</span>);
    <span class="c-keyword">for</span> (i = <span class="c-number">7</span>; i &gt;= <span class="c-number">0</span>; i--) {
        <span class="c-function">printf</span>(<span class="c-string">"%d"</span>, (compressed &gt;&gt; i) &amp; <span class="c-number">1</span>);
    }
    <span class="c-function">printf</span>(<span class="c-string">"\n"</span>);
    
    <span class="c-keyword">int</span> b1, b2, b3, b4;
    extract_bools(compressed, &amp;b1, &amp;b2, &amp;b3, &amp;b4);
    <span class="c-function">printf</span>(<span class="c-string">"è§£å‹åçš„å¸ƒå°”å€¼: %d, %d, %d, %d\n"</span>, b1, b2, b3, b4);
    
    <span class="c-comment">// é¢œè‰²å‹ç¼©ç¤ºä¾‹</span>
    <span class="c-keyword">unsigned</span> <span class="c-keyword">short</span> color = compress_color(<span class="c-number">255</span>, <span class="c-number">128</span>, <span class="c-number">64</span>);
    <span class="c-function">printf</span>(<span class="c-string">"\nå‹ç¼©åçš„é¢œè‰²: 0x%04X\n"</span>, color);
    
    <span class="c-keyword">int</span> r, g, b;
    extract_color(color, &amp;r, &amp;g, &amp;b);
    <span class="c-function">printf</span>(<span class="c-string">"è§£å‹åçš„é¢œè‰²: R=%d, G=%d, B=%d\n"</span>, r, g, b);
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <div class="practice-questions">
                <h3 class="subsection-title">å°±åœ°ç»ƒä¹ ï¼šæƒé™ä½æ§åˆ¶</h3>
                <div class="question-item">
                    <p><strong>ç»ƒä¹ 2ï¼š</strong> åˆ©ç”¨ä½è¿ç®—å®ç°ç”¨æˆ·æƒé™ç®¡ç†ï¼šå®šä¹‰è¯»ã€å†™ã€æ‰§è¡Œ3ç§æƒé™ï¼Œç¼–å†™å‡½æ•°æ·»åŠ æƒé™ã€ç§»é™¤æƒé™å’Œæ£€æŸ¥æƒé™ã€‚</p>
                    <details>
                        <summary>å‚è€ƒç­”æ¡ˆä¸ç¤ºä¾‹ä»£ç </summary>
                        <div class="code-block">
                            <div class="code-block-title">æƒé™ç®¡ç†</div>
                            <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">#define</span> READ <span class="c-number">1</span>
<span class="c-keyword">#define</span> WRITE <span class="c-number">2</span>
<span class="c-keyword">#define</span> EXEC <span class="c-number">4</span>

<span class="c-keyword">int</span> <span class="c-function">add_perm</span>(<span class="c-keyword">int</span> perm, <span class="c-keyword">int</span> add) { <span class="c-keyword">return</span> perm | add; }
<span class="c-keyword">int</span> <span class="c-function">remove_perm</span>(<span class="c-keyword">int</span> perm, <span class="c-keyword">int</span> rem) { <span class="c-keyword">return</span> perm & ~rem; }
<span class="c-keyword">int</span> <span class="c-function">has_perm</span>(<span class="c-keyword">int</span> perm, <span class="c-keyword">int</span> chk) { <span class="c-keyword">return</span> (perm & chk) == chk; }

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">int</span> user_perm = <span class="c-number">0</span>;

    user_perm = add_perm(user_perm, READ | WRITE);
    <span class="c-function">printf</span>(<span class="c-string">"æœ‰è¯»æƒé™: %d\n"</span>, has_perm(user_perm, READ));
    <span class="c-function">printf</span>(<span class="c-string">"æœ‰æ‰§è¡Œæƒé™: %d\n"</span>, has_perm(user_perm, EXEC));

    user_perm = remove_perm(user_perm, WRITE);
    <span class="c-function">printf</span>(<span class="c-string">"ç§»é™¤å†™åæœ‰å†™æƒé™: %d\n"</span>, has_perm(user_perm, WRITE));

    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                        </div>
                    </details>
                </div>
            </div>

            <!-- ç§»ä½è¿ç®— -->
            <section id="shift" class="section">
                <h2 class="section-title">ç§»ä½è¿ç®—</h2>
                
                <div class="subsection-content">
                    <h3>ç§»ä½è¿ç®—åŸºæœ¬æ¦‚å¿µ</h3>
                    <p>ç§»ä½è¿ç®—æ˜¯å°†äºŒè¿›åˆ¶æ•°å‘å·¦æˆ–å‘å³ç§»åŠ¨æŒ‡å®šçš„ä½æ•°ã€‚ç§»ä½è¿ç®—æ˜¯è®¡ç®—æœºä¸­æœ€å¿«çš„è¿ç®—ä¹‹ä¸€ï¼Œå› ä¸ºå®ƒç›´æ¥å¯¹åº”CPUçš„ç§»ä½æŒ‡ä»¤ã€‚</p>
                    
                    <div class="tip-box">
                        <p><strong>ç§»ä½è¿ç®—çš„æœ¬è´¨</strong></p>
                        <ul>
                            <li><strong>å·¦ç§»ï¼ˆ<<ï¼‰ï¼š</strong>å°†äºŒè¿›åˆ¶æ•°å‘å·¦ç§»åŠ¨ï¼Œå³è¾¹ç©ºå‡ºçš„ä½ç”¨0å¡«å……</li>
                            <li><strong>å³ç§»ï¼ˆ>>ï¼‰ï¼š</strong>å°†äºŒè¿›åˆ¶æ•°å‘å³ç§»åŠ¨ï¼Œå·¦è¾¹ç©ºå‡ºçš„ä½ç”¨ç¬¦å·ä½å¡«å……ï¼ˆæœ‰ç¬¦å·æ•°ï¼‰æˆ–0å¡«å……ï¼ˆæ— ç¬¦å·æ•°ï¼‰</li>
                            <li><strong>æ•°å­¦æ„ä¹‰ï¼š</strong>å·¦ç§»nä½ç›¸å½“äºä¹˜ä»¥2^nï¼Œå³ç§»nä½ç›¸å½“äºé™¤ä»¥2^nï¼ˆå‘ä¸‹å–æ•´ï¼‰</li>
                        </ul>
                    </div>

                    <div class="warning-box">
                        <strong>âš ï¸ ç§»ä½è¿ç®—æ³¨æ„äº‹é¡¹ï¼š</strong>
                        <ul>
                            <li>ç§»ä½çš„ä½æ•°ä¸èƒ½ä¸ºè´Ÿæ•°</li>
                            <li>ç§»ä½çš„ä½æ•°è¶…è¿‡æ•°æ®ç±»å‹çš„ä½æ•°ï¼Œç»“æœæœªå®šä¹‰</li>
                            <li>å¯¹æœ‰ç¬¦å·æ•°å³ç§»ï¼Œç»“æœå–å†³äºç¼–è¯‘å™¨ï¼ˆç®—æœ¯å³ç§» vs é€»è¾‘å³ç§»ï¼‰</li>
                            <li>å·¦ç§»å¯èƒ½å¯¼è‡´æº¢å‡ºï¼Œä¸¢å¤±é«˜ä½ä¿¡æ¯</li>
                        </ul>
                    </div>
                </div>
                
                <div class="subsection">
                    <h3 class="subsection-title">å·¦ç§»è¿ç®—ï¼ˆ<<ï¼‰</h3>
                    <div class="subsection-content">
                        <p><strong>è¿ç®—è§„åˆ™ï¼š</strong>å°†æ‰€æœ‰äºŒè¿›åˆ¶ä½å‘å·¦ç§»åŠ¨ï¼Œå³è¾¹ç”¨0å¡«å……</p>
                        
                        <div class="tip-box">
                            <p><strong>ç¤ºä¾‹ï¼š</strong>8 << 2ï¼ˆå°†8å·¦ç§»2ä½ï¼‰</p>
                            <pre>åŸå§‹å€¼: 00001000 (8)
å·¦ç§»1ä½: 00010000 (16)
å·¦ç§»2ä½: 00100000 (32)</pre>
                            <p>ç»“æœï¼š8 << 2 = 32 = 8 Ã— 2Â² = 8 Ã— 4</p>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">å³ç§»è¿ç®—ï¼ˆ>>ï¼‰</h3>
                    <div class="subsection-content">
                        <p><strong>è¿ç®—è§„åˆ™ï¼š</strong>å°†æ‰€æœ‰äºŒè¿›åˆ¶ä½å‘å³ç§»åŠ¨</p>
                        
                        <div class="tip-box">
                            <strong>ğŸ” æœ‰ç¬¦å·æ•°å³ç§»çš„ç¡¬ä»¶å®ç°åŸç†ï¼š</strong>
                            <ul>
                                <li><strong>ä¸ºä»€ä¹ˆéœ€è¦åŒºåˆ†é€»è¾‘å³ç§»å’Œç®—æœ¯å³ç§»ï¼š</strong>
                                    <ul>
                                        <li><strong>é€»è¾‘å³ç§»ï¼š</strong>å·¦è¾¹æ€»æ˜¯å¡«å……0ï¼Œé€‚ç”¨äºæ— ç¬¦å·æ•°</li>
                                        <li><strong>ç®—æœ¯å³ç§»ï¼š</strong>å·¦è¾¹å¡«å……ç¬¦å·ä½ï¼ˆæœ€é«˜ä½ï¼‰ï¼Œä¿æŒæ•°å€¼çš„æ­£è´Ÿæ€§</li>
                                        <li>Cè¯­è¨€æ ‡å‡†ï¼šæœ‰ç¬¦å·æ•°å³ç§»çš„è¡Œä¸ºæ˜¯<strong>å®ç°å®šä¹‰çš„</strong>ï¼ˆimplementation-definedï¼‰</li>
                                        <li>å¤§å¤šæ•°ç¼–è¯‘å™¨å¯¹æœ‰ç¬¦å·æ•°é‡‡ç”¨ç®—æœ¯å³ç§»ï¼Œä½†æ ‡å‡†ä¸å¼ºåˆ¶è¦æ±‚</li>
                                    </ul>
                                </li>
                                <li><strong>ç®—æœ¯å³ç§»çš„ç¡¬ä»¶åŸç†ï¼š</strong>
                                    <ul>
                                        <li>CPUåœ¨ç§»ä½å‰å…ˆæ£€æµ‹æœ€é«˜ä½ï¼ˆç¬¦å·ä½ï¼‰</li>
                                        <li>æ­£æ•°ï¼ˆç¬¦å·ä½=0ï¼‰ï¼šå³ç§»åå·¦è¾¹å¡«å……0</li>
                                        <li>è´Ÿæ•°ï¼ˆç¬¦å·ä½=1ï¼‰ï¼šå³ç§»åå·¦è¾¹å¡«å……1</li>
                                        <li>è¿™æ ·ä¿æŒäº†è¡¥ç è¡¨ç¤ºçš„æ•°å­¦æ€§è´¨ï¼šå³ç§»nä½ â‰ˆ é™¤ä»¥2^nï¼ˆå‘è´Ÿæ— ç©·å–æ•´ï¼‰</li>
                                    </ul>
                                </li>
                                <li><strong>ç®—æœ¯å³ç§»ä¿æŒç¬¦å·çš„è¯æ˜ï¼š</strong>
                                    <pre>æ­£æ•°ç¤ºä¾‹: +32 = 0010 0000 (äºŒè¿›åˆ¶)
  >> 1:      +16 = 0001 0000 (å·¦è¾¹å¡«0ï¼Œç»“æœä»ä¸ºæ­£)
  >> 2:       +8 = 0000 1000 (å·¦è¾¹å¡«0ï¼Œç»“æœä»ä¸ºæ­£)

è´Ÿæ•°ç¤ºä¾‹: -32 = 1110 0000 (è¡¥ç è¡¨ç¤ºï¼Œ8ä½)
  >> 1:      -16 = 1111 0000 (å·¦è¾¹å¡«1ï¼Œä¿æŒè´Ÿæ•°)
  >> 2:       -8 = 1111 1000 (å·¦è¾¹å¡«1ï¼Œä¿æŒè´Ÿæ•°)</pre>
                                </li>
                                <li><strong>ç¼–è¯‘å™¨è¡Œä¸ºå·®å¼‚ï¼š</strong>
                                    <ul>
                                        <li><strong>GCC/Clangï¼š</strong>å¯¹æœ‰ç¬¦å·æ•°é»˜è®¤ä½¿ç”¨ç®—æœ¯å³ç§»</li>
                                        <li><strong>MSVCï¼ˆVC2010ï¼‰ï¼š</strong>å¯¹æœ‰ç¬¦å·æ•°é»˜è®¤ä½¿ç”¨ç®—æœ¯å³ç§»</li>
                                        <li><strong>æŸäº›åµŒå…¥å¼ç¼–è¯‘å™¨ï¼š</strong>å¯èƒ½ä½¿ç”¨é€»è¾‘å³ç§»æˆ–æä¾›ç¼–è¯‘é€‰é¡¹</li>
                                        <li><strong>å¯ç§»æ¤æ€§å»ºè®®ï¼š</strong>å¦‚æœéœ€è¦ç¡®ä¿é€»è¾‘å³ç§»ï¼Œä½¿ç”¨ <code>unsigned</code> ç±»å‹</li>
                                    </ul>
                                </li>
                                <li><strong>ä¸é™¤æ³•çš„åŒºåˆ«ï¼š</strong>
                                    <ul>
                                        <li>ç®—æœ¯å³ç§»ï¼šå‘è´Ÿæ— ç©·å–æ•´ï¼ˆfloor divisionï¼‰</li>
                                        <li>Cè¯­è¨€é™¤æ³•ï¼ˆC99ä¹‹å‰ï¼‰ï¼šå‘é›¶å–æ•´ï¼ˆtruncate divisionï¼‰</li>
                                        <li>ä¾‹å¦‚ï¼š-7 >> 1 = -4ï¼ˆå‘ä¸‹å–æ•´ï¼‰ï¼Œä½† -7 / 2 = -3ï¼ˆå‘é›¶å–æ•´ï¼‰</li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                        
                        <div class="tip-box">
                            <p><strong>æ— ç¬¦å·æ•°å³ç§»ï¼ˆé€»è¾‘å³ç§»ï¼‰ï¼š</strong>å·¦è¾¹ç”¨0å¡«å……</p>
                            <pre>åŸå§‹å€¼: 00100000 (32)
å³ç§»1ä½: 00010000 (16)
å³ç§»2ä½: 00001000 (8)</pre>
                            
                            <p><strong>æœ‰ç¬¦å·æ•°å³ç§»ï¼ˆç®—æœ¯å³ç§»ï¼‰ï¼š</strong>å·¦è¾¹ç”¨ç¬¦å·ä½å¡«å……</p>
                            <pre>æ­£æ•°: 00100000 (+32) >> 1 = 00010000 (+16)
è´Ÿæ•°: 11100000 (-32) >> 1 = 11110000 (-16)</pre>
                            <p>ç»“æœï¼š32 >> 2 = 8 = 32 Ã· 2Â² = 32 Ã· 4</p>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">å®Œæ•´ç¤ºä¾‹ç¨‹åº</h3>
                    <div class="code-block">
                    <div class="code-block-title">ç§»ä½è¿ç®—æ¼”ç¤º</div>
                    <pre><code><span class="c-comment">// ç§»ä½è¿ç®—æ¼”ç¤º</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-comment">// æ‰“å°äºŒè¿›åˆ¶è¡¨ç¤º</span>
<span class="c-keyword">void</span> <span class="c-function">print_binary</span>(<span class="c-keyword">unsigned int</span> n, <span class="c-keyword">int</span> bits) {
    <span class="c-keyword">int</span> i;
    <span class="c-keyword">for</span> (i = bits - <span class="c-number">1</span>; i &gt;= <span class="c-number">0</span>; i--) {
        <span class="c-function">printf</span>(<span class="c-string">"%d"</span>, (n &gt;&gt; i) &amp; <span class="c-number">1</span>);
        <span class="c-keyword">if</span> (i % <span class="c-number">4</span> == <span class="c-number">0</span> &amp;&amp; i != <span class="c-number">0</span>) <span class="c-function">printf</span>(<span class="c-string">" "</span>);
    }
}

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">int</span> x = <span class="c-number">8</span>;  <span class="c-comment">// äºŒè¿›åˆ¶: 0000 1000</span>
    
    <span class="c-function">printf</span>(<span class="c-string">"=== ç§»ä½è¿ç®—æ¼”ç¤º ===\n\n"</span>);
    
    <span class="c-comment">// æ˜¾ç¤ºåŸå§‹å€¼</span>
    <span class="c-function">printf</span>(<span class="c-string">"åŸå§‹å€¼ x = %d, äºŒè¿›åˆ¶: "</span>, x);
    print_binary(x, <span class="c-number">8</span>);
    <span class="c-function">printf</span>(<span class="c-string">"\n\n"</span>);
    
    <span class="c-comment">// å·¦ç§»è¿ç®—</span>
    <span class="c-function">printf</span>(<span class="c-string">"--- å·¦ç§»è¿ç®— ---\n"</span>);
    <span class="c-function">printf</span>(<span class="c-string">"x << 1 = %d, äºŒè¿›åˆ¶: "</span>, x &lt;&lt; <span class="c-number">1</span>);
    print_binary(x &lt;&lt; <span class="c-number">1</span>, <span class="c-number">8</span>);
    <span class="c-function">printf</span>(<span class="c-string">"  (ç›¸å½“äº %d * 2 = %d)\n"</span>, x, x * <span class="c-number">2</span>);
    
    <span class="c-function">printf</span>(<span class="c-string">"x << 2 = %d, äºŒè¿›åˆ¶: "</span>, x &lt;&lt; <span class="c-number">2</span>);
    print_binary(x &lt;&lt; <span class="c-number">2</span>, <span class="c-number">8</span>);
    <span class="c-function">printf</span>(<span class="c-string">"  (ç›¸å½“äº %d * 4 = %d)\n"</span>, x, x * <span class="c-number">4</span>);
    
    <span class="c-function">printf</span>(<span class="c-string">"x << 3 = %d, äºŒè¿›åˆ¶: "</span>, x &lt;&lt; <span class="c-number">3</span>);
    print_binary(x &lt;&lt; <span class="c-number">3</span>, <span class="c-number">8</span>);
    <span class="c-function">printf</span>(<span class="c-string">"  (ç›¸å½“äº %d * 8 = %d)\n\n"</span>, x, x * <span class="c-number">8</span>);
    
    <span class="c-comment">// å³ç§»è¿ç®—</span>
    <span class="c-function">printf</span>(<span class="c-string">"--- å³ç§»è¿ç®— ---\n"</span>);
    x = <span class="c-number">32</span>;  <span class="c-comment">// é‡æ–°èµ‹å€¼</span>
    <span class="c-function">printf</span>(<span class="c-string">"æ–°å€¼ x = %d, äºŒè¿›åˆ¶: "</span>, x);
    print_binary(x, <span class="c-number">8</span>);
    <span class="c-function">printf</span>(<span class="c-string">"\n\n"</span>);
    
    <span class="c-function">printf</span>(<span class="c-string">"x >> 1 = %d, äºŒè¿›åˆ¶: "</span>, x &gt;&gt; <span class="c-number">1</span>);
    print_binary(x &gt;&gt; <span class="c-number">1</span>, <span class="c-number">8</span>);
    <span class="c-function">printf</span>(<span class="c-string">"  (ç›¸å½“äº %d / 2 = %d)\n"</span>, x, x / <span class="c-number">2</span>);
    
    <span class="c-function">printf</span>(<span class="c-string">"x >> 2 = %d, äºŒè¿›åˆ¶: "</span>, x &gt;&gt; <span class="c-number">2</span>);
    print_binary(x &gt;&gt; <span class="c-number">2</span>, <span class="c-number">8</span>);
    <span class="c-function">printf</span>(<span class="c-string">"  (ç›¸å½“äº %d / 4 = %d)\n"</span>, x, x / <span class="c-number">4</span>);
    
    <span class="c-function">printf</span>(<span class="c-string">"x >> 3 = %d, äºŒè¿›åˆ¶: "</span>, x &gt;&gt; <span class="c-number">3</span>);
    print_binary(x &gt;&gt; <span class="c-number">3</span>, <span class="c-number">8</span>);
    <span class="c-function">printf</span>(<span class="c-string">"  (ç›¸å½“äº %d / 8 = %d)\n\n"</span>, x, x / <span class="c-number">8</span>);
    
    <span class="c-comment">// è´Ÿæ•°çš„å³ç§»</span>
    <span class="c-function">printf</span>(<span class="c-string">"--- è´Ÿæ•°å³ç§»ï¼ˆç®—æœ¯å³ç§»ï¼‰---\n"</span>);
    <span class="c-keyword">int</span> y = -<span class="c-number">8</span>;
    <span class="c-function">printf</span>(<span class="c-string">"y = %d\n"</span>, y);
    <span class="c-function">printf</span>(<span class="c-string">"y >> 1 = %d  (ä¿æŒç¬¦å·ä½)\n"</span>, y &gt;&gt; <span class="c-number">1</span>);
    <span class="c-function">printf</span>(<span class="c-string">"y >> 2 = %d  (ä¿æŒç¬¦å·ä½)\n"</span>, y &gt;&gt; <span class="c-number">2</span>);
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                </div>
                </div>

                <div class="practice-questions">
                    <h3 class="subsection-title">å°±åœ°ç»ƒä¹ ï¼šç§»ä½ä¹˜é™¤ä¼˜åŒ–</h3>
                    <div class="question-item">
                        <p><strong>ç»ƒä¹ 3ï¼š</strong> ç¼–å†™å‡½æ•°ä½¿ç”¨å·¦ç§»å’Œå³ç§»å®ç°ä¹˜ä»¥2çš„å¹‚æ¬¡å’Œé™¤ä»¥2çš„å¹‚æ¬¡ï¼Œå¯¹æ¯”ç§»ä½æ“ä½œä¸æ™®é€šä¹˜é™¤çš„ç»“æœæ˜¯å¦ä¸€è‡´ã€‚</p>
                        <details>
                            <summary>å‚è€ƒç­”æ¡ˆä¸ç¤ºä¾‹ä»£ç </summary>
                            <div class="code-block">
                                <div class="code-block-title">ç§»ä½å®ç°ä¹˜é™¤æ³•</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-comment">// ä½¿ç”¨å·¦ç§»å®ç°ä¹˜æ³•ï¼šn * (2^power)</span>
<span class="c-keyword">int</span> <span class="c-function">mul_by_power2</span>(<span class="c-keyword">int</span> n, <span class="c-keyword">int</span> power) {
    <span class="c-keyword">return</span> n &lt;&lt; power;  <span class="c-comment">// n * 2^power</span>
}

<span class="c-comment">// ä½¿ç”¨å³ç§»å®ç°é™¤æ³•ï¼šn / (2^power)</span>
<span class="c-keyword">int</span> <span class="c-function">div_by_power2</span>(<span class="c-keyword">int</span> n, <span class="c-keyword">int</span> power) {
    <span class="c-keyword">return</span> n &gt;&gt; power;  <span class="c-comment">// n / 2^power (å‘ä¸‹å–æ•´)</span>
}

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">int</span> x = <span class="c-number">16</span>;
    <span class="c-keyword">int</span> power;

    <span class="c-function">printf</span>(<span class="c-string">"=== ç§»ä½ä¹˜æ³•æµ‹è¯• ===\n"</span>);
    <span class="c-keyword">for</span> (power = <span class="c-number">0</span>; power &lt;= <span class="c-number">3</span>; power++) {
        <span class="c-keyword">int</span> shift_result = mul_by_power2(x, power);
        <span class="c-keyword">int</span> mul_result = x * (<span class="c-number">1</span> &lt;&lt; power);
        <span class="c-function">printf</span>(<span class="c-string">"%d << %d = %d, %d * %d = %d, ç›¸ç­‰: %s\n"</span>, 
               x, power, shift_result, x, (<span class="c-number">1</span>&lt;&lt;power), mul_result,
               shift_result == mul_result ? <span class="c-string">"æ˜¯"</span> : <span class="c-string">"å¦"</span>);
    }

    <span class="c-function">printf</span>(<span class="c-string">"\n=== ç§»ä½é™¤æ³•æµ‹è¯• ===\n"</span>);
    <span class="c-keyword">for</span> (power = <span class="c-number">0</span>; power &lt;= <span class="c-number">3</span>; power++) {
        <span class="c-keyword">int</span> shift_result = div_by_power2(x, power);
        <span class="c-keyword">int</span> div_result = x / (<span class="c-number">1</span> &lt;&lt; power);
        <span class="c-function">printf</span>(<span class="c-string">"%d >> %d = %d, %d / %d = %d, ç›¸ç­‰: %s\n"</span>, 
               x, power, shift_result, x, (<span class="c-number">1</span>&lt;&lt;power), div_result,
               shift_result == div_result ? <span class="c-string">"æ˜¯"</span> : <span class="c-string">"å¦"</span>);
    }

    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </details>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">ç§»ä½è¿ç®—çš„å®é™…åº”ç”¨</h3>
                    
                    <div class="shift-applications">
                        <div class="application">
                            <h4>1. é«˜æ•ˆçš„ä¹˜é™¤æ³•è¿ç®—</h4>
                            <div class="code-block">
                                <div class="code-block-title">ä½¿ç”¨ç§»ä½è¿›è¡Œå¿«é€Ÿè®¡ç®—</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-comment">// ä½¿ç”¨ç§»ä½è¿›è¡Œå¿«é€Ÿä¹˜æ³•</span>
<span class="c-keyword">int</span> <span class="c-function">fast_multiply_by_power_of_2</span>(<span class="c-keyword">int</span> x, <span class="c-keyword">int</span> power) {
    <span class="c-keyword">return</span> x &lt;&lt; power;  <span class="c-comment">// ç›¸å½“äº x * (2^power)</span>
}

<span class="c-comment">// ä½¿ç”¨ç§»ä½è¿›è¡Œå¿«é€Ÿé™¤æ³•ï¼ˆæ­£æ•°ï¼‰</span>
<span class="c-keyword">int</span> <span class="c-function">fast_divide_by_power_of_2</span>(<span class="c-keyword">int</span> x, <span class="c-keyword">int</span> power) {
    <span class="c-keyword">return</span> x &gt;&gt; power;  <span class="c-comment">// ç›¸å½“äº x / (2^power)</span>
}

<span class="c-comment">// è®¡ç®—2çš„næ¬¡æ–¹</span>
<span class="c-keyword">int</span> <span class="c-function">power_of_2</span>(<span class="c-keyword">int</span> n) {
    <span class="c-keyword">return</span> <span class="c-number">1</span> &lt;&lt; n;
}

<span class="c-comment">// æ£€æŸ¥æ˜¯å¦ä¸º2çš„å¹‚</span>
<span class="c-keyword">int</span> <span class="c-function">is_power_of_2</span>(<span class="c-keyword">int</span> x) {
    <span class="c-keyword">return</span> x &gt; <span class="c-number">0</span> &amp;&amp; (x &amp; (x - <span class="c-number">1</span>)) == <span class="c-number">0</span>;
}

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">int</span> i;
    <span class="c-function">printf</span>(<span class="c-string">"=== ç§»ä½è¿ç®—åº”ç”¨ ===\n"</span>);
    
    <span class="c-keyword">int</span> x = <span class="c-number">100</span>;
    <span class="c-function">printf</span>(<span class="c-string">"%d * 8 = %d (ä½¿ç”¨ç§»ä½: %d)\n"</span>, x, x * <span class="c-number">8</span>, fast_multiply_by_power_of_2(x, <span class="c-number">3</span>));
    <span class="c-function">printf</span>(<span class="c-string">"%d / 4 = %d (ä½¿ç”¨ç§»ä½: %d)\n"</span>, x, x / <span class="c-number">4</span>, fast_divide_by_power_of_2(x, <span class="c-number">2</span>));
    
    <span class="c-function">printf</span>(<span class="c-string">"\n2çš„å¹‚æ¬¡:\n"</span>);
    <span class="c-keyword">for</span> (i = <span class="c-number">0</span>; i &lt;= <span class="c-number">5</span>; i++) {
        <span class="c-function">printf</span>(<span class="c-string">"2^%d = %d\n"</span>, i, power_of_2(i));
    }
    
    <span class="c-function">printf</span>(<span class="c-string">"\næ£€æŸ¥æ˜¯å¦ä¸º2çš„å¹‚:\n"</span>);
    <span class="c-keyword">int</span> test_values[] = {<span class="c-number">1</span>, <span class="c-number">2</span>, <span class="c-number">3</span>, <span class="c-number">4</span>, <span class="c-number">6</span>, <span class="c-number">8</span>, <span class="c-number">16</span>};
    <span class="c-keyword">for</span> (i = <span class="c-number">0</span>; i &lt; <span class="c-keyword">sizeof</span>(test_values)/<span class="c-keyword">sizeof</span>(<span class="c-keyword">int</span>); i++) {
        <span class="c-keyword">int</span> val = test_values[i];
        <span class="c-function">printf</span>(<span class="c-string">"%d æ˜¯2çš„å¹‚: %s\n"</span>, val, is_power_of_2(val) ? <span class="c-string">"æ˜¯"</span> : <span class="c-string">"å¦"</span>);
    }
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </div>

                        <div class="application">
                            <h4>2. é¢œè‰²åˆ†é‡æå–</h4>
                            <div class="code-block">
                                <div class="code-block-title">ä½¿ç”¨ç§»ä½æå–RGBé¢œè‰²åˆ†é‡</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-comment">// ä»32ä½é¢œè‰²å€¼ä¸­æå–RGBåˆ†é‡</span>
<span class="c-keyword">void</span> <span class="c-function">extract_rgb</span>(<span class="c-keyword">unsigned</span> <span class="c-keyword">int</span> color, <span class="c-keyword">int</span>* r, <span class="c-keyword">int</span>* g, <span class="c-keyword">int</span>* b) {
    <span class="c-comment">// å‡è®¾é¢œè‰²æ ¼å¼: 0xAARRGGBB</span>
    *r = (color &gt;&gt; <span class="c-number">16</span>) &amp; <span class="c-number">0xFF</span>;  <span class="c-comment">// æå–Råˆ†é‡</span>
    *g = (color &gt;&gt; <span class="c-number">8</span>) &amp; <span class="c-number">0xFF</span>;   <span class="c-comment">// æå–Gåˆ†é‡</span>
    *b = color &amp; <span class="c-number">0xFF</span>;           <span class="c-comment">// æå–Båˆ†é‡</span>
}

<span class="c-comment">// åˆ›å»º32ä½é¢œè‰²å€¼</span>
<span class="c-keyword">unsigned</span> <span class="c-keyword">int</span> <span class="c-function">make_color</span>(<span class="c-keyword">int</span> r, <span class="c-keyword">int</span> g, <span class="c-keyword">int</span> b, <span class="c-keyword">int</span> a) {
    <span class="c-keyword">return</span> (a &lt;&lt; <span class="c-number">24</span>) | (r &lt;&lt; <span class="c-number">16</span>) | (g &lt;&lt; <span class="c-number">8</span>) | b;
}

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-function">printf</span>(<span class="c-string">"=== é¢œè‰²å¤„ç†ç¤ºä¾‹ ===\n"</span>);
    
    <span class="c-comment">// æµ‹è¯•é¢œè‰²æå–</span>
    <span class="c-keyword">unsigned</span> <span class="c-keyword">int</span> color = <span class="c-number">0xFF3366AA</span>;  <span class="c-comment">// è“è‰²</span>
    <span class="c-keyword">int</span> r, g, b;
    extract_rgb(color, &amp;r, &amp;g, &amp;b);
    <span class="c-function">printf</span>(<span class="c-string">"é¢œè‰² 0x%08X çš„RGBåˆ†é‡: R=%d, G=%d, B=%d\n"</span>, color, r, g, b);
    
    <span class="c-comment">// æµ‹è¯•é¢œè‰²åˆ›å»º</span>
    <span class="c-keyword">unsigned</span> <span class="c-keyword">int</span> red = make_color(<span class="c-number">255</span>, <span class="c-number">0</span>, <span class="c-number">0</span>, <span class="c-number">255</span>);
    <span class="c-keyword">unsigned</span> <span class="c-keyword">int</span> blue = make_color(<span class="c-number">0</span>, <span class="c-number">0</span>, <span class="c-number">255</span>, <span class="c-number">255</span>);
    <span class="c-function">printf</span>(<span class="c-string">"çº¢è‰²: 0x%08X, è“è‰²: 0x%08X\n"</span>, red, blue);
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ä½æ“ä½œæŠ€å·§ -->
            <section id="bit-manipulation" class="section">
                <h2 class="section-title">ä½æ“ä½œæŠ€å·§</h2>
                
                <div class="subsection">
                    <h3 class="subsection-title">ä½æ“ä½œçš„å®ç”¨æŠ€å·§</h3>
                    <div class="code-block">
                    <div class="code-block-title">ä½æ“ä½œæŠ€å·§ç¤ºä¾‹</div>
                    <pre><code><span class="c-comment">// ä½æ“ä½œçš„å®ç”¨æŠ€å·§</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-comment">// æ£€æŸ¥ç¬¬posä½æ˜¯å¦ä¸º1</span>
<span class="c-keyword">int</span> <span class="c-function">check_bit</span>(<span class="c-keyword">int</span> num, <span class="c-keyword">int</span> pos) {
    <span class="c-keyword">return</span> (num &gt;&gt; pos) &amp; <span class="c-number">1</span>;
}

<span class="c-comment">// è®¾ç½®ç¬¬posä½ä¸º1</span>
<span class="c-keyword">int</span> <span class="c-function">set_bit</span>(<span class="c-keyword">int</span> num, <span class="c-keyword">int</span> pos) {
    <span class="c-keyword">return</span> num | (<span class="c-number">1</span> &lt;&lt; pos);
}

<span class="c-comment">// æ¸…é™¤ç¬¬posä½ä¸º0</span>
<span class="c-keyword">int</span> <span class="c-function">clear_bit</span>(<span class="c-keyword">int</span> num, <span class="c-keyword">int</span> pos) {
    <span class="c-keyword">return</span> num &amp; ~(<span class="c-number">1</span> &lt;&lt; pos);
}

<span class="c-comment">// ç¿»è½¬ç¬¬posä½</span>
<span class="c-keyword">int</span> <span class="c-function">toggle_bit</span>(<span class="c-keyword">int</span> num, <span class="c-keyword">int</span> pos) {
    <span class="c-keyword">return</span> num ^ (<span class="c-number">1</span> &lt;&lt; pos);
}

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">int</span> x = <span class="c-number">5</span>;  <span class="c-comment">// äºŒè¿›åˆ¶: 0101</span>
    
    <span class="c-function">printf</span>(<span class="c-string">"x = %d (0101)\n"</span>, x);
    <span class="c-function">printf</span>(<span class="c-string">"ç¬¬0ä½: %d\n"</span>, <span class="c-function">check_bit</span>(x, <span class="c-number">0</span>));  <span class="c-comment">// 1</span>
    <span class="c-function">printf</span>(<span class="c-string">"ç¬¬1ä½: %d\n"</span>, <span class="c-function">check_bit</span>(x, <span class="c-number">1</span>));  <span class="c-comment">// 0</span>
    <span class="c-function">printf</span>(<span class="c-string">"ç¬¬2ä½: %d\n"</span>, <span class="c-function">check_bit</span>(x, <span class="c-number">2</span>));  <span class="c-comment">// 1</span>
    
    <span class="c-function">printf</span>(<span class="c-string">"\nè®¾ç½®ç¬¬1ä½: %d (0111)\n"</span>, <span class="c-function">set_bit</span>(x, <span class="c-number">1</span>));    <span class="c-comment">// 7</span>
    <span class="c-function">printf</span>(<span class="c-string">"æ¸…é™¤ç¬¬0ä½: %d (0100)\n"</span>, <span class="c-function">clear_bit</span>(x, <span class="c-number">0</span>));  <span class="c-comment">// 4</span>
    <span class="c-function">printf</span>(<span class="c-string">"ç¿»è½¬ç¬¬1ä½: %d (0111)\n"</span>, <span class="c-function">toggle_bit</span>(x, <span class="c-number">1</span>)); <span class="c-comment">// 7</span>
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">é«˜çº§ä½æ“ä½œæŠ€å·§</h3>
                    
                    <div class="bit-advanced">
                        <div class="technique">
                            <h4>1. ä½æ©ç å’Œä½å­—æ®µ</h4>
                            <div class="code-block">
                                <div class="code-block-title">ä½¿ç”¨ä½æ©ç ç®¡ç†å¤šä¸ªæ ‡å¿—</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-comment">// å®šä¹‰ä½æ©ç å¸¸é‡</span>
<span class="c-keyword">const</span> <span class="c-keyword">unsigned</span> <span class="c-keyword">int</span> FLAG_VISIBLE = <span class="c-number">1</span> &lt;&lt; <span class="c-number">0</span>;      <span class="c-comment">// 0001</span>
<span class="c-keyword">const</span> <span class="c-keyword">unsigned</span> <span class="c-keyword">int</span> FLAG_ENABLED = <span class="c-number">1</span> &lt;&lt; <span class="c-number">1</span>;      <span class="c-comment">// 0010</span>
<span class="c-keyword">const</span> <span class="c-keyword">unsigned</span> <span class="c-keyword">int</span> FLAG_SELECTED = <span class="c-number">1</span> &lt;&lt; <span class="c-number">2</span>;     <span class="c-comment">// 0100</span>
<span class="c-keyword">const</span> <span class="c-keyword">unsigned</span> <span class="c-keyword">int</span> FLAG_MODIFIED = <span class="c-number">1</span> &lt;&lt; <span class="c-number">3</span>;     <span class="c-comment">// 1000</span>

<span class="c-comment">// ç»„åˆæ©ç </span>
<span class="c-keyword">const</span> <span class="c-keyword">unsigned</span> <span class="c-keyword">int</span> ALL_FLAGS = FLAG_VISIBLE | FLAG_ENABLED | FLAG_SELECTED | FLAG_MODIFIED;

<span class="c-comment">// æ£€æŸ¥å¤šä¸ªæ ‡å¿—</span>
<span class="c-keyword">int</span> <span class="c-function">has_all_flags</span>(<span class="c-keyword">unsigned</span> <span class="c-keyword">int</span> state, <span class="c-keyword">unsigned</span> <span class="c-keyword">int</span> flags) {
    <span class="c-keyword">return</span> (state &amp; flags) == flags;
}

<span class="c-keyword">int</span> <span class="c-function">has_any_flag</span>(<span class="c-keyword">unsigned</span> <span class="c-keyword">int</span> state, <span class="c-keyword">unsigned</span> <span class="c-keyword">int</span> flags) {
    <span class="c-keyword">return</span> (state &amp; flags) != <span class="c-number">0</span>;
}

<span class="c-comment">// ä½å­—æ®µç»“æ„ä½“ï¼ˆèŠ‚çœç©ºé—´ï¼‰</span>
<span class="c-keyword">struct</span> {
    <span class="c-keyword">unsigned</span> <span class="c-keyword">int</span> visible : <span class="c-number">1</span>;    <span class="c-comment">// 1ä½</span>
    <span class="c-keyword">unsigned</span> <span class="c-keyword">int</span> enabled : <span class="c-number">1</span>;    <span class="c-comment">// 1ä½</span>
    <span class="c-keyword">unsigned</span> <span class="c-keyword">int</span> selected : <span class="c-number">1</span>;   <span class="c-comment">// 1ä½</span>
    <span class="c-keyword">unsigned</span> <span class="c-keyword">int</span> modified : <span class="c-number">1</span>;   <span class="c-comment">// 1ä½</span>
    <span class="c-keyword">unsigned</span> <span class="c-keyword">int</span> priority : <span class="c-number">4</span>;    <span class="c-comment">// 4ä½ (0-15)</span>
    <span class="c-keyword">unsigned</span> <span class="c-keyword">int</span> reserved : <span class="c-number">8</span>;    <span class="c-comment">// 8ä½ä¿ç•™</span>
} control_flags;

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-function">printf</span>(<span class="c-string">"=== ä½æ©ç å’Œä½å­—æ®µç¤ºä¾‹ ===\n"</span>);
    
    <span class="c-comment">// ä½¿ç”¨ä½æ©ç </span>
    <span class="c-keyword">unsigned</span> <span class="c-keyword">int</span> state = <span class="c-number">0</span>;
    state |= FLAG_VISIBLE;     <span class="c-comment">// è®¾ç½®å¯è§</span>
    state |= FLAG_ENABLED;     <span class="c-comment">// è®¾ç½®å¯ç”¨</span>
    
    <span class="c-function">printf</span>(<span class="c-string">"çŠ¶æ€: 0x%X\n"</span>, state);
    <span class="c-function">printf</span>(<span class="c-string">"å¯è§: %s\n"</span>, has_any_flag(state, FLAG_VISIBLE) ? <span class="c-string">"æ˜¯"</span> : <span class="c-string">"å¦"</span>);
    <span class="c-function">printf</span>(<span class="c-string">"å·²ä¿®æ”¹: %s\n"</span>, has_any_flag(state, FLAG_MODIFIED) ? <span class="c-string">"æ˜¯"</span> : <span class="c-string">"å¦"</span>);
    
    <span class="c-comment">// ä½¿ç”¨ä½å­—æ®µ</span>
    control_flags.visible = <span class="c-number">1</span>;
    control_flags.enabled = <span class="c-number">1</span>;
    control_flags.selected = <span class="c-number">0</span>;
    control_flags.modified = <span class="c-number">1</span>;
    control_flags.priority = <span class="c-number">5</span>;  <span class="c-comment">// ä¼˜å…ˆçº§0-15</span>
    
    <span class="c-function">printf</span>(<span class="c-string">"\nä½å­—æ®µçŠ¶æ€:\n"</span>);
    <span class="c-function">printf</span>(<span class="c-string">"å¯è§: %d, å¯ç”¨: %d, é€‰ä¸­: %d, ä¿®æ”¹: %d\n"</span>,
           control_flags.visible, control_flags.enabled, 
           control_flags.selected, control_flags.modified);
    <span class="c-function">printf</span>(<span class="c-string">"ä¼˜å…ˆçº§: %d\n"</span>, control_flags.priority);
    <span class="c-function">printf</span>(<span class="c-string">"ç»“æ„ä½“å¤§å°: %u å­—èŠ‚\n"</span>, (<span class="c-keyword">unsigned int</span>)<span class="c-keyword">sizeof</span>(control_flags));
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </div>

                        <div class="technique">
                            <h4>2. ä½è¿ç®—åœ¨åŠ å¯†å’Œæ ¡éªŒä¸­çš„åº”ç”¨</h4>
                            <div class="code-block">
                                <div class="code-block-title">ç®€å•çš„æ ¡éªŒå’Œè®¡ç®—</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-comment">// è®¡ç®—ç®€å•æ ¡éªŒå’Œ</span>
<span class="c-keyword">unsigned</span> <span class="c-keyword">char</span> <span class="c-function">simple_checksum</span>(<span class="c-keyword">const</span> <span class="c-keyword">unsigned</span> <span class="c-keyword">char</span>* data, <span class="c-keyword">size_t</span> length) {
    <span class="c-keyword">unsigned</span> <span class="c-keyword">char</span> sum = <span class="c-number">0</span>;
    <span class="c-keyword">for</span> (i = <span class="c-number">0</span>; i &lt; length; i++) {
        sum ^= data[i];  <span class="c-comment">// å¼‚æˆ–è¿ç®—</span>
    }
    <span class="c-keyword">return</span> sum;
}

<span class="c-comment">// CRC-8 æ ¡éªŒï¼ˆç®€åŒ–ç‰ˆï¼‰</span>
<span class="c-keyword">unsigned</span> <span class="c-keyword">char</span> <span class="c-function">crc8</span>(<span class="c-keyword">const</span> <span class="c-keyword">unsigned</span> <span class="c-keyword">char</span>* data, <span class="c-keyword">size_t</span> length) {
    <span class="c-keyword">unsigned</span> <span class="c-keyword">char</span> crc = <span class="c-number">0xFF</span>;  <span class="c-comment">// åˆå§‹å€¼</span>
    <span class="c-keyword">for</span> (i = <span class="c-number">0</span>; i &lt; length; i++) {
        crc ^= data[i];
        <span class="c-keyword">for</span> (j = <span class="c-number">0</span>; j &lt; <span class="c-number">8</span>; j++) {
            <span class="c-keyword">if</span>(crc &amp; <span class="c-number">0x80</span>) {
                crc = (crc &lt;&lt; <span class="c-number">1</span>) ^ <span class="c-number">0x31</span>;  <span class="c-comment">// å¤šé¡¹å¼</span>
            } <span class="c-keyword">else</span> {
                crc &lt;&lt;= <span class="c-number">1</span>;
            }
        }
    }
    <span class="c-keyword">return</span> crc;
}

<span class="c-comment">// ç®€å•çš„åŠ å¯†/è§£å¯†ï¼ˆå¼‚æˆ–åŠ å¯†ï¼‰</span>
<span class="c-keyword">void</span> <span class="c-function">xor_encrypt</span>(<span class="c-keyword">unsigned</span> <span class="c-keyword">char</span>* data, <span class="c-keyword">size_t</span> length, <span class="c-keyword">unsigned</span> <span class="c-keyword">char</span> key) {
    <span class="c-keyword">for</span> (i = <span class="c-number">0</span>; i &lt; length; i++) {
        data[i] ^= key;
    }
}

<span class="c-comment">// æ±‰æ˜ç çº é”™ï¼ˆç®€åŒ–ç¤ºä¾‹ï¼‰</span>
<span class="c-keyword">unsigned</span> <span class="c-keyword">char</span> <span class="c-function">add_parity_bit</span>(<span class="c-keyword">unsigned</span> <span class="c-keyword">char</span> data) {
    <span class="c-comment">// ä¸º4ä½æ•°æ®æ·»åŠ 3ä½æ ¡éªŒä½</span>
    <span class="c-keyword">unsigned</span> <span class="c-keyword">char</span> d1 = (data &gt;&gt; <span class="c-number">0</span>) &amp; <span class="c-number">1</span>;  <span class="c-comment">// æ•°æ®ä½1</span>
    <span class="c-keyword">unsigned</span> <span class="c-keyword">char</span> d2 = (data &gt;&gt; <span class="c-number">1</span>) &amp; <span class="c-number">1</span>;  <span class="c-comment">// æ•°æ®ä½2</span>
    <span class="c-keyword">unsigned</span> <span class="c-keyword">char</span> d3 = (data &gt;&gt; <span class="c-number">2</span>) &amp; <span class="c-number">1</span>;  <span class="c-comment">// æ•°æ®ä½3</span>
    <span class="c-keyword">unsigned</span> <span class="c-keyword">char</span> d4 = (data &gt;&gt; <span class="c-number">3</span>) &amp; <span class="c-number">1</span>;  <span class="c-comment">// æ•°æ®ä½4</span>
    
    <span class="c-comment">// è®¡ç®—æ ¡éªŒä½</span>
    <span class="c-keyword">unsigned</span> <span class="c-keyword">char</span> p1 = d1 ^ d2 ^ d4;  <span class="c-comment">// æ ¡éªŒä½1</span>
    <span class="c-keyword">unsigned</span> <span class="c-keyword">char</span> p2 = d1 ^ d3 ^ d4;  <span class="c-comment">// æ ¡éªŒä½2</span>
    <span class="c-keyword">unsigned</span> <span class="c-keyword">char</span> p4 = d2 ^ d3 ^ d4;  <span class="c-comment">// æ ¡éªŒä½4</span>
    
    <span class="c-comment">// ç»„åˆæˆ7ä½æ±‰æ˜ç : p1 p2 d1 p4 d2 d3 d4</span>
    <span class="c-keyword">return</span> (p1 &lt;&lt; <span class="c-number">6</span>) | (p2 &lt;&lt; <span class="c-number">5</span>) | (d1 &lt;&lt; <span class="c-number">4</span>) | 
           (p4 &lt;&lt; <span class="c-number">3</span>) | (d2 &lt;&lt; <span class="c-number">2</span>) | (d3 &lt;&lt; <span class="c-number">1</span>) | d4;
}

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">size_t</span> i;
    <span class="c-function">printf</span>(<span class="c-string">"=== æ ¡éªŒå’Œä¸åŠ å¯†ç¤ºä¾‹ ===\n"</span>);
    
    <span class="c-keyword">unsigned</span> <span class="c-keyword">char</span> data[] = {<span class="c-string">'H'</span>, <span class="c-string">'e'</span>, <span class="c-string">'l'</span>, <span class="c-string">'l'</span>, <span class="c-string">'o'</span>};
    <span class="c-keyword">size_t</span> len = <span class="c-keyword">sizeof</span>(data) / <span class="c-keyword">sizeof</span>(data[<span class="c-number">0</span>]);
    
    <span class="c-comment">// è®¡ç®—æ ¡éªŒå’Œ</span>
    <span class="c-keyword">unsigned</span> <span class="c-keyword">char</span> checksum = simple_checksum(data, len);
    <span class="c-function">printf</span>(<span class="c-string">"æ•°æ®: %.*s\n"</span>, (<span class="c-keyword">int</span>)len, data);
    <span class="c-function">printf</span>(<span class="c-string">"ç®€å•æ ¡éªŒå’Œ: 0x%02X\n"</span>, checksum);
    
    <span class="c-keyword">unsigned</span> <span class="c-keyword">char</span> crc = crc8(data, len);
    <span class="c-function">printf</span>(<span class="c-string">"CRC-8: 0x%02X\n"</span>, crc);
    
    <span class="c-comment">// å¼‚æˆ–åŠ å¯†</span>
    <span class="c-function">printf</span>(<span class="c-string">"\nåŸå§‹æ•°æ®: %.*s\n"</span>, (<span class="c-keyword">int</span>)len, data);
    xor_encrypt(data, len, <span class="c-number">0x5A</span>);
    <span class="c-function">printf</span>(<span class="c-string">"åŠ å¯†å(hex): "</span>);
    <span class="c-keyword">for</span> (i = <span class="c-number">0</span>; i &lt; len; i++) <span class="c-function">printf</span>(<span class="c-string">"%02X "</span>, data[i]);
    <span class="c-function">printf</span>(<span class="c-string">"\n"</span>);
    
    xor_encrypt(data, len, <span class="c-number">0x5A</span>);  <span class="c-comment">// è§£å¯†ï¼ˆå†æ¬¡å¼‚æˆ–ï¼‰</span>
    <span class="c-function">printf</span>(<span class="c-string">"è§£å¯†å: %.*s\n"</span>, (<span class="c-keyword">int</span>)len, data);
    
    <span class="c-comment">// æ±‰æ˜ç ç¤ºä¾‹</span>
    <span class="c-keyword">unsigned</span> <span class="c-keyword">char</span> original = <span class="c-number">0x0A</span>;  <span class="c-comment">// 1010</span>
    <span class="c-keyword">unsigned</span> <span class="c-keyword">char</span> hamming = add_parity_bit(original);
    <span class="c-function">printf</span>(<span class="c-string">"\nåŸå§‹æ•°æ®: 0x%X, æ±‰æ˜ç : 0x%X\n"</span>, original, hamming);
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="practice-questions">
                    <h3 class="subsection-title">å°±åœ°ç»ƒä¹ ï¼šä½æ“ä½œå®ç”¨æŠ€å·§</h3>
                    <div class="question-item">
                        <p><strong>ç»ƒä¹ 4ï¼š</strong> ç¼–å†™å‡½æ•°æ£€æŸ¥ä¸€ä¸ªæ•´æ•°æ˜¯å¦æ˜¯2çš„å¹‚æ¬¡ï¼Œå¹¶è®¡ç®—ä¸€ä¸ªæ•´æ•°äºŒè¿›åˆ¶è¡¨ç¤ºä¸­1çš„ä¸ªæ•°ï¼ˆæ±‰æ˜æƒé‡ï¼‰ã€‚</p>
                        <details>
                            <summary>å‚è€ƒç­”æ¡ˆä¸ç¤ºä¾‹ä»£ç </summary>
                            <div class="code-block">
                                <div class="code-block-title">ä½æŠ€å·§</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">int</span> <span class="c-function">is_power_of_2</span>(<span class="c-keyword">int</span> n) {
    <span class="c-keyword">return</span> n &gt; <span class="c-number">0</span> &amp;&amp; (n &amp; (n-<span class="c-number">1</span>)) == <span class="c-number">0</span>;
}

<span class="c-keyword">int</span> <span class="c-function">count_bits</span>(<span class="c-keyword">int</span> n) {
    <span class="c-keyword">int</span> count = <span class="c-number">0</span>;
    <span class="c-keyword">while</span>(n) {
        count++;
        n &amp;= n<span class="c-number">-1</span>;  <span class="c-comment">// æ¸…é™¤æœ€ä½ä½çš„1</span>
    }
    <span class="c-keyword">return</span> count;
}

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-keyword">int</span> i;
    <span class="c-keyword">int</span> nums[] = {<span class="c-number">8</span>, <span class="c-number">10</span>, <span class="c-number">16</span>, <span class="c-number">7</span>};
    <span class="c-keyword">for</span> (i = <span class="c-number">0</span>; i &lt; <span class="c-number">4</span>; i++) {
        <span class="c-function">printf</span>(<span class="c-string">"%d æ˜¯2çš„å¹‚æ¬¡: %s, äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°: %d\n"</span>, 
            nums[i], 
            is_power_of_2(nums[i]) ? <span class="c-string">"æ˜¯"</span> : <span class="c-string">"å¦"</span>,
            count_bits(nums[i]));
    }

    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </details>
                    </div>
                </div>
            </section>

            <!-- æ–‡ä»¶æ“ä½œåŸºç¡€ -->
            <section id="file-basic" class="section">
                <h2 class="section-title">æ–‡ä»¶æ“ä½œåŸºç¡€</h2>
                
                <div class="subsection">
                    <h3 class="subsection-title">æ–‡ä»¶çš„æ‰“å¼€å’Œå…³é—­</h3>
                    <div class="code-block">
                    <div class="code-block-title">æ–‡ä»¶æ“ä½œåŸºç¡€ç¤ºä¾‹</div>
                    <pre><code><span class="c-comment">// æ–‡ä»¶çš„æ‰“å¼€å’Œå…³é—­</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-comment">// æ‰“å¼€æ–‡ä»¶</span>
    FILE *fp = <span class="c-function">fopen</span>(<span class="c-string">"example.txt"</span>, <span class="c-string">"w"</span>);
    
    <span class="c-comment">// æ£€æŸ¥æ˜¯å¦æ‰“å¼€æˆåŠŸ</span>
    <span class="c-keyword">if</span> (fp == NULL) {
        <span class="c-function">printf</span>(<span class="c-string">"æ–‡ä»¶æ‰“å¼€å¤±è´¥\n"</span>);
        <span class="c-keyword">return</span> <span class="c-number">1</span>;
    }
    
    <span class="c-function">printf</span>(<span class="c-string">"æ–‡ä»¶æ‰“å¼€æˆåŠŸ\n"</span>);
    
    <span class="c-comment">// ä½¿ç”¨æ–‡ä»¶...</span>
    <span class="c-function">fprintf</span>(fp, <span class="c-string">"Hello, World!\n"</span>);
    
    <span class="c-comment">// å…³é—­æ–‡ä»¶</span>
    <span class="c-function">fclose</span>(fp);
    <span class="c-function">printf</span>(<span class="c-string">"æ–‡ä»¶å·²å…³é—­\n"</span>);
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                </div>
                </div>

                <div class="practice-questions">
                    <h3 class="subsection-title">å°±åœ°ç»ƒä¹ ï¼šæ–‡ä»¶æ‰“å¼€ä¸å…³é—­</h3>
                    <div class="question-item">
                        <p><strong>ç»ƒä¹ 5ï¼š</strong> ä»¥å†™å…¥æ¨¡å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œæ£€æŸ¥æ˜¯å¦æˆåŠŸï¼Œå†™å…¥ä¸€æ¡æµ‹è¯•ä¿¡æ¯åæ­£ç¡®å…³é—­æ–‡ä»¶ï¼Œç„¶åä»¥è¯»å–æ¨¡å¼æ‰“å¼€å¹¶éªŒè¯å†…å®¹ã€‚</p>
                        <details>
                            <summary>å‚è€ƒç­”æ¡ˆä¸ç¤ºä¾‹ä»£ç </summary>
                            <div class="code-block">
                                <div class="code-block-title">æ–‡ä»¶åŸºæœ¬æ“ä½œ</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    FILE *fp;
    <span class="c-keyword">char</span> buffer[<span class="c-number">100</span>];

    <span class="c-comment">// å†™å…¥</span>
    fp = fopen(<span class="c-string">"test.txt"</span>, <span class="c-string">"w"</span>);
    <span class="c-keyword">if</span>(fp == NULL) {
        <span class="c-function">printf</span>(<span class="c-string">"æ‰“å¼€å¤±è´¥\n"</span>);
        <span class="c-keyword">return</span> <span class="c-number">1</span>;
    }
    fprintf(fp, <span class="c-string">"æµ‹è¯•æ¶ˆæ¯\n"</span>);
    fclose(fp);
    <span class="c-function">printf</span>(<span class="c-string">"å†™å…¥å®Œæˆ\n"</span>);

    <span class="c-comment">// è¯»å–</span>
    fp = fopen(<span class="c-string">"test.txt"</span>, <span class="c-string">"r"</span>);
    <span class="c-keyword">if</span>(fp &amp;&amp; fgets(buffer, <span class="c-number">100</span>, fp)) {
        <span class="c-function">printf</span>(<span class="c-string">"è¯»å–: %s"</span>, buffer);
    }
    fclose(fp);

    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </details>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">æ–‡ä»¶æ‰“å¼€æ¨¡å¼è¯¦è§£</h3>
                    
                    <div class="file-modes">
                        <div class="mode-table">
                            <table>
                                <thead>
                                    <tr>
                                        <th>æ¨¡å¼</th>
                                        <th>å«ä¹‰</th>
                                        <th>æ–‡ä»¶ä¸å­˜åœ¨</th>
                                        <th>æ–‡ä»¶å­˜åœ¨</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><code>"r"</code></td>
                                        <td>åªè¯»</td>
                                        <td>æ‰“å¼€å¤±è´¥</td>
                                        <td>ä»å¤´è¯»å–</td>
                                    </tr>
                                    <tr>
                                        <td><code>"w"</code></td>
                                        <td>åªå†™</td>
                                        <td>åˆ›å»ºæ–°æ–‡ä»¶</td>
                                        <td>æ¸…ç©ºå¹¶é‡å†™</td>
                                    </tr>
                                    <tr>
                                        <td><code>"a"</code></td>
                                        <td>è¿½åŠ </td>
                                        <td>åˆ›å»ºæ–°æ–‡ä»¶</td>
                                        <td>åœ¨æœ«å°¾è¿½åŠ </td>
                                    </tr>
                                    <tr>
                                        <td><code>"r+"</code></td>
                                        <td>è¯»å†™</td>
                                        <td>æ‰“å¼€å¤±è´¥</td>
                                        <td>ä»å¤´è¯»å†™</td>
                                    </tr>
                                    <tr>
                                        <td><code>"w+"</code></td>
                                        <td>è¯»å†™</td>
                                        <td>åˆ›å»ºæ–°æ–‡ä»¶</td>
                                        <td>æ¸…ç©ºå¹¶è¯»å†™</td>
                                    </tr>
                                    <tr>
                                        <td><code>"a+"</code></td>
                                        <td>è¯»å†™è¿½åŠ </td>
                                        <td>åˆ›å»ºæ–°æ–‡ä»¶</td>
                                        <td>åœ¨æœ«å°¾è¯»å†™</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="code-block">
                            <div class="code-block-title">æ–‡ä»¶æ¨¡å¼æ¼”ç¤º</div>
                            <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdlib.h&gt;</span>

<span class="c-keyword">void</span> <span class="c-function">demo_file_modes</span>() {
    <span class="c-comment">// æ¼”ç¤ºä¸åŒçš„æ–‡ä»¶æ‰“å¼€æ¨¡å¼</span>
    FILE *fp;
    
    <span class="c-comment">// 1. å†™å…¥æ¨¡å¼ - åˆ›å»ºæˆ–è¦†ç›–æ–‡ä»¶</span>
    <span class="c-function">printf</span>(<span class="c-string">"=== å†™å…¥æ¨¡å¼ (w) ===\n"</span>);
    fp = <span class="c-function">fopen</span>(<span class="c-string">"demo.txt"</span>, <span class="c-string">"w"</span>);
    <span class="c-keyword">if</span> (fp) {
        <span class="c-function">fprintf</span>(fp, <span class="c-string">"ç¬¬ä¸€è¡Œå†…å®¹\n"</span>);
        <span class="c-function">fclose</span>(fp);
        <span class="c-function">printf</span>(<span class="c-string">"æ–‡ä»¶åˆ›å»ºå¹¶å†™å…¥æˆåŠŸ\n"</span>);
    }
    
    <span class="c-comment">// 2. è¿½åŠ æ¨¡å¼ - åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ å†…å®¹</span>
    <span class="c-function">printf</span>(<span class="c-string">"\n=== è¿½åŠ æ¨¡å¼ (a) ===\n"</span>);
    fp = <span class="c-function">fopen</span>(<span class="c-string">"demo.txt"</span>, <span class="c-string">"a"</span>);
    <span class="c-keyword">if</span> (fp) {
        <span class="c-function">fprintf</span>(fp, <span class="c-string">"ç¬¬äºŒè¡Œå†…å®¹\n"</span>);
        <span class="c-function">fclose</span>(fp);
        <span class="c-function">printf</span>(<span class="c-string">"å†…å®¹è¿½åŠ æˆåŠŸ\n"</span>);
    }
    
    <span class="c-comment">// 3. è¯»å–æ¨¡å¼ - è¯»å–æ–‡ä»¶å†…å®¹</span>
    <span class="c-function">printf</span>(<span class="c-string">"\n=== è¯»å–æ¨¡å¼ (r) ===\n"</span>);
    fp = <span class="c-function">fopen</span>(<span class="c-string">"demo.txt"</span>, <span class="c-string">"r"</span>);
    <span class="c-keyword">if</span> (fp) {
        <span class="c-keyword">char</span> buffer[<span class="c-number">100</span>];
        <span class="c-function">printf</span>(<span class="c-string">"æ–‡ä»¶å†…å®¹:\n"</span>);
        <span class="c-keyword">while</span> (<span class="c-function">fgets</span>(buffer, <span class="c-keyword">sizeof</span>(buffer), fp) != NULL) {
            <span class="c-function">printf</span>(<span class="c-string">"%s"</span>, buffer);
        }
        <span class="c-function">fclose</span>(fp);
    }
    
    <span class="c-comment">// 4. è¯»å†™æ¨¡å¼ - æ—¢èƒ½è¯»åˆèƒ½å†™</span>
    <span class="c-function">printf</span>(<span class="c-string">"\n=== è¯»å†™æ¨¡å¼ (r+) ===\n"</span>);
    fp = <span class="c-function">fopen</span>(<span class="c-string">"demo.txt"</span>, <span class="c-string">"r+"</span>);
    <span class="c-keyword">if</span> (fp) {
        <span class="c-comment">// å…ˆè¯»å–ç°æœ‰å†…å®¹</span>
        <span class="c-keyword">char</span> ch;
        <span class="c-function">printf</span>(<span class="c-string">"å½“å‰æ–‡ä»¶å†…å®¹: "</span>);
        <span class="c-keyword">while</span> ((ch = <span class="c-function">fgetc</span>(fp)) != EOF) {
            <span class="c-function">putchar</span>(ch);
        }
        
        <span class="c-comment">// åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ æ–°å†…å®¹</span>
        <span class="c-function">fprintf</span>(fp, <span class="c-string">"ç¬¬ä¸‰è¡Œå†…å®¹\n"</span>);
        <span class="c-function">fclose</span>(fp);
        <span class="c-function">printf</span>(<span class="c-string">"\nè¯»å†™æ“ä½œå®Œæˆ\n"</span>);
    }
    
    <span class="c-comment">// 5. äºŒè¿›åˆ¶æ¨¡å¼æ¼”ç¤º</span>
    <span class="c-function">printf</span>(<span class="c-string">"\n=== äºŒè¿›åˆ¶æ¨¡å¼ (wb) ===\n"</span>);
    fp = <span class="c-function">fopen</span>(<span class="c-string">"binary.dat"</span>, <span class="c-string">"wb"</span>);
    <span class="c-keyword">if</span> (fp) {
        <span class="c-keyword">int</span> data[] = {<span class="c-number">1</span>, <span class="c-number">2</span>, <span class="c-number">3</span>, <span class="c-number">4</span>, <span class="c-number">5</span>};
        <span class="c-keyword">size_t</span> written = <span class="c-function">fwrite</span>(data, <span class="c-keyword">sizeof</span>(<span class="c-keyword">int</span>), <span class="c-number">5</span>, fp);
        <span class="c-function">fclose</span>(fp);
        <span class="c-function">printf</span>(<span class="c-string">"å†™å…¥ %u ä¸ªæ•´æ•°åˆ°äºŒè¿›åˆ¶æ–‡ä»¶\n"</span>, written);
    }
}

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    demo_file_modes();
    
    <span class="c-comment">// æ¸…ç†æ–‡ä»¶</span>
    <span class="c-function">remove</span>(<span class="c-string">"demo.txt"</span>);
    <span class="c-function">remove</span>(<span class="c-string">"binary.dat"</span>);
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">é”™è¯¯å¤„ç†å’Œæ–‡ä»¶çŠ¶æ€æ£€æŸ¥</h3>
                    <div class="code-block">
                        <div class="code-block-title">æ–‡ä»¶æ“ä½œé”™è¯¯å¤„ç†</div>
                        <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdlib.h&gt;</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;errno.h&gt;</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;string.h&gt;</span>

<span class="c-comment">// å®‰å…¨çš„æ–‡ä»¶æ‰“å¼€å‡½æ•°</span>
FILE* <span class="c-function">safe_fopen</span>(<span class="c-keyword">const</span> <span class="c-keyword">char</span>* filename, <span class="c-keyword">const</span> <span class="c-keyword">char</span>* mode) {
    FILE* fp = <span class="c-function">fopen</span>(filename, mode);
    <span class="c-keyword">if</span> (fp == NULL) {
        <span class="c-function">fprintf</span>(stderr, <span class="c-string">"é”™è¯¯: æ— æ³•æ‰“å¼€æ–‡ä»¶ '%s' (æ¨¡å¼: %s)\n"</span>, filename, mode);
        <span class="c-function">fprintf</span>(stderr, <span class="c-string">"é”™è¯¯ä¿¡æ¯: %s\n"</span>, <span class="c-function">strerror</span>(errno));
        <span class="c-keyword">return</span> NULL;
    }
    <span class="c-keyword">return</span> fp;
}

<span class="c-comment">// æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span>
<span class="c-keyword">int</span> <span class="c-function">file_exists</span>(<span class="c-keyword">const</span> <span class="c-keyword">char</span>* filename) {
    FILE* fp = <span class="c-function">fopen</span>(filename, <span class="c-string">"r"</span>);
    <span class="c-keyword">if</span> (fp) {
        <span class="c-function">fclose</span>(fp);
        <span class="c-keyword">return</span> <span class="c-number">1</span>;
    }
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}

<span class="c-comment">// è·å–æ–‡ä»¶å¤§å°</span>
<span class="c-keyword">long</span> <span class="c-function">get_file_size</span>(<span class="c-keyword">const</span> <span class="c-keyword">char</span>* filename) {
    FILE* fp = <span class="c-function">fopen</span>(filename, <span class="c-string">"rb"</span>);
    <span class="c-keyword">if</span> (!fp) <span class="c-keyword">return</span> -<span class="c-number">1</span>;
    
    <span class="c-keyword">if</span> (<span class="c-function">fseek</span>(fp, <span class="c-number">0</span>, SEEK_END) != <span class="c-number">0</span>) {
        <span class="c-function">fclose</span>(fp);
        <span class="c-keyword">return</span> -<span class="c-number">1</span>;
    }
    
    <span class="c-keyword">long</span> size = <span class="c-function">ftell</span>(fp);
    <span class="c-function">fclose</span>(fp);
    <span class="c-keyword">return</span> size;
}

<span class="c-comment">// æ¼”ç¤ºæ–‡ä»¶çŠ¶æ€æ£€æŸ¥</span>
<span class="c-keyword">void</span> <span class="c-function">demo_file_status</span>() {
    <span class="c-keyword">const</span> <span class="c-keyword">char</span>* test_file = <span class="c-string">"test_status.txt"</span>;
    
    <span class="c-function">printf</span>(<span class="c-string">"=== æ–‡ä»¶çŠ¶æ€æ£€æŸ¥ ===\n"</span>);
    
    <span class="c-comment">// æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span>
    <span class="c-function">printf</span>(<span class="c-string">"æ–‡ä»¶ '%s' å­˜åœ¨: %s\n"</span>, test_file, 
           file_exists(test_file) ? <span class="c-string">"æ˜¯"</span> : <span class="c-string">"å¦"</span>);
    
    <span class="c-comment">// åˆ›å»ºæµ‹è¯•æ–‡ä»¶</span>
    FILE* fp = safe_fopen(test_file, <span class="c-string">"w"</span>);
    <span class="c-keyword">if</span> (fp) {
        <span class="c-function">fprintf</span>(fp, <span class="c-string">"è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•æ–‡ä»¶\n"</span>);
        <span class="c-function">fprintf</span>(fp, <span class="c-string">"åŒ…å«ä¸¤è¡Œå†…å®¹\n"</span>);
        <span class="c-function">fclose</span>(fp);
        
        <span class="c-comment">// å†æ¬¡æ£€æŸ¥æ–‡ä»¶çŠ¶æ€</span>
        <span class="c-function">printf</span>(<span class="c-string">"åˆ›å»ºæ–‡ä»¶åï¼Œæ–‡ä»¶å­˜åœ¨: %s\n"</span>, 
               file_exists(test_file) ? <span class="c-string">"æ˜¯"</span> : <span class="c-string">"å¦"</span>);
        
        <span class="c-keyword">long</span> size = get_file_size(test_file);
        <span class="c-function">printf</span>(<span class="c-string">"æ–‡ä»¶å¤§å°: %ld å­—èŠ‚\n"</span>, size);
        
        <span class="c-comment">// æ¸…ç†æµ‹è¯•æ–‡ä»¶</span>
        <span class="c-keyword">if</span> (<span class="c-function">remove</span>(test_file) == <span class="c-number">0</span>) {
            <span class="c-function">printf</span>(<span class="c-string">"æµ‹è¯•æ–‡ä»¶å·²åˆ é™¤\n"</span>);
        }
    }
}

<span class="c-comment">// æ¼”ç¤ºæ–‡ä»¶æŒ‡é’ˆæ“ä½œ</span>
<span class="c-keyword">void</span> <span class="c-function">demo_file_pointer</span>() {
    <span class="c-keyword">const</span> <span class="c-keyword">char</span>* test_file = <span class="c-string">"pointer_demo.txt"</span>;
    
    <span class="c-function">printf</span>(<span class="c-string">"\n=== æ–‡ä»¶æŒ‡é’ˆæ“ä½œ ===\n"</span>);
    
    <span class="c-comment">// åˆ›å»ºæµ‹è¯•æ–‡ä»¶</span>
    FILE* fp = safe_fopen(test_file, <span class="c-string">"w+"</span>);
    <span class="c-keyword">if</span> (!fp) <span class="c-keyword">return</span>;
    
    <span class="c-comment">// å†™å…¥æ•°æ®</span>
    <span class="c-keyword">const</span> <span class="c-keyword">char</span>* data = <span class="c-string">"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"</span>;
    <span class="c-function">fwrite</span>(data, <span class="c-keyword">sizeof</span>(<span class="c-keyword">char</span>), <span class="c-function">strlen</span>(data), fp);
    
    <span class="c-comment">// æ˜¾ç¤ºå½“å‰ä½ç½®</span>
    <span class="c-function">printf</span>(<span class="c-string">"å†™å…¥åä½ç½®: %ld\n"</span>, <span class="c-function">ftell</span>(fp));
    
    <span class="c-comment">// ç§»åŠ¨åˆ°ç¬¬10ä¸ªå­—ç¬¦ä½ç½®</span>
    <span class="c-function">fseek</span>(fp, <span class="c-number">10</span>, SEEK_SET);
    <span class="c-function">printf</span>(<span class="c-string">"ç§»åŠ¨åˆ°ä½ç½®10å: %ld\n"</span>, <span class="c-function">ftell</span>(fp));
    
    <span class="c-comment">// ä»å½“å‰ä½ç½®è¯»å–5ä¸ªå­—ç¬¦</span>
    <span class="c-keyword">char</span> buffer[<span class="c-number">6</span>] = {<span class="c-number">0</span>};
    <span class="c-keyword">size_t</span> read = <span class="c-function">fread</span>(buffer, <span class="c-keyword">sizeof</span>(<span class="c-keyword">char</span>), <span class="c-number">5</span>, fp);
    <span class="c-function">printf</span>(<span class="c-string">"è¯»å–äº† %u ä¸ªå­—ç¬¦: '%s'\n"</span>, read, buffer);
    
    <span class="c-comment">// ç§»åŠ¨åˆ°æ–‡ä»¶æœ«å°¾</span>
    <span class="c-function">fseek</span>(fp, <span class="c-number">0</span>, SEEK_END);
    <span class="c-function">printf</span>(<span class="c-string">"ç§»åŠ¨åˆ°æ–‡ä»¶æœ«å°¾: %ld\n"</span>, <span class="c-function">ftell</span>(fp));
    
    <span class="c-comment">// ä»æœ«å°¾å‘å‰ç§»åŠ¨5ä¸ªå­—ç¬¦</span>
    <span class="c-function">fseek</span>(fp, -<span class="c-number">5</span>, SEEK_END);
    read = <span class="c-function">fread</span>(buffer, <span class="c-keyword">sizeof</span>(<span class="c-keyword">char</span>), <span class="c-number">5</span>, fp);
    buffer[read] = <span class="c-string">'\0'</span>;
    <span class="c-function">printf</span>(<span class="c-string">"ä»æœ«å°¾è¯»å–5ä¸ªå­—ç¬¦: '%s'\n"</span>, buffer);
    
    <span class="c-function">fclose</span>(fp);
    <span class="c-function">remove</span>(test_file);
}

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    demo_file_status();
    demo_file_pointer();
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                    </div>
                </div>
            </section>            <!-- æ–‡ä»¶è¯»å†™ -->
            <section id="file-io" class="section">
                <h2 class="section-title">æ–‡ä»¶è¯»å†™</h2>
                
                <div class="subsection-content">
                    <h3>æ–‡ä»¶è¯»å†™åŸºæœ¬æ¦‚å¿µ</h3>
                    <p>æ–‡ä»¶è¯»å†™æ˜¯ç¨‹åºä¸å¤–éƒ¨å­˜å‚¨äº¤äº’çš„ä¸»è¦æ–¹å¼ã€‚Cè¯­è¨€æä¾›äº†ä¸€ç³»åˆ—å‡½æ•°æ¥å®ç°çµæ´»çš„æ–‡ä»¶æ“ä½œã€‚</p>
                    
                    <div class="tip-box">
                        <p><strong>æ–‡ä»¶è¯»å†™çš„åˆ†ç±»</strong></p>
                        <ul>
                            <li><strong>æ ¼å¼åŒ–I/O</strong>ï¼šfprintf, fscanf - æŒ‰ç…§æ ¼å¼å­—ç¬¦ä¸²è¯»å†™ï¼Œç±»ä¼¼printf/scanf</li>
                            <li><strong>å­—ç¬¦I/O</strong>ï¼šfgetc, fputc - é€å­—ç¬¦è¯»å†™ï¼Œé€‚åˆå°æ•°æ®</li>
                            <li><strong>å­—ç¬¦ä¸²I/O</strong>ï¼šfgets, fputs - é€è¡Œè¯»å†™ï¼Œå¸¸ç”¨äºæ–‡æœ¬æ–‡ä»¶</li>
                            <li><strong>å—I/O</strong>ï¼šfread, fwrite - æ‰¹é‡è¯»å†™ï¼Œé€‚åˆäºŒè¿›åˆ¶æ–‡ä»¶</li>
                        </ul>
                    </div>
                </div>
                
                <div class="subsection">
                    <h3 class="subsection-title">æ–‡æœ¬æ–‡ä»¶è¯»å†™æ“ä½œ</h3>
                    <div class="code-block">
                    <div class="code-block-title">æ–‡æœ¬æ–‡ä»¶è¯»å†™ç»¼åˆç¤ºä¾‹</div>
                    <pre><code><span class="c-comment">// æ–‡æœ¬æ–‡ä»¶çš„å¤šç§è¯»å†™æ–¹æ³•</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    FILE *fp;
    <span class="c-keyword">int</span> num;
    <span class="c-keyword">double</span> pi;
    <span class="c-keyword">char</span> str[<span class="c-number">20</span>];
    <span class="c-keyword">char</span> line[<span class="c-number">100</span>];
    
    <span class="c-comment">// 1. ä½¿ç”¨fprintfå†™å…¥æ ¼å¼åŒ–æ•°æ®</span>
    <span class="c-function">printf</span>(<span class="c-string">"=== æ ¼å¼åŒ–å†™å…¥ ===\n"</span>);
    fp = <span class="c-function">fopen</span>(<span class="c-string">"data.txt"</span>, <span class="c-string">"w"</span>);
    <span class="c-keyword">if</span> (fp != NULL) {
        <span class="c-function">fprintf</span>(fp, <span class="c-string">"%d %f %s\n"</span>, <span class="c-number">42</span>, <span class="c-number">3.14</span>, <span class="c-string">"Hello"</span>);
        <span class="c-function">fprintf</span>(fp, <span class="c-string">"å­¦ç”Ÿå§“å: %s\n"</span>, <span class="c-string">"å¼ ä¸‰"</span>);
        <span class="c-function">fprintf</span>(fp, <span class="c-string">"æˆç»©: %d\n"</span>, <span class="c-number">95</span>);
        <span class="c-function">fclose</span>(fp);
        <span class="c-function">printf</span>(<span class="c-string">"æ•°æ®å·²å†™å…¥æ–‡ä»¶\n"</span>);
    }
    
    <span class="c-comment">// 2. ä½¿ç”¨fscanfè¯»å–æ ¼å¼åŒ–æ•°æ®</span>
    <span class="c-function">printf</span>(<span class="c-string">"\n=== æ ¼å¼åŒ–è¯»å– ===\n"</span>);
    fp = <span class="c-function">fopen</span>(<span class="c-string">"data.txt"</span>, <span class="c-string">"r"</span>);
    <span class="c-keyword">if</span> (fp != NULL) {
        <span class="c-comment">// è¯»å–ç¬¬ä¸€è¡Œçš„ä¸‰ä¸ªæ•°æ®</span>
        <span class="c-keyword">if</span> (<span class="c-function">fscanf</span>(fp, <span class="c-string">"%d %lf %s"</span>, &amp;num, &amp;pi, str) == <span class="c-number">3</span>) {
            <span class="c-function">printf</span>(<span class="c-string">"è¯»å–çš„æ•°æ®: %d, %.2f, %s\n"</span>, num, pi, str);
        }
        <span class="c-function">fclose</span>(fp);
    }
    
    <span class="c-comment">// 3. ä½¿ç”¨fgetsé€è¡Œè¯»å–</span>
    <span class="c-function">printf</span>(<span class="c-string">"\n=== é€è¡Œè¯»å– ===\n"</span>);
    fp = <span class="c-function">fopen</span>(<span class="c-string">"data.txt"</span>, <span class="c-string">"r"</span>);
    <span class="c-keyword">if</span> (fp != NULL) {
        <span class="c-function">printf</span>(<span class="c-string">"æ–‡ä»¶å…¨éƒ¨å†…å®¹:\n"</span>);
        <span class="c-keyword">while</span> (<span class="c-function">fgets</span>(line, <span class="c-keyword">sizeof</span>(line), fp) != NULL) {
            <span class="c-function">printf</span>(<span class="c-string">"%s"</span>, line);  <span class="c-comment">// fgetsä¿ç•™äº†æ¢è¡Œç¬¦</span>
        }
        <span class="c-function">fclose</span>(fp);
    }
    
    <span class="c-comment">// 4. ä½¿ç”¨fputsé€è¡Œå†™å…¥</span>
    <span class="c-function">printf</span>(<span class="c-string">"\n=== ä½¿ç”¨fputså†™å…¥ ===\n"</span>);
    fp = <span class="c-function">fopen</span>(<span class="c-string">"lines.txt"</span>, <span class="c-string">"w"</span>);
    <span class="c-keyword">if</span> (fp != NULL) {
        <span class="c-function">fputs</span>(<span class="c-string">"ç¬¬ä¸€è¡Œå†…å®¹\n"</span>, fp);
        <span class="c-function">fputs</span>(<span class="c-string">"ç¬¬äºŒè¡Œå†…å®¹\n"</span>, fp);
        <span class="c-function">fputs</span>(<span class="c-string">"ç¬¬ä¸‰è¡Œå†…å®¹\n"</span>, fp);
        <span class="c-function">fclose</span>(fp);
        <span class="c-function">printf</span>(<span class="c-string">"è¡Œæ•°æ®å†™å…¥å®Œæˆ\n"</span>);
    }
    
    <span class="c-comment">// 5. ä½¿ç”¨fgetcå’Œfputcé€å­—ç¬¦æ“ä½œ</span>
    <span class="c-function">printf</span>(<span class="c-string">"\n=== å­—ç¬¦çº§æ“ä½œ ===\n"</span>);
    fp = <span class="c-function">fopen</span>(<span class="c-string">"lines.txt"</span>, <span class="c-string">"r"</span>);
    <span class="c-keyword">if</span> (fp != NULL) {
        <span class="c-keyword">int</span> ch;
        <span class="c-keyword">int</span> char_count = <span class="c-number">0</span>;
        <span class="c-function">printf</span>(<span class="c-string">"é€å­—ç¬¦è¯»å–: "</span>);
        <span class="c-keyword">while</span> ((ch = <span class="c-function">fgetc</span>(fp)) != EOF) {
            <span class="c-function">putchar</span>(ch);
            char_count++;
        }
        <span class="c-function">printf</span>(<span class="c-string">"\næ€»å…±è¯»å– %d ä¸ªå­—ç¬¦\n"</span>, char_count);
        <span class="c-function">fclose</span>(fp);
    }
    
    <span class="c-comment">// æ¸…ç†æµ‹è¯•æ–‡ä»¶</span>
    <span class="c-function">remove</span>(<span class="c-string">"data.txt"</span>);
    <span class="c-function">remove</span>(<span class="c-string">"lines.txt"</span>);
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                </div>
                
                <div class="tip-box">
                    <p><strong>ğŸ’¡ è¯»å†™å‡½æ•°çš„é€‰æ‹©å»ºè®®</strong></p>
                    <ul>
                        <li><strong>fprintf/fscanf</strong>ï¼šå¤„ç†ç»“æ„åŒ–æ•°æ®ï¼ˆå¦‚CSVæ ¼å¼ï¼‰ï¼Œéœ€è¦æ ¼å¼è½¬æ¢</li>
                        <li><strong>fgets/fputs</strong>ï¼šå¤„ç†æ–‡æœ¬æ–‡ä»¶ï¼ŒæŒ‰è¡Œæ“ä½œï¼Œæœ€å¸¸ç”¨</li>
                        <li><strong>fgetc/fputc</strong>ï¼šéœ€è¦é€å­—ç¬¦å¤„ç†æ—¶ä½¿ç”¨ï¼ˆå¦‚åŠ å¯†ã€ç»Ÿè®¡å­—ç¬¦ç­‰ï¼‰</li>
                        <li><strong>fread/fwrite</strong>ï¼šäºŒè¿›åˆ¶æ–‡ä»¶æˆ–éœ€è¦é«˜æ€§èƒ½æ—¶ä½¿ç”¨</li>
                    </ul>
                </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">äºŒè¿›åˆ¶æ–‡ä»¶è¯»å†™</h3>
                    
                    <div class="subsection-content">
                        <p>äºŒè¿›åˆ¶æ–‡ä»¶ä»¥å­—èŠ‚å½¢å¼å­˜å‚¨æ•°æ®ï¼Œä¸è¿›è¡Œæ ¼å¼è½¬æ¢ï¼Œé€‚åˆå­˜å‚¨ç»“æ„ä½“ã€æ•°ç»„ç­‰å¤æ‚æ•°æ®ã€‚</p>
                        
                        <div class="warning-box">
                            <strong>âš ï¸ äºŒè¿›åˆ¶æ–‡ä»¶æ³¨æ„äº‹é¡¹ï¼š</strong>
                            <ul>
                                <li>å¿…é¡»ä½¿ç”¨ "b" æ¨¡å¼æ‰“å¼€ï¼ˆrb, wb, abç­‰ï¼‰</li>
                                <li>ä½¿ç”¨ fread/fwrite è¿›è¡Œè¯»å†™æ“ä½œ</li>
                                <li>äºŒè¿›åˆ¶æ–‡ä»¶ä¸èƒ½ç”¨æ–‡æœ¬ç¼–è¾‘å™¨ç›´æ¥æŸ¥çœ‹</li>
                                <li>è·¨å¹³å°æ—¶è¦æ³¨æ„å­—èŠ‚åºå’Œæ•°æ®å¯¹é½é—®é¢˜</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="code-block">
                        <div class="code-block-title">äºŒè¿›åˆ¶æ–‡ä»¶æ“ä½œç¤ºä¾‹</div>
                        <pre><code><span class="c-comment">// äºŒè¿›åˆ¶æ–‡ä»¶è¯»å†™ - ç»“æ„ä½“å­˜å‚¨</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;string.h&gt;</span>

<span class="c-comment">// å­¦ç”Ÿç»“æ„ä½“</span>
<span class="c-keyword">typedef</span> <span class="c-keyword">struct</span> {
    <span class="c-keyword">int</span> id;
    <span class="c-keyword">char</span> name[<span class="c-number">50</span>];
    <span class="c-keyword">float</span> score;
} Student;

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    FILE *fp;
    Student students[<span class="c-number">3</span>];
    Student read_students[<span class="c-number">3</span>];
    <span class="c-keyword">int</span> i;
    <span class="c-keyword">size_t</span> count;
    
    <span class="c-comment">// å‡†å¤‡æµ‹è¯•æ•°æ®</span>
    students[<span class="c-number">0</span>].id = <span class="c-number">1001</span>; <span class="c-function">strcpy</span>(students[<span class="c-number">0</span>].name, <span class="c-string">"å¼ ä¸‰"</span>); students[<span class="c-number">0</span>].score = <span class="c-number">85.5</span>;
    students[<span class="c-number">1</span>].id = <span class="c-number">1002</span>; <span class="c-function">strcpy</span>(students[<span class="c-number">1</span>].name, <span class="c-string">"æå››"</span>); students[<span class="c-number">1</span>].score = <span class="c-number">92.0</span>;
    students[<span class="c-number">2</span>].id = <span class="c-number">1003</span>; <span class="c-function">strcpy</span>(students[<span class="c-number">2</span>].name, <span class="c-string">"ç‹äº”"</span>); students[<span class="c-number">2</span>].score = <span class="c-number">78.0</span>;
    
    <span class="c-comment">// 1. å†™å…¥äºŒè¿›åˆ¶æ–‡ä»¶</span>
    <span class="c-function">printf</span>(<span class="c-string">"=== å†™å…¥äºŒè¿›åˆ¶æ–‡ä»¶ ===\n"</span>);
    fp = <span class="c-function">fopen</span>(<span class="c-string">"students.dat"</span>, <span class="c-string">"wb"</span>);
    <span class="c-keyword">if</span> (fp == NULL) {
        <span class="c-function">printf</span>(<span class="c-string">"æ–‡ä»¶æ‰“å¼€å¤±è´¥\n"</span>);
        <span class="c-keyword">return</span> <span class="c-number">1</span>;
    }
    
    <span class="c-comment">// fwrite(æ•°æ®åœ°å€, æ¯ä¸ªå…ƒç´ å¤§å°, å…ƒç´ ä¸ªæ•°, æ–‡ä»¶æŒ‡é’ˆ)</span>
    count = <span class="c-function">fwrite</span>(students, <span class="c-keyword">sizeof</span>(Student), <span class="c-number">3</span>, fp);
    <span class="c-function">printf</span>(<span class="c-string">"æˆåŠŸå†™å…¥ %u ä¸ªå­¦ç”Ÿè®°å½•\n"</span>, count);
    <span class="c-function">fclose</span>(fp);
    
    <span class="c-comment">// 2. ä»äºŒè¿›åˆ¶æ–‡ä»¶è¯»å–</span>
    <span class="c-function">printf</span>(<span class="c-string">"\n=== è¯»å–äºŒè¿›åˆ¶æ–‡ä»¶ ===\n"</span>);
    fp = <span class="c-function">fopen</span>(<span class="c-string">"students.dat"</span>, <span class="c-string">"rb"</span>);
    <span class="c-keyword">if</span> (fp == NULL) {
        <span class="c-function">printf</span>(<span class="c-string">"æ–‡ä»¶æ‰“å¼€å¤±è´¥\n"</span>);
        <span class="c-keyword">return</span> <span class="c-number">1</span>;
    }
    
    <span class="c-comment">// fread(æ•°æ®åœ°å€, æ¯ä¸ªå…ƒç´ å¤§å°, å…ƒç´ ä¸ªæ•°, æ–‡ä»¶æŒ‡é’ˆ)</span>
    count = <span class="c-function">fread</span>(read_students, <span class="c-keyword">sizeof</span>(Student), <span class="c-number">3</span>, fp);
    <span class="c-function">printf</span>(<span class="c-string">"æˆåŠŸè¯»å– %u ä¸ªå­¦ç”Ÿè®°å½•\n"</span>, count);
    
    <span class="c-comment">// æ˜¾ç¤ºè¯»å–çš„æ•°æ®</span>
    <span class="c-function">printf</span>(<span class="c-string">"\nå­¦å·\tå§“å\tæˆç»©\n"</span>);
    <span class="c-function">printf</span>(<span class="c-string">"-----------------------------\n"</span>);
    <span class="c-keyword">for</span> (i = <span class="c-number">0</span>; i &lt; <span class="c-number">3</span>; i++) {
        <span class="c-function">printf</span>(<span class="c-string">"%d\t%s\t%.1f\n"</span>, 
               read_students[i].id, 
               read_students[i].name, 
               read_students[i].score);
    }
    
    <span class="c-function">fclose</span>(fp);
    
    <span class="c-comment">// 3. è¿½åŠ æ–°æ•°æ®</span>
    <span class="c-function">printf</span>(<span class="c-string">"\n=== è¿½åŠ æ–°è®°å½• ===\n"</span>);
    fp = <span class="c-function">fopen</span>(<span class="c-string">"students.dat"</span>, <span class="c-string">"ab"</span>);
    <span class="c-keyword">if</span> (fp != NULL) {
        Student new_student;
        new_student.id = <span class="c-number">1004</span>;
        <span class="c-function">strcpy</span>(new_student.name, <span class="c-string">"èµµå…­"</span>);
        new_student.score = <span class="c-number">88.5</span>;
        
        <span class="c-function">fwrite</span>(&amp;new_student, <span class="c-keyword">sizeof</span>(Student), <span class="c-number">1</span>, fp);
        <span class="c-function">printf</span>(<span class="c-string">"æ–°è®°å½•è¿½åŠ æˆåŠŸ\n"</span>);
        <span class="c-function">fclose</span>(fp);
    }
    
    <span class="c-comment">// 4. éªŒè¯è¿½åŠ ç»“æœ</span>
    <span class="c-function">printf</span>(<span class="c-string">"\n=== éªŒè¯è¿½åŠ ç»“æœ ===\n"</span>);
    fp = <span class="c-function">fopen</span>(<span class="c-string">"students.dat"</span>, <span class="c-string">"rb"</span>);
    <span class="c-keyword">if</span> (fp != NULL) {
        Student temp;
        <span class="c-keyword">int</span> record_count = <span class="c-number">0</span>;
        
        <span class="c-keyword">while</span> (<span class="c-function">fread</span>(&amp;temp, <span class="c-keyword">sizeof</span>(Student), <span class="c-number">1</span>, fp) == <span class="c-number">1</span>) {
            record_count++;
        }
        
        <span class="c-function">printf</span>(<span class="c-string">"æ–‡ä»¶ä¸­å…±æœ‰ %d æ¡è®°å½•\n"</span>, record_count);
        <span class="c-function">fclose</span>(fp);
    }
    
    <span class="c-comment">// æ¸…ç†æµ‹è¯•æ–‡ä»¶</span>
    <span class="c-function">remove</span>(<span class="c-string">"students.dat"</span>);
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                    </div>
                    
                    <div class="tip-box">
                        <p><strong>ğŸ’¡ æ–‡æœ¬æ–‡ä»¶ vs äºŒè¿›åˆ¶æ–‡ä»¶å¯¹æ¯”</strong></p>
                        <table>
                            <thead>
                                <tr>
                                    <th>ç‰¹æ€§</th>
                                    <th>æ–‡æœ¬æ–‡ä»¶</th>
                                    <th>äºŒè¿›åˆ¶æ–‡ä»¶</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>å­˜å‚¨æ–¹å¼</td>
                                    <td>ASCII/UTF-8å­—ç¬¦</td>
                                    <td>åŸå§‹å­—èŠ‚æ•°æ®</td>
                                </tr>
                                <tr>
                                    <td>å¯è¯»æ€§</td>
                                    <td>äººç±»å¯è¯»</td>
                                    <td>ä»…æœºå™¨å¯è¯»</td>
                                </tr>
                                <tr>
                                    <td>æ–‡ä»¶å¤§å°</td>
                                    <td>è¾ƒå¤§ï¼ˆéœ€è¦æ ¼å¼è½¬æ¢ï¼‰</td>
                                    <td>è¾ƒå°ï¼ˆç›´æ¥å­˜å‚¨ï¼‰</td>
                                </tr>
                                <tr>
                                    <td>è¯»å†™é€Ÿåº¦</td>
                                    <td>è¾ƒæ…¢ï¼ˆæ ¼å¼è½¬æ¢å¼€é”€ï¼‰</td>
                                    <td>è¾ƒå¿«ï¼ˆæ— è½¬æ¢ï¼‰</td>
                                </tr>
                                <tr>
                                    <td>è·¨å¹³å°</td>
                                    <td>è¾ƒå¥½</td>
                                    <td>éœ€æ³¨æ„å­—èŠ‚åº</td>
                                </tr>
                                <tr>
                                    <td>é€‚ç”¨åœºæ™¯</td>
                                    <td>é…ç½®æ–‡ä»¶ã€æ—¥å¿—</td>
                                    <td>å›¾ç‰‡ã€éŸ³è§†é¢‘ã€æ•°æ®åº“</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">å®é™…åº”ç”¨ï¼šå­¦ç”Ÿæˆç»©ç®¡ç†ç³»ç»Ÿ</h3>
                    <div class="code-block">
                        <div class="code-block-title">å®Œæ•´çš„æ–‡ä»¶æ“ä½œåº”ç”¨</div>
                        <pre><code><span class="c-comment">// ç®€å•çš„å­¦ç”Ÿæˆç»©ç®¡ç†ç³»ç»Ÿ</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;string.h&gt;</span>

<span class="c-keyword">#define</span> MAX_STUDENTS <span class="c-number">100</span>
<span class="c-keyword">#define</span> FILENAME <span class="c-string">"grades.dat"</span>

<span class="c-keyword">typedef</span> <span class="c-keyword">struct</span> {
    <span class="c-keyword">int</span> id;
    <span class="c-keyword">char</span> name[<span class="c-number">50</span>];
    <span class="c-keyword">float</span> score;
} Student;

<span class="c-comment">// ä¿å­˜æ‰€æœ‰å­¦ç”Ÿåˆ°æ–‡ä»¶</span>
<span class="c-keyword">int</span> <span class="c-function">save_students</span>(Student students[], <span class="c-keyword">int</span> count) {
    FILE *fp = <span class="c-function">fopen</span>(FILENAME, <span class="c-string">"wb"</span>);
    <span class="c-keyword">if</span> (!fp) {
        <span class="c-function">printf</span>(<span class="c-string">"é”™è¯¯: æ— æ³•åˆ›å»ºæ–‡ä»¶\n"</span>);
        <span class="c-keyword">return</span> <span class="c-number">0</span>;
    }
    
    <span class="c-keyword">size_t</span> written = <span class="c-function">fwrite</span>(students, <span class="c-keyword">sizeof</span>(Student), count, fp);
    <span class="c-function">fclose</span>(fp);
    
    <span class="c-keyword">return</span> written == count;
}

<span class="c-comment">// ä»æ–‡ä»¶åŠ è½½æ‰€æœ‰å­¦ç”Ÿ</span>
<span class="c-keyword">int</span> <span class="c-function">load_students</span>(Student students[]) {
    FILE *fp = <span class="c-function">fopen</span>(FILENAME, <span class="c-string">"rb"</span>);
    <span class="c-keyword">if</span> (!fp) {
        <span class="c-keyword">return</span> <span class="c-number">0</span>;  <span class="c-comment">// æ–‡ä»¶ä¸å­˜åœ¨</span>
    }
    
    <span class="c-keyword">int</span> count = <span class="c-number">0</span>;
    <span class="c-keyword">while</span> (<span class="c-function">fread</span>(&amp;students[count], <span class="c-keyword">sizeof</span>(Student), <span class="c-number">1</span>, fp) == <span class="c-number">1</span>) {
        count++;
        <span class="c-keyword">if</span> (count &gt;= MAX_STUDENTS) <span class="c-keyword">break</span>;
    }
    
    <span class="c-function">fclose</span>(fp);
    <span class="c-keyword">return</span> count;
}

<span class="c-comment">// æ·»åŠ æ–°å­¦ç”Ÿ</span>
<span class="c-keyword">void</span> <span class="c-function">add_student</span>(Student students[], <span class="c-keyword">int</span> *count) {
    <span class="c-keyword">if</span> (*count &gt;= MAX_STUDENTS) {
        <span class="c-function">printf</span>(<span class="c-string">"é”™è¯¯: å·²è¾¾åˆ°æœ€å¤§å­¦ç”Ÿæ•°\n"</span>);
        <span class="c-keyword">return</span>;
    }
    
    Student new_student;
    <span class="c-function">printf</span>(<span class="c-string">"\nè¾“å…¥å­¦å·: "</span>);
    <span class="c-function">scanf</span>(<span class="c-string">"%d"</span>, &amp;new_student.id);
    <span class="c-function">printf</span>(<span class="c-string">"è¾“å…¥å§“å: "</span>);
    <span class="c-function">scanf</span>(<span class="c-string">"%s"</span>, new_student.name);
    <span class="c-function">printf</span>(<span class="c-string">"è¾“å…¥æˆç»©: "</span>);
    <span class="c-function">scanf</span>(<span class="c-string">"%f"</span>, &amp;new_student.score);
    
    students[*count] = new_student;
    (*count)++;
    
    <span class="c-function">printf</span>(<span class="c-string">"å­¦ç”Ÿæ·»åŠ æˆåŠŸ!\n"</span>);
}

<span class="c-comment">// æ˜¾ç¤ºæ‰€æœ‰å­¦ç”Ÿ</span>
<span class="c-keyword">void</span> <span class="c-function">display_students</span>(Student students[], <span class="c-keyword">int</span> count) {
    <span class="c-keyword">int</span> i;
    
    <span class="c-keyword">if</span> (count == <span class="c-number">0</span>) {
        <span class="c-function">printf</span>(<span class="c-string">"\næš‚æ— å­¦ç”Ÿè®°å½•\n"</span>);
        <span class="c-keyword">return</span>;
    }
    
    <span class="c-function">printf</span>(<span class="c-string">"\nå­¦å·\tå§“å\t\tæˆç»©\n"</span>);
    <span class="c-function">printf</span>(<span class="c-string">"=====================================\n"</span>);
    <span class="c-keyword">for</span> (i = <span class="c-number">0</span>; i &lt; count; i++) {
        <span class="c-function">printf</span>(<span class="c-string">"%d\t%-10s\t%.1f\n"</span>, 
               students[i].id, 
               students[i].name, 
               students[i].score);
    }
}

<span class="c-comment">// è®¡ç®—å¹³å‡åˆ†</span>
<span class="c-keyword">float</span> <span class="c-function">calculate_average</span>(Student students[], <span class="c-keyword">int</span> count) {
    <span class="c-keyword">float</span> sum = <span class="c-number">0.0</span>;
    <span class="c-keyword">int</span> i;
    
    <span class="c-keyword">if</span> (count == <span class="c-number">0</span>) <span class="c-keyword">return</span> <span class="c-number">0.0</span>;
    
    <span class="c-keyword">for</span> (i = <span class="c-number">0</span>; i &lt; count; i++) {
        sum += students[i].score;
    }
    
    <span class="c-keyword">return</span> sum / count;
}

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    Student students[MAX_STUDENTS];
    <span class="c-keyword">int</span> count = <span class="c-number">0</span>;
    <span class="c-keyword">int</span> choice;
    
    <span class="c-comment">// å¯åŠ¨æ—¶åŠ è½½æ•°æ®</span>
    count = load_students(students);
    <span class="c-function">printf</span>(<span class="c-string">"å·²åŠ è½½ %d æ¡å­¦ç”Ÿè®°å½•\n"</span>, count);
    
    <span class="c-keyword">while</span> (<span class="c-number">1</span>) {
        <span class="c-function">printf</span>(<span class="c-string">"\n=== å­¦ç”Ÿæˆç»©ç®¡ç†ç³»ç»Ÿ ===\n"</span>);
        <span class="c-function">printf</span>(<span class="c-string">"1. æ·»åŠ å­¦ç”Ÿ\n"</span>);
        <span class="c-function">printf</span>(<span class="c-string">"2. æ˜¾ç¤ºæ‰€æœ‰å­¦ç”Ÿ\n"</span>);
        <span class="c-function">printf</span>(<span class="c-string">"3. æ˜¾ç¤ºå¹³å‡åˆ†\n"</span>);
        <span class="c-function">printf</span>(<span class="c-string">"4. ä¿å­˜å¹¶é€€å‡º\n"</span>);
        <span class="c-function">printf</span>(<span class="c-string">"è¯·é€‰æ‹©: "</span>);
        
        <span class="c-function">scanf</span>(<span class="c-string">"%d"</span>, &amp;choice);
        
        <span class="c-keyword">switch</span> (choice) {
            <span class="c-keyword">case</span> <span class="c-number">1</span>:
                add_student(students, &amp;count);
                <span class="c-keyword">break</span>;
            <span class="c-keyword">case</span> <span class="c-number">2</span>:
                display_students(students, count);
                <span class="c-keyword">break</span>;
            <span class="c-keyword">case</span> <span class="c-number">3</span>:
                <span class="c-function">printf</span>(<span class="c-string">"\nå¹³å‡åˆ†: %.2f\n"</span>, calculate_average(students, count));
                <span class="c-keyword">break</span>;
            <span class="c-keyword">case</span> <span class="c-number">4</span>:
                <span class="c-keyword">if</span> (save_students(students, count)) {
                    <span class="c-function">printf</span>(<span class="c-string">"æ•°æ®å·²ä¿å­˜\n"</span>);
                } <span class="c-keyword">else</span> {
                    <span class="c-function">printf</span>(<span class="c-string">"ä¿å­˜å¤±è´¥\n"</span>);
                }
                <span class="c-function">printf</span>(<span class="c-string">"å†è§!\n"</span>);
                <span class="c-keyword">return</span> <span class="c-number">0</span>;
            <span class="c-keyword">default</span>:
                <span class="c-function">printf</span>(<span class="c-string">"æ— æ•ˆé€‰æ‹©\n"</span>);
        }
    }
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                    </div>
                    
                    <div class="new-learner-tip">
                        <strong>ğŸ’¡ è¿™ä¸ªç¨‹åºå±•ç¤ºäº†å®Œæ•´çš„æ–‡ä»¶æ“ä½œæµç¨‹ï¼š</strong>
                        <ul>
                            <li><strong>å¯åŠ¨åŠ è½½</strong>ï¼šç¨‹åºå¯åŠ¨æ—¶ä»æ–‡ä»¶è¯»å–ä¹‹å‰ä¿å­˜çš„æ•°æ®</li>
                            <li><strong>å†…å­˜æ“ä½œ</strong>ï¼šåœ¨å†…å­˜ä¸­çš„æ•°ç»„ä¸Šè¿›è¡Œå¢åˆ æ”¹æŸ¥</li>
                            <li><strong>ä¿å­˜é€€å‡º</strong>ï¼šé€€å‡ºæ—¶å°†æ•°æ®å†™å›æ–‡ä»¶ï¼Œå®ç°æ•°æ®æŒä¹…åŒ–</li>
                            <li><strong>é”™è¯¯å¤„ç†</strong>ï¼šæ£€æŸ¥æ–‡ä»¶æ“ä½œæ˜¯å¦æˆåŠŸï¼Œæä¾›å‹å¥½æç¤º</li>
                        </ul>
                    </div>
                </div>

                <div class="practice-questions">
                    <h3 class="subsection-title">å°±åœ°ç»ƒä¹ ï¼šæ–‡ä»¶è¯»å†™åº”ç”¨</h3>
                    <div class="question-item">
                        <p><strong>ç»ƒä¹ 6ï¼š</strong> åˆ›å»ºä¸€ä¸ªç¨‹åºï¼Œä»æ–‡æœ¬æ–‡ä»¶è¯»å–å¤šè¡Œæ•°æ®ï¼ˆæ¯è¡ŒåŒ…å«å§“åå’Œåˆ†æ•°ï¼‰ï¼Œè®¡ç®—å¹³å‡åˆ†å¹¶å°†ç»“æœå†™å…¥å¦ä¸€ä¸ªæ–‡ä»¶ã€‚</p>
                        <details>
                            <summary>å‚è€ƒç­”æ¡ˆä¸ç¤ºä¾‹ä»£ç </summary>
                            <div class="code-block">
                                <div class="code-block-title">æˆç»©ç»Ÿè®¡ç¨‹åº</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    FILE *fp_in, *fp_out;
    <span class="c-keyword">char</span> name[<span class="c-number">50</span>];
    <span class="c-keyword">float</span> score, sum = <span class="c-number">0.0</span>;
    <span class="c-keyword">int</span> count = <span class="c-number">0</span>;
    
    <span class="c-comment">// åˆ›å»ºæµ‹è¯•æ•°æ®</span>
    fp_in = <span class="c-function">fopen</span>(<span class="c-string">"input.txt"</span>, <span class="c-string">"w"</span>);
    <span class="c-keyword">if</span> (fp_in) {
        <span class="c-function">fprintf</span>(fp_in, <span class="c-string">"å¼ ä¸‰ 85.5\n"</span>);
        <span class="c-function">fprintf</span>(fp_in, <span class="c-string">"æå›› 92.0\n"</span>);
        <span class="c-function">fprintf</span>(fp_in, <span class="c-string">"ç‹äº” 78.0\n"</span>);
        <span class="c-function">fclose</span>(fp_in);
    }
    
    <span class="c-comment">// è¯»å–å¹¶è®¡ç®—</span>
    fp_in = <span class="c-function">fopen</span>(<span class="c-string">"input.txt"</span>, <span class="c-string">"r"</span>);
    <span class="c-keyword">if</span> (!fp_in) {
        <span class="c-function">printf</span>(<span class="c-string">"æ— æ³•æ‰“å¼€è¾“å…¥æ–‡ä»¶\n"</span>);
        <span class="c-keyword">return</span> <span class="c-number">1</span>;
    }
    
    <span class="c-keyword">while</span> (<span class="c-function">fscanf</span>(fp_in, <span class="c-string">"%s %f"</span>, name, &amp;score) == <span class="c-number">2</span>) {
        sum += score;
        count++;
        <span class="c-function">printf</span>(<span class="c-string">"%s: %.1f\n"</span>, name, score);
    }
    <span class="c-function">fclose</span>(fp_in);
    
    <span class="c-comment">// å†™å…¥ç»“æœ</span>
    fp_out = <span class="c-function">fopen</span>(<span class="c-string">"output.txt"</span>, <span class="c-string">"w"</span>);
    <span class="c-keyword">if</span> (fp_out) {
        <span class="c-function">fprintf</span>(fp_out, <span class="c-string">"æ€»äººæ•°: %d\n"</span>, count);
        <span class="c-function">fprintf</span>(fp_out, <span class="c-string">"æ€»åˆ†: %.2f\n"</span>, sum);
        <span class="c-function">fprintf</span>(fp_out, <span class="c-string">"å¹³å‡åˆ†: %.2f\n"</span>, sum / count);
        <span class="c-function">fclose</span>(fp_out);
        <span class="c-function">printf</span>(<span class="c-string">"\nç»Ÿè®¡ç»“æœå·²å†™å…¥ output.txt\n"</span>);
        <span class="c-function">printf</span>(<span class="c-string">"å¹³å‡åˆ†: %.2f\n"</span>, sum / count);
    }
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </details>
                    </div>
                    
                    <div class="question-item">
                        <p><strong>ç»ƒä¹ 7ï¼š</strong> ç¼–å†™ç¨‹åºï¼Œä½¿ç”¨äºŒè¿›åˆ¶æ–‡ä»¶ä¿å­˜æ•´æ•°æ•°ç»„ï¼Œç„¶åè¯»å–å¹¶æ˜¾ç¤ºã€‚</p>
                        <details>
                            <summary>å‚è€ƒç­”æ¡ˆä¸ç¤ºä¾‹ä»£ç </summary>
                            <div class="code-block">
                                <div class="code-block-title">æ•°ç»„äºŒè¿›åˆ¶æ–‡ä»¶æ“ä½œ</div>
                                <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    FILE *fp;
    <span class="c-keyword">int</span> write_data[<span class="c-number">5</span>] = {<span class="c-number">10</span>, <span class="c-number">20</span>, <span class="c-number">30</span>, <span class="c-number">40</span>, <span class="c-number">50</span>};
    <span class="c-keyword">int</span> read_data[<span class="c-number">5</span>];
    <span class="c-keyword">int</span> i;
    <span class="c-keyword">size_t</span> count;
    
    <span class="c-comment">// å†™å…¥äºŒè¿›åˆ¶æ–‡ä»¶</span>
    fp = <span class="c-function">fopen</span>(<span class="c-string">"array.dat"</span>, <span class="c-string">"wb"</span>);
    <span class="c-keyword">if</span> (!fp) {
        <span class="c-function">printf</span>(<span class="c-string">"æ— æ³•åˆ›å»ºæ–‡ä»¶\n"</span>);
        <span class="c-keyword">return</span> <span class="c-number">1</span>;
    }
    
    count = <span class="c-function">fwrite</span>(write_data, <span class="c-keyword">sizeof</span>(<span class="c-keyword">int</span>), <span class="c-number">5</span>, fp);
    <span class="c-function">printf</span>(<span class="c-string">"å†™å…¥äº† %u ä¸ªæ•´æ•°\n"</span>, count);
    <span class="c-function">fclose</span>(fp);
    
    <span class="c-comment">// è¯»å–äºŒè¿›åˆ¶æ–‡ä»¶</span>
    fp = <span class="c-function">fopen</span>(<span class="c-string">"array.dat"</span>, <span class="c-string">"rb"</span>);
    <span class="c-keyword">if</span> (!fp) {
        <span class="c-function">printf</span>(<span class="c-string">"æ— æ³•æ‰“å¼€æ–‡ä»¶\n"</span>);
        <span class="c-keyword">return</span> <span class="c-number">1</span>;
    }
    
    count = <span class="c-function">fread</span>(read_data, <span class="c-keyword">sizeof</span>(<span class="c-keyword">int</span>), <span class="c-number">5</span>, fp);
    <span class="c-function">printf</span>(<span class="c-string">"è¯»å–äº† %u ä¸ªæ•´æ•°\n"</span>, count);
    <span class="c-function">fclose</span>(fp);
    
    <span class="c-comment">// æ˜¾ç¤ºæ•°æ®</span>
    <span class="c-function">printf</span>(<span class="c-string">"\nè¯»å–çš„æ•°ç»„: "</span>);
    <span class="c-keyword">for</span> (i = <span class="c-number">0</span>; i &lt; <span class="c-number">5</span>; i++) {
        <span class="c-function">printf</span>(<span class="c-string">"%d "</span>, read_data[i]);
    }
    <span class="c-function">printf</span>(<span class="c-string">"\n"</span>);
    
    <span class="c-function">remove</span>(<span class="c-string">"array.dat"</span>);
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                            </div>
                        </details>
                    </div>
                </div>
                                        <td>å­—èŠ‚å½¢å¼</td>
                                    </tr>
                                    <tr>
                                        <td>å¯è¯»æ€§</td>
                                        <td>äººç±»å¯è¯»</td>
                                        <td>æœºå™¨å¯è¯»</td>
                                    </tr>
                                    <tr>
                                        <td>è·¨å¹³å°</td>
                                        <td>è¾ƒå¥½</td>
                                        <td>å¯èƒ½æœ‰é—®é¢˜</td>
                                    </tr>
                                    <tr>
                                        <td>å­˜å‚¨æ•ˆç‡</td>
                                        <td>è¾ƒä½</td>
                                        <td>è¾ƒé«˜</td>
                                    </tr>
                                    <tr>
                                        <td>å…¸å‹ç”¨é€”</td>
                                        <td>é…ç½®æ–‡ä»¶ã€æ—¥å¿—</td>
                                        <td>å›¾ç‰‡ã€éŸ³é¢‘ã€æ•°æ®ç»“æ„</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="code-block">
                            <div class="code-block-title">æ–‡æœ¬æ–‡ä»¶å’ŒäºŒè¿›åˆ¶æ–‡ä»¶å¯¹æ¯”</div>
                            <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdlib.h&gt;</span>

<span class="c-comment">// å­¦ç”Ÿç»“æ„ä½“</span>
<span class="c-keyword">typedef</span> <span class="c-keyword">struct</span> {
    <span class="c-keyword">int</span> id;
    <span class="c-keyword">char</span> name[<span class="c-number">50</span>];
    <span class="c-keyword">float</span> score;
} Student;

<span class="c-comment">// æ–‡æœ¬æ–‡ä»¶æ–¹å¼ä¿å­˜å­¦ç”Ÿä¿¡æ¯</span>
<span class="c-keyword">void</span> <span class="c-function">save_students_text</span>(<span class="c-keyword">const</span> Student* students, <span class="c-keyword">int</span> count, <span class="c-keyword">const</span> <span class="c-keyword">char</span>* filename) {
    FILE* fp = <span class="c-function">fopen</span>(filename, <span class="c-string">"w"</span>);
    <span class="c-keyword">if</span> (!fp) <span class="c-keyword">return</span>;
    
    <span class="c-keyword">for</span> (i = <span class="c-number">0</span>; i &lt; count; i++) {
        <span class="c-function">fprintf</span>(fp, <span class="c-string">"%d %s %.2f\n"</span>, students[i].id, students[i].name, students[i].score);
    }
    <span class="c-function">fclose</span>(fp);
}

<span class="c-comment">// äºŒè¿›åˆ¶æ–‡ä»¶æ–¹å¼ä¿å­˜å­¦ç”Ÿä¿¡æ¯</span>
<span class="c-keyword">void</span> <span class="c-function">save_students_binary</span>(<span class="c-keyword">const</span> Student* students, <span class="c-keyword">int</span> count, <span class="c-keyword">const</span> <span class="c-keyword">char</span>* filename) {
    FILE* fp = <span class="c-function">fopen</span>(filename, <span class="c-string">"wb"</span>);
    <span class="c-keyword">if</span> (!fp) <span class="c-keyword">return</span>;
    
    <span class="c-function">fwrite</span>(students, <span class="c-keyword">sizeof</span>(Student), count, fp);
    <span class="c-function">fclose</span>(fp);
}

<span class="c-comment">// ä»æ–‡æœ¬æ–‡ä»¶åŠ è½½å­¦ç”Ÿä¿¡æ¯</span>
<span class="c-keyword">int</span> <span class="c-function">load_students_text</span>(Student* students, <span class="c-keyword">int</span> max_count, <span class="c-keyword">const</span> <span class="c-keyword">char</span>* filename) {
    FILE* fp = <span class="c-function">fopen</span>(filename, <span class="c-string">"r"</span>);
    <span class="c-keyword">if</span> (!fp) <span class="c-keyword">return</span> <span class="c-number">0</span>;
    
    <span class="c-keyword">int</span> count = <span class="c-number">0</span>;
    <span class="c-keyword">while</span> (count &lt; max_count &amp;&amp; 
           <span class="c-function">fscanf</span>(fp, <span class="c-string">"%d %49s %f"</span>, &amp;students[count].id, students[count].name, &amp;students[count].score) == <span class="c-number">3</span>) {
        count++;
    }
    <span class="c-function">fclose</span>(fp);
    <span class="c-keyword">return</span> count;
}

<span class="c-comment">// ä»äºŒè¿›åˆ¶æ–‡ä»¶åŠ è½½å­¦ç”Ÿä¿¡æ¯</span>
<span class="c-keyword">int</span> <span class="c-function">load_students_binary</span>(Student* students, <span class="c-keyword">int</span> max_count, <span class="c-keyword">const</span> <span class="c-keyword">char</span>* filename) {
    FILE* fp = <span class="c-function">fopen</span>(filename, <span class="c-string">"rb"</span>);
    <span class="c-keyword">if</span> (!fp) <span class="c-keyword">return</span> <span class="c-number">0</span>;
    
    <span class="c-keyword">size_t</span> read = <span class="c-function">fread</span>(students, <span class="c-keyword">sizeof</span>(Student), max_count, fp);
    <span class="c-function">fclose</span>(fp);
    <span class="c-keyword">return</span> (int)read;
}

<span class="c-comment">// æ˜¾ç¤ºå­¦ç”Ÿä¿¡æ¯</span>
<span class="c-keyword">void</span> <span class="c-function">display_students</span>(<span class="c-keyword">const</span> Student* students, <span class="c-keyword">int</span> count) {
    <span class="c-function">printf</span>(<span class="c-string">"å­¦ç”Ÿä¿¡æ¯:\n"</span>);
    <span class="c-keyword">for</span> (i = <span class="c-number">0</span>; i &lt; count; i++) {
        <span class="c-function">printf</span>(<span class="c-string">"ID: %d, å§“å: %s, æˆç»©: %.2f\n"</span>, 
               students[i].id, students[i].name, students[i].score);
    }
}

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    <span class="c-comment">// åˆ›å»ºå­¦ç”Ÿæ•°æ®</span>
    Student students[<span class="c-number">3</span>] = {
        {<span class="c-number">1</span>, <span class="c-string">"å¼ ä¸‰"</span>, <span class="c-number">85.5</span>},
        {<span class="c-number">2</span>, <span class="c-string">"æå››"</span>, <span class="c-number">92.0</span>},
        {<span class="c-number">3</span>, <span class="c-string">"ç‹äº”"</span>, <span class="c-number">78.8</span>}
    };
    
    <span class="c-function">printf</span>(<span class="c-string">"=== æ–‡æœ¬æ–‡ä»¶æ“ä½œ ===\n"</span>);
    save_students_text(students, <span class="c-number">3</span>, <span class="c-string">"students_text.txt"</span>);
    
    Student loaded_text[<span class="c-number">10</span>];
    <span class="c-keyword">int</span> count_text = load_students_text(loaded_text, <span class="c-number">10</span>, <span class="c-string">"students_text.txt"</span>);
    display_students(loaded_text, count_text);
    
    <span class="c-function">printf</span>(<span class="c-string">"\n=== äºŒè¿›åˆ¶æ–‡ä»¶æ“ä½œ ===\n"</span>);
    save_students_binary(students, <span class="c-number">3</span>, <span class="c-string">"students_binary.dat"</span>);
    
    Student loaded_binary[<span class="c-number">10</span>];
    <span class="c-keyword">int</span> count_binary = load_students_binary(loaded_binary, <span class="c-number">10</span>, <span class="c-string">"students_binary.dat"</span>);
    display_students(loaded_binary, count_binary);
    
    <span class="c-comment">// æ¯”è¾ƒæ–‡ä»¶å¤§å°</span>
    <span class="c-function">printf</span>(<span class="c-string">"\næ–‡ä»¶å¤§å°æ¯”è¾ƒ:\n"</span>);
    FILE* fp_text = <span class="c-function">fopen</span>(<span class="c-string">"students_text.txt"</span>, <span class="c-string">"rb"</span>);
    FILE* fp_binary = <span class="c-function">fopen</span>(<span class="c-string">"students_binary.dat"</span>, <span class="c-string">"rb"</span>);
    
    <span class="c-keyword">if</span> (fp_text &amp;&amp; fp_binary) {
        <span class="c-function">fseek</span>(fp_text, <span class="c-number">0</span>, SEEK_END);
        <span class="c-function">fseek</span>(fp_binary, <span class="c-number">0</span>, SEEK_END);
        <span class="c-function">printf</span>(<span class="c-string">"æ–‡æœ¬æ–‡ä»¶å¤§å°: %ld å­—èŠ‚\n"</span>, <span class="c-function">ftell</span>(fp_text));
        <span class="c-function">printf</span>(<span class="c-string">"äºŒè¿›åˆ¶æ–‡ä»¶å¤§å°: %ld å­—èŠ‚\n"</span>, <span class="c-function">ftell</span>(fp_binary));
    }
    
    <span class="c-keyword">if</span> (fp_text) <span class="c-function">fclose</span>(fp_text);
    <span class="c-keyword">if</span> (fp_binary) <span class="c-function">fclose</span>(fp_binary);
    
    <span class="c-comment">// æ¸…ç†æ–‡ä»¶</span>
    <span class="c-function">remove</span>(<span class="c-string">"students_text.txt"</span>);
    <span class="c-function">remove</span>(<span class="c-string">"students_binary.dat"</span>);
    
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">é«˜çº§æ–‡ä»¶æ“ä½œæŠ€å·§</h3>
                    <div class="code-block">
                        <div class="code-block-title">æ–‡ä»¶æ“ä½œé«˜çº§æŠ€å·§</div>
                        <pre><code><span class="c-keyword">#include</span> <span class="c-string">&lt;stdio.h&gt;</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;stdlib.h&gt;</span>
<span class="c-keyword">#include</span> <span class="c-string">&lt;string.h&gt;</span>

<span class="c-comment">// å¤åˆ¶æ–‡ä»¶</span>
<span class="c-keyword">int</span> <span class="c-function">copy_file</span>(<span class="c-keyword">const</span> <span class="c-keyword">char</span>* source, <span class="c-keyword">const</span> <span class="c-keyword">char</span>* destination) {
    FILE* src = <span class="c-function">fopen</span>(source, <span class="c-string">"rb"</span>);
    <span class="c-keyword">if</span> (!src) <span class="c-keyword">return</span> -<span class="c-number">1</span>;
    
    FILE* dest = <span class="c-function">fopen</span>(destination, <span class="c-string">"wb"</span>);
    <span class="c-keyword">if</span> (!dest) {
        <span class="c-function">fclose</span>(src);
        <span class="c-keyword">return</span> -<span class="c-number">1</span>;
    }
    
    <span class="c-keyword">char</span> buffer[<span class="c-number">4096</span>];
    <span class="c-keyword">size_t</span> bytes;
    <span class="c-keyword">while</span> ((bytes = <span class="c-function">fread</span>(buffer, <span class="c-number">1</span>, <span class="c-keyword">sizeof</span>(buffer), src)) &gt; <span class="c-number">0</span>) {
        <span class="c-function">fwrite</span>(buffer, <span class="c-number">1</span>, bytes, dest);
    }
    
    <span class="c-function">fclose</span>(src);
    <span class="c-function">fclose</span>(dest);
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}

<span class="c-comment">// è·å–æ–‡ä»¶è¡Œæ•°</span>
<span class="c-keyword">int</span> <span class="c-function">count_lines</span>(<span class="c-keyword">const</span> <span class="c-keyword">char</span>* filename) {
    FILE* fp = <span class="c-function">fopen</span>(filename, <span class="c-string">"r"</span>);
    <span class="c-keyword">if</span> (!fp) <span class="c-keyword">return</span> -<span class="c-number">1</span>;
    
    <span class="c-keyword">int</span> lines = <span class="c-number">0</span>;
    <span class="c-keyword">char</span> ch;
    <span class="c-keyword">while</span> ((ch = <span class="c-function">fgetc</span>(fp)) != EOF) {
        <span class="c-keyword">if</span> (ch == <span class="c-string">'\n'</span>) lines++;
    }
    
    <span class="c-comment">// å¤„ç†æœ€åä¸€è¡Œï¼ˆå¦‚æœæ²¡æœ‰æ¢è¡Œç¬¦ï¼‰</span>
    <span class="c-keyword">if</span> (lines == <span class="c-number">0</span> &amp;&amp; <span class="c-function">ftell</span>(fp) &gt; <span class="c-number">0</span>) lines = <span class="c-number">1</span>;
    
    <span class="c-function">fclose</span>(fp);
    <span class="c-keyword">return</span> lines;
}

<span class="c-comment">// æŸ¥æ‰¾å¹¶æ›¿æ¢æ–‡ä»¶ä¸­çš„æ–‡æœ¬</span>
<span class="c-keyword">int</span> <span class="c-function">replace_text_in_file</span>(<span class="c-keyword">const</span> <span class="c-keyword">char</span>* filename, <span class="c-keyword">const</span> <span class="c-keyword">char</span>* old_text, <span class="c-keyword">const</span> <span class="c-keyword">char</span>* new_text) {
    <span class="c-comment">// è¯»å–æ•´ä¸ªæ–‡ä»¶</span>
    FILE* fp = <span class="c-function">fopen</span>(filename, <span class="c-string">"r"</span>);
    <span class="c-keyword">if</span> (!fp) <span class="c-keyword">return</span> -<span class="c-number">1</span>;
    
    <span class="c-function">fseek</span>(fp, <span class="c-number">0</span>, SEEK_END);
    <span class="c-keyword">long</span> file_size = <span class="c-function">ftell</span>(fp);
    <span class="c-function">fseek</span>(fp, <span class="c-number">0</span>, SEEK_SET);
    
    <span class="c-keyword">char</span>* content = (<span class="c-keyword">char</span>*)<span class="c-function">malloc</span>(file_size + <span class="c-number">1</span>);
    <span class="c-keyword">if</span> (!content) {
        <span class="c-function">fclose</span>(fp);
        <span class="c-keyword">return</span> -<span class="c-number">1</span>;
    }
    
    <span class="c-function">fread</span>(content, <span class="c-number">1</span>, file_size, fp);
    content[file_size] = <span class="c-string">'\0'</span>;
    <span class="c-function">fclose</span>(fp);
    
    <span class="c-comment">// æŸ¥æ‰¾å¹¶æ›¿æ¢</span>
    <span class="c-keyword">char</span>* pos = content;
    <span class="c-keyword">int</span> replacements = <span class="c-number">0</span>;
    <span class="c-keyword">while</span> ((pos = <span class="c-function">strstr</span>(pos, old_text)) != NULL) {
        <span class="c-comment">// è¿™é‡Œç®€åŒ–å¤„ç†ï¼Œå®é™…éœ€è¦æ›´å¤æ‚çš„å­—ç¬¦ä¸²æ›¿æ¢é€»è¾‘</span>
        <span class="c-comment">// ä¸ºäº†æ¼”ç¤ºï¼Œæˆ‘ä»¬åªè®¡æ•°æ›¿æ¢æ¬¡æ•°</span>
        replacements++;
        pos += <span class="c-function">strlen</span>(old_text);
    }
    
    <span class="c-function">free</span>(content);
    <span class="c-keyword">return</span> replacements;
}

<span class="c-comment">// åˆå¹¶å¤šä¸ªæ–‡ä»¶</span>
<span class="c-keyword">int</span> <span class="c-function">merge_files</span>(<span class="c-keyword">const</span> <span class="c-keyword">char</span>* output_file, <span class="c-keyword">const</span> <span class="c-keyword">char</span>** input_files, <span class="c-keyword">int</span> file_count) {
    FILE* out = <span class="c-function">fopen</span>(output_file, <span class="c-string">"wb"</span>);
    <span class="c-keyword">if</span> (!out) <span class="c-keyword">return</span> -<span class="c-number">1</span>;
    
    <span class="c-keyword">for</span> (i = <span class="c-number">0</span>; i &lt; file_count; i++) {
        FILE* in = <span class="c-function">fopen</span>(input_files[i], <span class="c-string">"rb"</span>);
        <span class="c-keyword">if</span> (!in) <span class="c-keyword">continue</span>;
        
        <span class="c-keyword">char</span> buffer[<span class="c-number">4096</span>];
        <span class="c-keyword">size_t</span> bytes;
        <span class="c-keyword">while</span> ((bytes = <span class="c-function">fread</span>(buffer, <span class="c-number">1</span>, <span class="c-keyword">sizeof</span>(buffer), in)) &gt; <span class="c-number">0</span>) {
            <span class="c-function">fwrite</span>(buffer, <span class="c-number">1</span>, bytes, out);
        }
        
        <span class="c-function">fclose</span>(in);
    }
    
    <span class="c-function">fclose</span>(out);
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}

<span class="c-comment">// æ¼”ç¤ºé«˜çº§æ–‡ä»¶æ“ä½œ</span>
<span class="c-keyword">void</span> <span class="c-function">demo_advanced_file_ops</span>() {
    <span class="c-comment">// åˆ›å»ºæµ‹è¯•æ–‡ä»¶</span>
    FILE* fp1 = <span class="c-function">fopen</span>(<span class="c-string">"file1.txt"</span>, <span class="c-string">"w"</span>);
    FILE* fp2 = <span class="c-function">fopen</span>(<span class="c-string">"file2.txt"</span>, <span class="c-string">"w"</span>);
    
    <span class="c-keyword">if</span> (fp1 &amp;&amp; fp2) {
        <span class="c-function">fprintf</span>(fp1, <span class="c-string">"è¿™æ˜¯ç¬¬ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹\n"</span>);
        <span class="c-function">fprintf</span>(fp1, <span class="c-string">"åŒ…å«ä¸¤è¡Œ\n"</span>);
        
        <span class="c-function">fprintf</span>(fp2, <span class="c-string">"è¿™æ˜¯ç¬¬äºŒä¸ªæ–‡ä»¶çš„å†…å®¹\n"</span>);
        <span class="c-function">fprintf</span>(fp2, <span class="c-string">"ä¹ŸåŒ…å«ä¸¤è¡Œ\n"</span>);
    }
    
    <span class="c-keyword">if</span> (fp1) <span class="c-function">fclose</span>(fp1);
    <span class="c-keyword">if</span> (fp2) <span class="c-function">fclose</span>(fp2);
    
    <span class="c-comment">// å¤åˆ¶æ–‡ä»¶</span>
    <span class="c-function">printf</span>(<span class="c-string">"å¤åˆ¶æ–‡ä»¶: %s\n"</span>, copy_file(<span class="c-string">"file1.txt"</span>, <span class="c-string">"file1_copy.txt"</span>) == <span class="c-number">0</span> ? <span class="c-string">"æˆåŠŸ"</span> : <span class="c-string">"å¤±è´¥"</span>);
    
    <span class="c-comment">// ç»Ÿè®¡è¡Œæ•°</span>
    <span class="c-keyword">int</span> lines = count_lines(<span class="c-string">"file1.txt"</span>);
    <span class="c-function">printf</span>(<span class="c-string">"file1.txt æœ‰ %d è¡Œ\n"</span>, lines);
    
    <span class="c-comment">// åˆå¹¶æ–‡ä»¶</span>
    <span class="c-keyword">const</span> <span class="c-keyword">char</span>* files_to_merge[] = {<span class="c-string">"file1.txt"</span>, <span class="c-string">"file2.txt"</span>};
    <span class="c-function">printf</span>(<span class="c-string">"åˆå¹¶æ–‡ä»¶: %s\n"</span>, merge_files(<span class="c-string">"merged.txt"</span>, files_to_merge, <span class="c-number">2</span>) == <span class="c-number">0</span> ? <span class="c-string">"æˆåŠŸ"</span> : <span class="c-string">"å¤±è´¥"</span>);
    
    <span class="c-comment">// æ¸…ç†æ–‡ä»¶</span>
    <span class="c-function">remove</span>(<span class="c-string">"file1.txt"</span>);
    <span class="c-function">remove</span>(<span class="c-string">"file2.txt"</span>);
    <span class="c-function">remove</span>(<span class="c-string">"file1_copy.txt"</span>);
    <span class="c-function">remove</span>(<span class="c-string">"merged.txt"</span>);
}

<span class="c-keyword">int</span> <span class="c-function">main</span>() {
    demo_advanced_file_ops();
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
                    </div>
                </div>
            </section>

            <!-- ç»ƒä¹ é¢˜ -->

    </main>

    <script>
        // ä¸ºæ‰€æœ‰ä»£ç å—æ·»åŠ å¤åˆ¶æŒ‰é’®
        document.addEventListener('DOMContentLoaded', function() {
            const codeBlocks = document.querySelectorAll('.code-block');
            
            codeBlocks.forEach(function(block) {
                const title = block.querySelector('.code-block-title');
                if (title) {
                    // åˆ›å»ºå¤åˆ¶æŒ‰é’®
                    const copyButton = document.createElement('button');
                    copyButton.className = 'copy-button';
                    copyButton.textContent = 'å¤åˆ¶';
                    
                    // æ·»åŠ ç‚¹å‡»äº‹ä»¶
                    copyButton.addEventListener('click', function() {
                        const code = block.querySelector('code');
                        if (code) {
                            // è·å–ä»£ç å†…å®¹
                            const textToCopy = code.textContent;
                            
                            // åˆ›å»ºä¸´æ—¶æ–‡æœ¬åŒºåŸŸ
                            const textArea = document.createElement('textarea');
                            textArea.value = textToCopy;
                            document.body.appendChild(textArea);
                            textArea.select();
                            
                            try {
                                // æ‰§è¡Œå¤åˆ¶å‘½ä»¤
                                const successful = document.execCommand('copy');
                                if (successful) {
                                    // æ˜¾ç¤ºå¤åˆ¶æˆåŠŸçŠ¶æ€
                                    copyButton.textContent = 'å·²å¤åˆ¶';
                                    copyButton.classList.add('copied');
                                    
                                    // 2ç§’åæ¢å¤æŒ‰é’®çŠ¶æ€
                                    setTimeout(function() {
                                        copyButton.textContent = 'å¤åˆ¶';
                                        copyButton.classList.remove('copied');
                                    }, 2000);
                                }
                            } catch (err) {
                                console.error('å¤åˆ¶å¤±è´¥:', err);
                            }
                            
                            // ç§»é™¤ä¸´æ—¶æ–‡æœ¬åŒºåŸŸ
                            document.body.removeChild(textArea);
                        }
                    });
                    
                    // å°†æŒ‰é’®æ·»åŠ åˆ°æ ‡é¢˜æ 
                    title.appendChild(copyButton);
                }
            });
        });

        // å¯¼èˆªæ é«˜äº®æ•ˆæœ
        document.addEventListener('DOMContentLoaded', function() {
            const navLinks = document.querySelectorAll('.tutorial-nav a');
            const sections = document.querySelectorAll('.section');
            
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    navLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                });
            });
            
            const observerOptions = {
                root: null,
                rootMargin: '-20% 0px -70% 0px',
                threshold: 0
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.getAttribute('id');
                        navLinks.forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href') === `#${id}`) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }, observerOptions);
            
            sections.forEach(section => observer.observe(section));
        });
    </script>
</body>
</html>