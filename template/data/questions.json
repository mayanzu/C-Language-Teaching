[
  {
    "id": 1,
    "question": "若int a=2;，执行以下代码后输出结果是？\n\n```c\nswitch(a) {\n    case 1: printf(\"A\"); break;\n    case 2: printf(\"B\");\n    case 3: printf(\"C\"); break;\n    default: printf(\"D\");\n}\n```",
    "options": {
      "A": "B",
      "B": "BC",
      "C": "BCD",
      "D": "无输出"
    },
    "correctAnswer": "B",
    "explanation": "当a=2时，switch语句匹配到case 2，执行printf(\"B\")。由于case 2后面没有break语句，会继续执行case 3的printf(\"C\")，然后遇到break跳出switch。所以输出结果是\"BC\"。这体现了switch语句的fall-through（贯穿）特性。",
    "codeExample": "#include <stdio.h>\n\nint main() {\n    int a = 2;\n    switch(a) {\n        case 1: printf(\"A\"); break;\n        case 2: printf(\"B\");\n        case 3: printf(\"C\"); break;\n        default: printf(\"D\");\n    }\n    // 输出: BC\n    return 0;\n}"
  },
  {
    "id": 2,
    "question": "以下switch代码片段中，语法正确的是？\n\nA.\n\n```c\nswitch(3) {\n    case 1: int x=10; break;\n    case 2: x=20; break;\n}\n```\n\nB.\n\n```c\nswitch('a') {\n    case 'A': printf(\"大写\"); break;\n    case 'a': printf(\"小写\"); break;\n}\n```\n\nC.\n\n```c\nswitch(5>3) {\n    case 1: printf(\"真\"); break;\n    case 0: printf(\"假\"); break;\n}\n```\n\nD.\n\n```c\nswitch(2) {\n    case 1+1: printf(\"等于2\"); break; // 注：1+1是常量表达式\n}\n```",
    "options": {
      "A": "选项A语法正确",
      "B": "选项B语法正确", 
      "C": "选项C语法正确",
      "D": "选项D语法正确"
    },
    "correctAnswer": "D",
    "explanation": "D正确：1+1是常量表达式，可以用于case。A错误：变量x的作用域问题，在case中声明变量需要加花括号。B错误：虽然字符常量语法正确，但case 'A'和case 'a'是不同的字符。C错误：switch表达式不能是布尔值，5>3的结果是布尔类型。",
    "codeExample": "#include <stdio.h>\nint main() {\n    // 正确的代码（选项D）\n    switch(2) {\n        case 1+1: printf(\"等于2\"); break; // 1+1是常量表达式2\n    }\n    // 输出：等于2\n    \n    // 错误的代码示例（选项A的问题）\n    /*\n    switch(3) {\n        case 1: int x=10; break;  // 错误：需要加花括号\n        case 2: x=20; break;      // x未定义\n    }\n    */\n    \n    // 修正选项A的代码\n    switch(3) {\n        case 1: { int x=10; break; }  // 正确：加花括号限制作用域\n        case 2: { int x=20; break; }  // 正确：每个case都有自己的x\n    }\n    \n    return 0;\n}"
  }
]